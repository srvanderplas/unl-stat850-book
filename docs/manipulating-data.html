<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 5 Manipulating Data | Stat 850: Computing Tools for Statisticians</title>
  <meta name="description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="generator" content="bookdown 0.19.1 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 5 Manipulating Data | Stat 850: Computing Tools for Statisticians" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 5 Manipulating Data | Stat 850: Computing Tools for Statisticians" />
  
  <meta name="twitter:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  

<meta name="author" content="Susan Vanderplas" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reading-data.html"/>
<link rel="next" href="transforming-data.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script>

(function() {
  var codes = document.querySelectorAll('pre:not([class])');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Answers';
    // <details><summary>Answers</summary></details>
      d.appendChild(s);
    // move the code into <details>
      p.replaceChild(d, code);
    d.appendChild(code);
  }
})();
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Statistical Computing</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>1</b> Tools for Statistical Computing</a><ul>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#module-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="1.1" data-path="tools.html"><a href="tools.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> R and RStudio</a><ul>
<li class="chapter" data-level="1.1.1" data-path="tools.html"><a href="tools.html#getting-set-up-r"><i class="fa fa-check"></i><b>1.1.1</b> Getting Set up: R</a></li>
<li class="chapter" data-level="1.1.2" data-path="tools.html"><a href="tools.html#exploring-rstudio"><i class="fa fa-check"></i><b>1.1.2</b> Exploring RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="tools.html"><a href="tools.html#sas"><i class="fa fa-check"></i><b>1.2</b> SAS</a><ul>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#note"><i class="fa fa-check"></i>Note</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="tools.html"><a href="tools.html#version-control-with-git"><i class="fa fa-check"></i><b>1.3</b> Version Control with Git</a><ul>
<li class="chapter" data-level="1.3.1" data-path="tools.html"><a href="tools.html#getting-set-up-github"><i class="fa fa-check"></i><b>1.3.1</b> Getting set up: github</a></li>
<li class="chapter" data-level="1.3.2" data-path="tools.html"><a href="tools.html#getting-set-up-git"><i class="fa fa-check"></i><b>1.3.2</b> Getting set up: git</a></li>
<li class="chapter" data-level="1.3.3" data-path="tools.html"><a href="tools.html#introduce-yourself-to-git"><i class="fa fa-check"></i><b>1.3.3</b> Introduce yourself to git</a></li>
<li class="chapter" data-level="1.3.4" data-path="tools.html"><a href="tools.html#optional-install-a-git-client"><i class="fa fa-check"></i><b>1.3.4</b> Optional: Install a git client</a></li>
<li class="chapter" data-level="1.3.5" data-path="tools.html"><a href="tools.html#git-and-github"><i class="fa fa-check"></i><b>1.3.5</b> Git and Github</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tools.html"><a href="tools.html#easy-extra-setup-script"><i class="fa fa-check"></i><b>1.4</b> Easy Extra Setup Script</a></li>
<li class="chapter" data-level="1.5" data-path="tools.html"><a href="tools.html#latex"><i class="fa fa-check"></i><b>1.5</b> LaTeX</a></li>
<li class="chapter" data-level="1.6" data-path="tools.html"><a href="tools.html#topic-sequencing"><i class="fa fa-check"></i><b>1.6</b> Topic Sequencing</a></li>
<li class="chapter" data-level="1.7" data-path="tools.html"><a href="tools.html#using-version-control"><i class="fa fa-check"></i><b>1.7</b> Using Version Control</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-prog.html"><a href="intro-prog.html"><i class="fa fa-check"></i><b>2</b> Introduction to Statistical Programming</a><ul>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#module-objectives-1"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#definitions"><i class="fa fa-check"></i>Definitions</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#statistical-programming-languages"><i class="fa fa-check"></i>Statistical Programming Languages</a></li>
<li class="chapter" data-level="2.1" data-path="intro-prog.html"><a href="intro-prog.html#variable-types"><i class="fa fa-check"></i><b>2.1</b> Variable types</a><ul>
<li class="chapter" data-level="2.1.1" data-path="intro-prog.html"><a href="intro-prog.html#r"><i class="fa fa-check"></i><b>2.1.1</b> R</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro-prog.html"><a href="intro-prog.html#sas-1"><i class="fa fa-check"></i><b>2.1.2</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro-prog.html"><a href="intro-prog.html#data-structures"><i class="fa fa-check"></i><b>2.2</b> Data structures</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro-prog.html"><a href="intro-prog.html#homogeneous-data-structures-r-and-sas"><i class="fa fa-check"></i><b>2.2.1</b> Homogeneous data structures (R and SAS)</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro-prog.html"><a href="intro-prog.html#heterogeneous-data-structures"><i class="fa fa-check"></i><b>2.2.2</b> Heterogeneous data structures</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro-prog.html"><a href="intro-prog.html#indexing"><i class="fa fa-check"></i><b>2.2.3</b> Indexing</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro-prog.html"><a href="intro-prog.html#control-structures"><i class="fa fa-check"></i><b>2.3</b> Control structures</a><ul>
<li class="chapter" data-level="2.3.1" data-path="intro-prog.html"><a href="intro-prog.html#if-statements"><i class="fa fa-check"></i><b>2.3.1</b> If statements</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro-prog.html"><a href="intro-prog.html#loops"><i class="fa fa-check"></i><b>2.3.2</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro-prog.html"><a href="intro-prog.html#overgrown-calculators"><i class="fa fa-check"></i><b>2.4</b> Overgrown Calculators</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#references-and-links"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="organization.html"><a href="organization.html"><i class="fa fa-check"></i><b>3</b> Organization: Packages, Functions, Scripts, and Documents</a><ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#module-objectives-2"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="3.1" data-path="organization.html"><a href="organization.html#reproducibility"><i class="fa fa-check"></i><b>3.1</b> Reproducibility</a><ul>
<li class="chapter" data-level="3.1.1" data-path="organization.html"><a href="organization.html#reproducibility-references-and-reading"><i class="fa fa-check"></i><b>3.1.1</b> Reproducibility References and Reading</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="organization.html"><a href="organization.html#markdown"><i class="fa fa-check"></i><b>3.2</b> Markdown</a><ul>
<li class="chapter" data-level="3.2.1" data-path="organization.html"><a href="organization.html#rmarkdown-with-sas"><i class="fa fa-check"></i><b>3.2.1</b> Rmarkdown with… SAS?</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="organization.html"><a href="organization.html#functions-and-modules"><i class="fa fa-check"></i><b>3.3</b> Functions and Modules</a><ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-6"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="3.3.1" data-path="organization.html"><a href="organization.html#scope"><i class="fa fa-check"></i><b>3.3.1</b> Scope</a></li>
<li class="chapter" data-level="3.3.2" data-path="organization.html"><a href="organization.html#infix-operators-and-the-pipe-in-r"><i class="fa fa-check"></i><b>3.3.2</b> Infix operators and the pipe in R</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="organization.html"><a href="organization.html#procs-and-data-steps"><i class="fa fa-check"></i><b>3.4</b> Procs and Data steps</a></li>
<li class="chapter" data-level="3.5" data-path="organization.html"><a href="organization.html#scripts"><i class="fa fa-check"></i><b>3.5</b> Scripts</a><ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-8"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="organization.html"><a href="organization.html#packages-and-modules"><i class="fa fa-check"></i><b>3.6</b> Packages and Modules</a><ul>
<li class="chapter" data-level="3.6.1" data-path="organization.html"><a href="organization.html#r-1"><i class="fa fa-check"></i><b>3.6.1</b> R</a></li>
<li class="chapter" data-level="3.6.2" data-path="organization.html"><a href="organization.html#sas-2"><i class="fa fa-check"></i><b>3.6.2</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#references-and-links-1"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>4</b> External Data</a><ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#module-objectives-3"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="4.1" data-path="reading-data.html"><a href="reading-data.html#external-data-formats"><i class="fa fa-check"></i><b>4.1</b> External Data Formats</a></li>
<li class="chapter" data-level="4.2" data-path="reading-data.html"><a href="reading-data.html#text-files"><i class="fa fa-check"></i><b>4.2</b> Text Files</a><ul>
<li class="chapter" data-level="4.2.1" data-path="reading-data.html"><a href="reading-data.html#fixed-width-files"><i class="fa fa-check"></i><b>4.2.1</b> Fixed-width files</a></li>
<li class="chapter" data-level="4.2.2" data-path="reading-data.html"><a href="reading-data.html#delimited-text-files"><i class="fa fa-check"></i><b>4.2.2</b> Delimited Text Files</a></li>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-9"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reading-data.html"><a href="reading-data.html#spreadsheets"><i class="fa fa-check"></i><b>4.3</b> Spreadsheets</a><ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-10"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reading-data.html"><a href="reading-data.html#binary-files"><i class="fa fa-check"></i><b>4.4</b> Binary Files</a><ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-11"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="reading-data.html"><a href="reading-data.html#databases"><i class="fa fa-check"></i><b>4.5</b> Databases</a><ul>
<li class="chapter" data-level="4.5.1" data-path="reading-data.html"><a href="reading-data.html#microsoft-access"><i class="fa fa-check"></i><b>4.5.1</b> Microsoft Access</a></li>
<li class="chapter" data-level="4.5.2" data-path="reading-data.html"><a href="reading-data.html#sqlite"><i class="fa fa-check"></i><b>4.5.2</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="reading-data.html"><a href="reading-data.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>4.6</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="4.6.1" data-path="reading-data.html"><a href="reading-data.html#sas-3"><i class="fa fa-check"></i><b>4.6.1</b> SAS</a></li>
<li class="chapter" data-level="4.6.2" data-path="reading-data.html"><a href="reading-data.html#r-2"><i class="fa fa-check"></i><b>4.6.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="reading-data.html"><a href="reading-data.html#references"><i class="fa fa-check"></i><b>4.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulating-data.html"><a href="manipulating-data.html"><i class="fa fa-check"></i><b>5</b> Manipulating Data</a><ul>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#module-objectives-4"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="5.1" data-path="manipulating-data.html"><a href="manipulating-data.html#tidy-data"><i class="fa fa-check"></i><b>5.1</b> Tidy Data</a></li>
<li class="chapter" data-level="5.2" data-path="manipulating-data.html"><a href="manipulating-data.html#filter-pick-cases-rows-based-on-their-values"><i class="fa fa-check"></i><b>5.2</b> Filter: Pick cases (rows) based on their values</a><ul>
<li class="chapter" data-level="5.2.1" data-path="manipulating-data.html"><a href="manipulating-data.html#common-filter-operations"><i class="fa fa-check"></i><b>5.2.1</b> Common filter operations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="manipulating-data.html"><a href="manipulating-data.html#select-pick-columns"><i class="fa fa-check"></i><b>5.3</b> Select: Pick columns</a></li>
<li class="chapter" data-level="5.4" data-path="manipulating-data.html"><a href="manipulating-data.html#group-by"><i class="fa fa-check"></i><b>5.4</b> Group By</a></li>
<li class="chapter" data-level="5.5" data-path="manipulating-data.html"><a href="manipulating-data.html#summarize"><i class="fa fa-check"></i><b>5.5</b> Summarize</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>6</b> Transforming Data</a><ul>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#module-objectives-5"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="6.1" data-path="transforming-data.html"><a href="transforming-data.html#pivot-operations"><i class="fa fa-check"></i><b>6.1</b> Pivot operations</a><ul>
<li class="chapter" data-level="6.1.1" data-path="transforming-data.html"><a href="transforming-data.html#wider"><i class="fa fa-check"></i><b>6.1.1</b> Wider</a></li>
<li class="chapter" data-level="6.1.2" data-path="transforming-data.html"><a href="transforming-data.html#longer"><i class="fa fa-check"></i><b>6.1.2</b> Longer</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="transforming-data.html"><a href="transforming-data.html#summaries"><i class="fa fa-check"></i><b>6.2</b> Summaries</a></li>
<li class="chapter" data-level="6.3" data-path="transforming-data.html"><a href="transforming-data.html#separating-one-variable-into-many"><i class="fa fa-check"></i><b>6.3</b> Separating one variable into many</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>7</b> Principles of Debugging</a><ul>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#module-objectives-6"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="7.1" data-path="debugging.html"><a href="debugging.html#ideal-function-design"><i class="fa fa-check"></i><b>7.1</b> Ideal Function Design</a></li>
<li class="chapter" data-level="7.2" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-r"><i class="fa fa-check"></i><b>7.2</b> Debugging Tools in R</a></li>
<li class="chapter" data-level="7.3" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-sas"><i class="fa fa-check"></i><b>7.3</b> Debugging Tools in SAS</a></li>
<li class="chapter" data-level="7.4" data-path="debugging.html"><a href="debugging.html#minimal-working-examples"><i class="fa fa-check"></i><b>7.4</b> Minimal Working Examples</a></li>
<li class="chapter" data-level="7.5" data-path="debugging.html"><a href="debugging.html#researching-error-messages"><i class="fa fa-check"></i><b>7.5</b> Researching Error Messages</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-vis-intro.html"><a href="data-vis-intro.html"><i class="fa fa-check"></i><b>8</b> Introduction to Data Visualization</a><ul>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#module-objectives-7"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="8.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#creating-charts-in-sas"><i class="fa fa-check"></i><b>8.1</b> Creating Charts in SAS</a></li>
<li class="chapter" data-level="8.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#creating-charts-in-r-base"><i class="fa fa-check"></i><b>8.2</b> Creating Charts in R (base)</a></li>
<li class="chapter" data-level="8.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>8.3</b> The Grammar of Graphics</a></li>
<li class="chapter" data-level="8.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#good-charts"><i class="fa fa-check"></i><b>8.4</b> Good charts</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-analysis.html"><a href="data-analysis.html"><i class="fa fa-check"></i><b>9</b> Introduction to Data Analysis</a><ul>
<li class="chapter" data-level="" data-path="data-analysis.html"><a href="data-analysis.html#module-objectives-8"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="9.1" data-path="data-analysis.html"><a href="data-analysis.html#models-in-sas"><i class="fa fa-check"></i><b>9.1</b> Models in SAS</a></li>
<li class="chapter" data-level="9.2" data-path="data-analysis.html"><a href="data-analysis.html#models-in-r"><i class="fa fa-check"></i><b>9.2</b> Models in R</a><ul>
<li class="chapter" data-level="9.2.1" data-path="data-analysis.html"><a href="data-analysis.html#standard-models"><i class="fa fa-check"></i><b>9.2.1</b> Standard Models</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-analysis.html"><a href="data-analysis.html#tidymodels"><i class="fa fa-check"></i><b>9.2.2</b> Tidymodels</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>10</b> Simulation and Reproducibility</a><ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#module-objectives-9"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="10.1" data-path="simulation.html"><a href="simulation.html#pseudorandom-number-generation"><i class="fa fa-check"></i><b>10.1</b> Pseudorandom Number Generation</a></li>
<li class="chapter" data-level="10.2" data-path="simulation.html"><a href="simulation.html#random-number-generation-and-reproducibility"><i class="fa fa-check"></i><b>10.2</b> Random Number Generation and Reproducibility</a><ul>
<li class="chapter" data-level="10.2.1" data-path="simulation.html"><a href="simulation.html#seeds"><i class="fa fa-check"></i><b>10.2.1</b> Seeds</a></li>
<li class="chapter" data-level="10.2.2" data-path="simulation.html"><a href="simulation.html#rmarkdown-reproducibility"><i class="fa fa-check"></i><b>10.2.2</b> Rmarkdown Reproducibility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="docs-reports.html"><a href="docs-reports.html"><i class="fa fa-check"></i><b>11</b> Documents and Reports</a><ul>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#module-objectives-10"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="11.1" data-path="docs-reports.html"><a href="docs-reports.html#slides"><i class="fa fa-check"></i><b>11.1</b> Slides</a><ul>
<li class="chapter" data-level="11.1.1" data-path="docs-reports.html"><a href="docs-reports.html#beamer-latex-and-knitr"><i class="fa fa-check"></i><b>11.1.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="11.1.2" data-path="docs-reports.html"><a href="docs-reports.html#xaringan"><i class="fa fa-check"></i><b>11.1.2</b> xaringan</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="docs-reports.html"><a href="docs-reports.html#posters"><i class="fa fa-check"></i><b>11.2</b> Posters</a><ul>
<li class="chapter" data-level="11.2.1" data-path="docs-reports.html"><a href="docs-reports.html#beamer-latex-and-knitr-1"><i class="fa fa-check"></i><b>11.2.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="11.2.2" data-path="docs-reports.html"><a href="docs-reports.html#pagedown"><i class="fa fa-check"></i><b>11.2.2</b> Pagedown</a></li>
<li class="chapter" data-level="11.2.3" data-path="docs-reports.html"><a href="docs-reports.html#xaringan-1"><i class="fa fa-check"></i><b>11.2.3</b> xaringan</a></li>
<li class="chapter" data-level="11.2.4" data-path="docs-reports.html"><a href="docs-reports.html#pagedown-1"><i class="fa fa-check"></i><b>11.2.4</b> pagedown</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="docs-reports.html"><a href="docs-reports.html#other-options"><i class="fa fa-check"></i><b>11.3</b> Other options</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>12</b> Dynamic Presentations</a><ul>
<li class="chapter" data-level="12.1" data-path="presentations.html"><a href="presentations.html#slides-1"><i class="fa fa-check"></i><b>12.1</b> Slides</a><ul>
<li class="chapter" data-level="12.1.1" data-path="presentations.html"><a href="presentations.html#beamer-latex-and-knitr-2"><i class="fa fa-check"></i><b>12.1.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="12.1.2" data-path="presentations.html"><a href="presentations.html#xaringan-2"><i class="fa fa-check"></i><b>12.1.2</b> xaringan</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="presentations.html"><a href="presentations.html#posters-1"><i class="fa fa-check"></i><b>12.2</b> Posters</a><ul>
<li class="chapter" data-level="12.2.1" data-path="presentations.html"><a href="presentations.html#beamer-latex-and-knitr-3"><i class="fa fa-check"></i><b>12.2.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="12.2.2" data-path="presentations.html"><a href="presentations.html#pagedown-2"><i class="fa fa-check"></i><b>12.2.2</b> Pagedown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-1.html"><a href="references-1.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stat 850: Computing Tools for Statisticians</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="manipulating-data" class="section level1">
<h1><span class="header-section-number">Module 5</span> Manipulating Data</h1>
<div id="module-objectives-4" class="section level2 unnumbered">
<h2>Module Objectives</h2>
<ul>
<li>Filter, subset, and clean data to prepare a dataset for analysis</li>
<li>Describe and document operations performed on a data set transparently, and implement the operations using reproducible steps.</li>
</ul>
<p>In this section, we’re going to start out by learning how to work with data. Generally speaking, data doesn’t come in a form suitable for analysis - you have to clean it up, create the variables you care about, get rid of those you don’t care about, and so on.</p>
<p>In R, we’ll be using the <code>tidyverse</code> for this. It’s a meta-package (a package that just loads other packages) that [collects packages designed with the same philosophy<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a> and interface (basically, the commands will use predictable argument names and structure). You’ve already been introduced to the tidyverse - specifically, <code>readr</code>.</p>
<p>In SAS, there is no tidyverse, but there is a relatively consistent structure for how to accomplish each task. Most data cleaning in SAS is accomplished in data steps. In the interests of not confusing terms too much between languages, I’m going to use the tidyverse “verbs” to describe operations in both SAS and R.</p>
<p><code>dplyr</code> (one of the packages in the tidyverse) creates a “grammar of data manipulation” to make it easier to describe different operations. I find the <code>dplyr</code> grammar to be extremely useful when talking about data operations, so I’m going to attempt to show you how to do the same operations in R with dplyr, and in SAS (without the underlying framework). Each verb describes a common task when doing both exploratory data analysis and more formal statistical modeling.</p>
<div class="learn-more">
<a href="https://github.com/rstudio/cheatsheets/blob/master/data-transformation.pdf">There is an excellent dplyr cheatsheet available from RStudio</a>. You may want to print it out to have a copy to reference as you work through this chapter.
</div>
</div>
<div id="tidy-data" class="section level2">
<h2><span class="header-section-number">5.1</span> Tidy Data</h2>
<p>There are infinitely many ways to configure “messy” data, but data that is “tidy” has 3 attributes:</p>
<ol style="list-style-type: decimal">
<li>Each variable has its own column</li>
<li>Each observation has its own row</li>
<li>Each value has its own cell</li>
</ol>
<p>We’ll get more into how to work with different “messy” data configurations in the next module, but it’s worth keeping rules 1 and 3 in mind while working through this module.</p>
</div>
<div id="filter-pick-cases-rows-based-on-their-values" class="section level2">
<h2><span class="header-section-number">5.2</span> Filter: Pick cases (rows) based on their values</h2>
<p>Filter allows us to work with a subset of a larger data frame, keeping only the rows we’re interested in. We provide one or more logical conditions, and only those rows which meet the logical conditions are returned from <code>filter()</code>. Note that unless we store the result from <code>filter()</code> in the original object, we don’t change the original.</p>
Let’s explore how it works, using the <code>starwars</code> dataset, which contains a comprehensive list of the characters in the Star Wars movies.
<details>
<p><summary>Data set up</summary></p>
<p>This data set is included in the <code>dplyr</code> package, so we load that package and then use the <code>data()</code> function to load dataset into memory. The loading isn’t complete until we actually use the dataset though… so let’s print the first few rows.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb185-1" data-line-number="1"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb185-2" data-line-number="2"><span class="kw">data</span>(starwars)</a>
<a class="sourceLine" id="cb185-3" data-line-number="3">starwars</a>
<a class="sourceLine" id="cb185-4" data-line-number="4"><span class="co"># A tibble: 87 x 14</span></a>
<a class="sourceLine" id="cb185-5" data-line-number="5">   name  height  mass hair_color skin_color eye_color birth_year sex   gender</a>
<a class="sourceLine" id="cb185-6" data-line-number="6">   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb185-7" data-line-number="7"><span class="st"> </span><span class="dv">1</span> Luke…    <span class="dv">172</span>    <span class="dv">77</span> blond      fair       blue            <span class="dv">19</span>   male  mascu…</a>
<a class="sourceLine" id="cb185-8" data-line-number="8"> <span class="dv">2</span> C<span class="op">-</span>3PO    <span class="dv">167</span>    <span class="dv">75</span> <span class="op">&lt;</span><span class="ot">NA</span><span class="op">&gt;</span><span class="st">       </span>gold       yellow         <span class="dv">112</span>   none  mascu…</a>
<a class="sourceLine" id="cb185-9" data-line-number="9"> <span class="dv">3</span> R2<span class="op">-</span>D2     <span class="dv">96</span>    <span class="dv">32</span> <span class="op">&lt;</span><span class="ot">NA</span><span class="op">&gt;</span><span class="st">       </span>white, bl… red             <span class="dv">33</span>   none  mascu…</a>
<a class="sourceLine" id="cb185-10" data-line-number="10"> <span class="dv">4</span> Dart…    <span class="dv">202</span>   <span class="dv">136</span> none       white      yellow          <span class="fl">41.9</span> male  mascu…</a>
<a class="sourceLine" id="cb185-11" data-line-number="11"> <span class="dv">5</span> Leia…    <span class="dv">150</span>    <span class="dv">49</span> brown      light      brown           <span class="dv">19</span>   fema… femin…</a>
<a class="sourceLine" id="cb185-12" data-line-number="12"> <span class="dv">6</span> Owen…    <span class="dv">178</span>   <span class="dv">120</span> brown, gr… light      blue            <span class="dv">52</span>   male  mascu…</a>
<a class="sourceLine" id="cb185-13" data-line-number="13"> <span class="dv">7</span> Beru…    <span class="dv">165</span>    <span class="dv">75</span> brown      light      blue            <span class="dv">47</span>   fema… femin…</a>
<a class="sourceLine" id="cb185-14" data-line-number="14"> <span class="dv">8</span> R5<span class="op">-</span>D4     <span class="dv">97</span>    <span class="dv">32</span> <span class="op">&lt;</span><span class="ot">NA</span><span class="op">&gt;</span><span class="st">       </span>white, red red             <span class="ot">NA</span>   none  mascu…</a>
<a class="sourceLine" id="cb185-15" data-line-number="15"> <span class="dv">9</span> Bigg…    <span class="dv">183</span>    <span class="dv">84</span> black      light      brown           <span class="dv">24</span>   male  mascu…</a>
<a class="sourceLine" id="cb185-16" data-line-number="16"><span class="dv">10</span> Obi<span class="op">-</span>…    <span class="dv">182</span>    <span class="dv">77</span> auburn, w… fair       blue<span class="op">-</span>gray       <span class="dv">57</span>   male  mascu…</a>
<a class="sourceLine" id="cb185-17" data-line-number="17"><span class="co"># … with 77 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb185-18" data-line-number="18"><span class="co">#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</span></a></code></pre></div>
<p>In the interests of demonstrating the process on the same data, I’ve exported the starwars data to a CSV file using the <code>readr</code> package.</p>
<p>I had to remove the list-columns (films, vehicles, starships) because that format isn’t supported by SAS. You can access the csv data <a href="data/starwars.csv">here</a>. Note that I exported the data using ‘.’ as the NA/missing character so that it will be easy to read into SAS.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" data-line-number="1">readr<span class="op">::</span><span class="kw">write_csv</span>(starwars[,<span class="dv">1</span><span class="op">:</span><span class="dv">11</span>], <span class="st">&quot;data/starwars.csv&quot;</span>, <span class="dt">na =</span> <span class="st">&#39;.&#39;</span>)</a></code></pre></div>
<p>Let’s set that data up first:</p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;
filename swdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/data/starwars.csv&quot;;

PROC IMPORT DATAFILE = swdat OUT = classdat.starwars 
    DBMS = CSV 
    REPLACE; 
    GETNAMES = YES;
RUN;

PROC PRINT DATA=classdat.starwars (obs=10);
RUN;</code></pre>
<div class="branch">
<a name="IDX"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" summary="Procedure Print: Data Set CLASSDAT.STARWARS">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="r header" scope="col">
Obs
</th>
<th class="l header" scope="col">
name
</th>
<th class="r header" scope="col">
height
</th>
<th class="r header" scope="col">
mass
</th>
<th class="l header" scope="col">
hair_color
</th>
<th class="l header" scope="col">
skin_color
</th>
<th class="l header" scope="col">
eye_color
</th>
<th class="r header" scope="col">
birth_year
</th>
<th class="l header" scope="col">
sex
</th>
<th class="l header" scope="col">
gender
</th>
<th class="l header" scope="col">
homeworld
</th>
<th class="l header" scope="col">
species
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="l data">
Luke Skywalker
</td>
<td class="r data">
172
</td>
<td class="r data">
77
</td>
<td class="l data">
blond
</td>
<td class="l data">
fair
</td>
<td class="l data">
blue
</td>
<td class="r data">
19
</td>
<td class="l data">
male
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="l data" nowrap>
C-3PO
</td>
<td class="r data">
167
</td>
<td class="r data">
75
</td>
<td class="l data">
</td>
<td class="l data">
gold
</td>
<td class="l data">
yellow
</td>
<td class="r data">
112
</td>
<td class="l data">
none
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Droid
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="l data">
R2-D2
</td>
<td class="r data">
96
</td>
<td class="r data">
32
</td>
<td class="l data">
</td>
<td class="l data">
white, blue
</td>
<td class="l data">
red
</td>
<td class="r data">
33
</td>
<td class="l data">
none
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Naboo
</td>
<td class="l data">
Droid
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="l data">
Darth Vader
</td>
<td class="r data">
202
</td>
<td class="r data">
136
</td>
<td class="l data">
none
</td>
<td class="l data">
white
</td>
<td class="l data">
yellow
</td>
<td class="r data">
41.9
</td>
<td class="l data">
male
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="l data">
Leia Organa
</td>
<td class="r data">
150
</td>
<td class="r data">
49
</td>
<td class="l data">
brown
</td>
<td class="l data">
light
</td>
<td class="l data">
brown
</td>
<td class="r data">
19
</td>
<td class="l data">
female
</td>
<td class="l data">
feminine
</td>
<td class="l data">
Alderaan
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
6
</th>
<td class="l data">
Owen Lars
</td>
<td class="r data">
178
</td>
<td class="r data">
120
</td>
<td class="l data">
brown, grey
</td>
<td class="l data">
light
</td>
<td class="l data">
blue
</td>
<td class="r data">
52
</td>
<td class="l data">
male
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
7
</th>
<td class="l data">
Beru Whitesun lars
</td>
<td class="r data">
165
</td>
<td class="r data">
75
</td>
<td class="l data">
brown
</td>
<td class="l data">
light
</td>
<td class="l data">
blue
</td>
<td class="r data">
47
</td>
<td class="l data">
female
</td>
<td class="l data">
feminine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
8
</th>
<td class="l data">
R5-D4
</td>
<td class="r data">
97
</td>
<td class="r data">
32
</td>
<td class="l data">
</td>
<td class="l data">
white, red
</td>
<td class="l data">
red
</td>
<td class="r data">
.
</td>
<td class="l data">
none
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Droid
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
9
</th>
<td class="l data">
Biggs Darklighter
</td>
<td class="r data">
183
</td>
<td class="r data">
84
</td>
<td class="l data">
black
</td>
<td class="l data">
light
</td>
<td class="l data">
brown
</td>
<td class="r data">
24
</td>
<td class="l data">
male
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Tatooine
</td>
<td class="l data">
Human
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
10
</th>
<td class="l data">
Obi-Wan Kenobi
</td>
<td class="r data">
182
</td>
<td class="r data">
77
</td>
<td class="l data">
auburn, white
</td>
<td class="l data">
fair
</td>
<td class="l data">
blue-gray
</td>
<td class="r data">
57
</td>
<td class="l data">
male
</td>
<td class="l data">
masculine
</td>
<td class="l data">
Stewjon
</td>
<td class="l data">
Human
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
</div>
If you want to directly load the SAS datafile, you can find it <a href="sas/starwars.sas7bdat">here</a>
</details>
<p>Once the data is set up, using <code>filter</code> is actually very simple.</p>
<details>
<p><summary>Demonstration of <code>filter()</code> in R</summary></p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" data-line-number="1"><span class="co"># Get only the people</span></a>
<a class="sourceLine" id="cb188-2" data-line-number="2"><span class="kw">filter</span>(starwars, species <span class="op">==</span><span class="st"> &quot;Human&quot;</span>)</a>
<a class="sourceLine" id="cb188-3" data-line-number="3"><span class="co"># A tibble: 35 x 14</span></a>
<a class="sourceLine" id="cb188-4" data-line-number="4">   name  height  mass hair_color skin_color eye_color birth_year sex   gender</a>
<a class="sourceLine" id="cb188-5" data-line-number="5">   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb188-6" data-line-number="6"><span class="st"> </span><span class="dv">1</span> Luke…    <span class="dv">172</span>    <span class="dv">77</span> blond      fair       blue            <span class="dv">19</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-7" data-line-number="7"> <span class="dv">2</span> Dart…    <span class="dv">202</span>   <span class="dv">136</span> none       white      yellow          <span class="fl">41.9</span> male  mascu…</a>
<a class="sourceLine" id="cb188-8" data-line-number="8"> <span class="dv">3</span> Leia…    <span class="dv">150</span>    <span class="dv">49</span> brown      light      brown           <span class="dv">19</span>   fema… femin…</a>
<a class="sourceLine" id="cb188-9" data-line-number="9"> <span class="dv">4</span> Owen…    <span class="dv">178</span>   <span class="dv">120</span> brown, gr… light      blue            <span class="dv">52</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-10" data-line-number="10"> <span class="dv">5</span> Beru…    <span class="dv">165</span>    <span class="dv">75</span> brown      light      blue            <span class="dv">47</span>   fema… femin…</a>
<a class="sourceLine" id="cb188-11" data-line-number="11"> <span class="dv">6</span> Bigg…    <span class="dv">183</span>    <span class="dv">84</span> black      light      brown           <span class="dv">24</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-12" data-line-number="12"> <span class="dv">7</span> Obi<span class="op">-</span>…    <span class="dv">182</span>    <span class="dv">77</span> auburn, w… fair       blue<span class="op">-</span>gray       <span class="dv">57</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-13" data-line-number="13"> <span class="dv">8</span> Anak…    <span class="dv">188</span>    <span class="dv">84</span> blond      fair       blue            <span class="fl">41.9</span> male  mascu…</a>
<a class="sourceLine" id="cb188-14" data-line-number="14"> <span class="dv">9</span> Wilh…    <span class="dv">180</span>    <span class="ot">NA</span> auburn, g… fair       blue            <span class="dv">64</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-15" data-line-number="15"><span class="dv">10</span> Han …    <span class="dv">180</span>    <span class="dv">80</span> brown      fair       brown           <span class="dv">29</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-16" data-line-number="16"><span class="co"># … with 25 more rows, and 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb188-17" data-line-number="17"><span class="co">#   films &lt;list&gt;, vehicles &lt;list&gt;, starships &lt;list&gt;</span></a>
<a class="sourceLine" id="cb188-18" data-line-number="18"></a>
<a class="sourceLine" id="cb188-19" data-line-number="19"><span class="co"># Get only the people who come from Tatooine</span></a>
<a class="sourceLine" id="cb188-20" data-line-number="20"><span class="kw">filter</span>(starwars, species <span class="op">==</span><span class="st"> &quot;Human&quot;</span>, homeworld <span class="op">==</span><span class="st"> &quot;Tatooine&quot;</span>)</a>
<a class="sourceLine" id="cb188-21" data-line-number="21"><span class="co"># A tibble: 8 x 14</span></a>
<a class="sourceLine" id="cb188-22" data-line-number="22">  name  height  mass hair_color skin_color eye_color birth_year sex   gender</a>
<a class="sourceLine" id="cb188-23" data-line-number="23">  <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb188-24" data-line-number="24"><span class="dv">1</span> Luke…    <span class="dv">172</span>    <span class="dv">77</span> blond      fair       blue            <span class="dv">19</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-25" data-line-number="25"><span class="dv">2</span> Dart…    <span class="dv">202</span>   <span class="dv">136</span> none       white      yellow          <span class="fl">41.9</span> male  mascu…</a>
<a class="sourceLine" id="cb188-26" data-line-number="26"><span class="dv">3</span> Owen…    <span class="dv">178</span>   <span class="dv">120</span> brown, gr… light      blue            <span class="dv">52</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-27" data-line-number="27"><span class="dv">4</span> Beru…    <span class="dv">165</span>    <span class="dv">75</span> brown      light      blue            <span class="dv">47</span>   fema… femin…</a>
<a class="sourceLine" id="cb188-28" data-line-number="28"><span class="dv">5</span> Bigg…    <span class="dv">183</span>    <span class="dv">84</span> black      light      brown           <span class="dv">24</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-29" data-line-number="29"><span class="dv">6</span> Anak…    <span class="dv">188</span>    <span class="dv">84</span> blond      fair       blue            <span class="fl">41.9</span> male  mascu…</a>
<a class="sourceLine" id="cb188-30" data-line-number="30"><span class="dv">7</span> Shmi…    <span class="dv">163</span>    <span class="ot">NA</span> black      fair       brown           <span class="dv">72</span>   fema… femin…</a>
<a class="sourceLine" id="cb188-31" data-line-number="31"><span class="dv">8</span> Clie…    <span class="dv">183</span>    <span class="ot">NA</span> brown      fair       blue            <span class="dv">82</span>   male  mascu…</a>
<a class="sourceLine" id="cb188-32" data-line-number="32"><span class="co"># … with 5 more variables: homeworld &lt;chr&gt;, species &lt;chr&gt;, films &lt;list&gt;,</span></a>
<a class="sourceLine" id="cb188-33" data-line-number="33"><span class="co">#   vehicles &lt;list&gt;, starships &lt;list&gt;</span></a></code></pre></div>
</details>
In SAS, as in SQL, the <code>filter()</code> operation is accomplished using a <code>where</code> clause. Multiple clauses can be connected using <code>and</code>, and compound statements can be grouped with parentheses.
<details>
<p><summary>Demonstration of <code>where</code> in SAS</summary>
Rather than output the whole data table (which would take up a lot of space), I’ve linked the log file from each chunk below the chunk.</p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

/* SAS limits dataset names to 8 characters, which is super annoying. */
/* Sorry the names aren&#39;t descriptive... */

proc printto log=&quot;other/05-filter-1.log&quot; new; /* shows output log in bookdown */
DATA tmp1; /* this is the out dataset */
/* By not having a library attached, SAS places this in WORK */
/* It&#39;s a temporary dataset */
  set classdat.starwars;
  where (species = &#39;Human&#39;);
  run;</code></pre>
<p>See the log file <a href="other/05-filter-1.log">here</a></p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

proc printto log=&quot;other/05-filter-2.log&quot; new; /* shows output log in bookdown */
DATA tmp2; 
  set classdat.starwars;
  where (species = &#39;Human&#39;) and (homeworld = &#39;Tatooine&#39;);
  run;</code></pre>
See the log file <a href="other/05-filter-2.log">here</a>
</details>
<div id="try-it-out-14" class="section level4 unnumbered tryitout">
<h4>Try it out</h4>
<p>Using the pokemon data, can you create a new data set or data frame (SAS and R, respectively) that has only water type pokemon? Can you write a filter statement that looks for any pokemon which has water type for either type1 or type2?</p>
<details>
<p><summary>R</summary></p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" data-line-number="1">poke &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/pokemon_ascii.csv&quot;</span>)</a>
<a class="sourceLine" id="cb191-2" data-line-number="2">Parsed with column specification<span class="op">:</span></a>
<a class="sourceLine" id="cb191-3" data-line-number="3"><span class="kw">cols</span>(</a>
<a class="sourceLine" id="cb191-4" data-line-number="4">  <span class="dt">.default =</span> <span class="kw">col_double</span>(),</a>
<a class="sourceLine" id="cb191-5" data-line-number="5">  <span class="dt">name =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-6" data-line-number="6">  <span class="dt">german_name =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-7" data-line-number="7">  <span class="dt">status =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-8" data-line-number="8">  <span class="dt">species =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-9" data-line-number="9">  <span class="dt">type_1 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-10" data-line-number="10">  <span class="dt">type_2 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-11" data-line-number="11">  <span class="dt">ability_1 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-12" data-line-number="12">  <span class="dt">ability_2 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-13" data-line-number="13">  <span class="dt">ability_hidden =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-14" data-line-number="14">  <span class="dt">catch_rate =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-15" data-line-number="15">  <span class="dt">base_friendship =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-16" data-line-number="16">  <span class="dt">base_experience =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-17" data-line-number="17">  <span class="dt">growth_rate =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-18" data-line-number="18">  <span class="dt">egg_type_1 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-19" data-line-number="19">  <span class="dt">egg_type_2 =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-20" data-line-number="20">  <span class="dt">percentage_male =</span> <span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb191-21" data-line-number="21">  <span class="dt">egg_cycles =</span> <span class="kw">col_character</span>()</a>
<a class="sourceLine" id="cb191-22" data-line-number="22">)</a>
<a class="sourceLine" id="cb191-23" data-line-number="23">See <span class="kw">spec</span>(...) <span class="cf">for</span> full column specifications.</a>
<a class="sourceLine" id="cb191-24" data-line-number="24">Warning<span class="op">:</span><span class="st"> </span><span class="dv">1</span> parsing failure.</a>
<a class="sourceLine" id="cb191-25" data-line-number="25"> row       col expected actual                     file</a>
<a class="sourceLine" id="cb191-26" data-line-number="26"><span class="dv">1028</span> weight_kg a double      . <span class="st">&#39;data/pokemon_ascii.csv&#39;</span></a>
<a class="sourceLine" id="cb191-27" data-line-number="27"></a>
<a class="sourceLine" id="cb191-28" data-line-number="28"><span class="kw">filter</span>(poke, type_<span class="dv">1</span> <span class="op">==</span><span class="st"> &quot;Water&quot;</span>)</a>
<a class="sourceLine" id="cb191-29" data-line-number="29"><span class="co"># A tibble: 134 x 49</span></a>
<a class="sourceLine" id="cb191-30" data-line-number="30">   pokedex_number name  german_name generation status species type_number type_<span class="dv">1</span></a>
<a class="sourceLine" id="cb191-31" data-line-number="31">            <span class="op">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">         </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb191-32" data-line-number="32"><span class="st"> </span><span class="dv">1</span>              <span class="dv">7</span> Squi… Schiggy              <span class="dv">1</span> Normal Tiny T…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-33" data-line-number="33"> <span class="dv">2</span>              <span class="dv">8</span> Wart… Schillok             <span class="dv">1</span> Normal Turtle…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-34" data-line-number="34"> <span class="dv">3</span>              <span class="dv">9</span> Blas… Turtok               <span class="dv">1</span> Normal Shellf…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-35" data-line-number="35"> <span class="dv">4</span>              <span class="dv">9</span> Mega… Turtok               <span class="dv">1</span> Normal Shellf…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-36" data-line-number="36"> <span class="dv">5</span>             <span class="dv">54</span> Psyd… Enton                <span class="dv">1</span> Normal Duck P…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-37" data-line-number="37"> <span class="dv">6</span>             <span class="dv">55</span> Gold… Entoron              <span class="dv">1</span> Normal Duck P…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-38" data-line-number="38"> <span class="dv">7</span>             <span class="dv">60</span> Poli… Quapsel              <span class="dv">1</span> Normal Tadpol…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-39" data-line-number="39"> <span class="dv">8</span>             <span class="dv">61</span> Poli… Quaputzi             <span class="dv">1</span> Normal Tadpol…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-40" data-line-number="40"> <span class="dv">9</span>             <span class="dv">62</span> Poli… Quappo               <span class="dv">1</span> Normal Tadpol…           <span class="dv">2</span> Water </a>
<a class="sourceLine" id="cb191-41" data-line-number="41"><span class="dv">10</span>             <span class="dv">72</span> Tent… Tentacha             <span class="dv">1</span> Normal Jellyf…           <span class="dv">2</span> Water </a>
<a class="sourceLine" id="cb191-42" data-line-number="42"><span class="co"># … with 124 more rows, and 41 more variables: type_2 &lt;chr&gt;, height_m &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-43" data-line-number="43"><span class="co">#   weight_kg &lt;dbl&gt;, abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;, ability_2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-44" data-line-number="44"><span class="co">#   ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;, attack &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-45" data-line-number="45"><span class="co">#   defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-46" data-line-number="46"><span class="co">#   catch_rate &lt;chr&gt;, base_friendship &lt;chr&gt;, base_experience &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-47" data-line-number="47"><span class="co">#   growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;, egg_type_1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-48" data-line-number="48"><span class="co">#   egg_type_2 &lt;chr&gt;, percentage_male &lt;chr&gt;, egg_cycles &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-49" data-line-number="49"><span class="co">#   against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;, against_water &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-50" data-line-number="50"><span class="co">#   against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;, against_ice &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-51" data-line-number="51"><span class="co">#   against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_ground &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-52" data-line-number="52"><span class="co">#   against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;, against_bug &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-53" data-line-number="53"><span class="co">#   against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;, against_dragon &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-54" data-line-number="54"><span class="co">#   against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_fairy &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb191-55" data-line-number="55"></a>
<a class="sourceLine" id="cb191-56" data-line-number="56"><span class="kw">filter</span>(poke, type_<span class="dv">1</span> <span class="op">==</span><span class="st"> &quot;Water&quot;</span> <span class="op">|</span><span class="st"> </span>type_<span class="dv">2</span> <span class="op">==</span><span class="st"> &quot;Water&quot;</span>)</a>
<a class="sourceLine" id="cb191-57" data-line-number="57"><span class="co"># A tibble: 153 x 49</span></a>
<a class="sourceLine" id="cb191-58" data-line-number="58">   pokedex_number name  german_name generation status species type_number type_<span class="dv">1</span></a>
<a class="sourceLine" id="cb191-59" data-line-number="59">            <span class="op">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">         </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb191-60" data-line-number="60"><span class="st"> </span><span class="dv">1</span>              <span class="dv">7</span> Squi… Schiggy              <span class="dv">1</span> Normal Tiny T…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-61" data-line-number="61"> <span class="dv">2</span>              <span class="dv">8</span> Wart… Schillok             <span class="dv">1</span> Normal Turtle…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-62" data-line-number="62"> <span class="dv">3</span>              <span class="dv">9</span> Blas… Turtok               <span class="dv">1</span> Normal Shellf…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-63" data-line-number="63"> <span class="dv">4</span>              <span class="dv">9</span> Mega… Turtok               <span class="dv">1</span> Normal Shellf…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-64" data-line-number="64"> <span class="dv">5</span>             <span class="dv">54</span> Psyd… Enton                <span class="dv">1</span> Normal Duck P…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-65" data-line-number="65"> <span class="dv">6</span>             <span class="dv">55</span> Gold… Entoron              <span class="dv">1</span> Normal Duck P…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-66" data-line-number="66"> <span class="dv">7</span>             <span class="dv">60</span> Poli… Quapsel              <span class="dv">1</span> Normal Tadpol…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-67" data-line-number="67"> <span class="dv">8</span>             <span class="dv">61</span> Poli… Quaputzi             <span class="dv">1</span> Normal Tadpol…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb191-68" data-line-number="68"> <span class="dv">9</span>             <span class="dv">62</span> Poli… Quappo               <span class="dv">1</span> Normal Tadpol…           <span class="dv">2</span> Water </a>
<a class="sourceLine" id="cb191-69" data-line-number="69"><span class="dv">10</span>             <span class="dv">72</span> Tent… Tentacha             <span class="dv">1</span> Normal Jellyf…           <span class="dv">2</span> Water </a>
<a class="sourceLine" id="cb191-70" data-line-number="70"><span class="co"># … with 143 more rows, and 41 more variables: type_2 &lt;chr&gt;, height_m &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-71" data-line-number="71"><span class="co">#   weight_kg &lt;dbl&gt;, abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;, ability_2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-72" data-line-number="72"><span class="co">#   ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;, attack &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-73" data-line-number="73"><span class="co">#   defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-74" data-line-number="74"><span class="co">#   catch_rate &lt;chr&gt;, base_friendship &lt;chr&gt;, base_experience &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-75" data-line-number="75"><span class="co">#   growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;, egg_type_1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-76" data-line-number="76"><span class="co">#   egg_type_2 &lt;chr&gt;, percentage_male &lt;chr&gt;, egg_cycles &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb191-77" data-line-number="77"><span class="co">#   against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;, against_water &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-78" data-line-number="78"><span class="co">#   against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;, against_ice &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-79" data-line-number="79"><span class="co">#   against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_ground &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-80" data-line-number="80"><span class="co">#   against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;, against_bug &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-81" data-line-number="81"><span class="co">#   against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;, against_dragon &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb191-82" data-line-number="82"><span class="co">#   against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_fairy &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb191-83" data-line-number="83"><span class="co"># The conditions have to be separated by |, which means &quot;or&quot;</span></a></code></pre></div>
</details>
<details>
<p><summary>SAS</summary></p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

DATA water1;
SET classdat.poke;
WHERE type_1 = &quot;Water&quot;;
RUN;

DATA water2;
SET classdat.poke;
WHERE (type_1 = &quot;Water&quot; OR type_2 = &quot;Water&quot;);
RUN;</code></pre>
<p>In the interests of only showing the parts of the log that are useful, I’ve just pasted them into this chunk. Not reproducible, but faster to read.</p>
<pre><code>NOTE: There were 134 observations read from the data set CLASSDAT.POKE.
      WHERE type_1=&#39;Water&#39;;
NOTE: The data set WORK.WATER1 has 134 observations and 49 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: There were 153 observations read from the data set CLASSDAT.POKE.
      WHERE (type_1=&#39;Water&#39;) or (type_2=&#39;Water&#39;);
NOTE: The data set WORK.WATER2 has 153 observations and 49 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds</code></pre>
</details>
</div>
<div id="common-filter-operations" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Common filter operations</h3>
<p>In <code>dplyr</code>, there are a few helper functions which may be useful when constructing filter statements.</p>
<details>
<p><summary><code>row_number()</code> - this is only used inside of another dplyr function (e.g. filter). You might want to keep only even rows, or only the first 10 rows in a table. </summary></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb194-1" data-line-number="1"><span class="kw">filter</span>(poke, (<span class="kw">row_number</span>() <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>))</a>
<a class="sourceLine" id="cb194-2" data-line-number="2"><span class="co"># A tibble: 514 x 49</span></a>
<a class="sourceLine" id="cb194-3" data-line-number="3">   pokedex_number name  german_name generation status species type_number type_<span class="dv">1</span></a>
<a class="sourceLine" id="cb194-4" data-line-number="4">            <span class="op">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">         </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb194-5" data-line-number="5"><span class="st"> </span><span class="dv">1</span>              <span class="dv">2</span> Ivys… Bisaknosp            <span class="dv">1</span> Normal Seed P…           <span class="dv">2</span> Grass </a>
<a class="sourceLine" id="cb194-6" data-line-number="6"> <span class="dv">2</span>              <span class="dv">3</span> Mega… Bisaflor             <span class="dv">1</span> Normal Seed P…           <span class="dv">2</span> Grass </a>
<a class="sourceLine" id="cb194-7" data-line-number="7"> <span class="dv">3</span>              <span class="dv">5</span> Char… Glutexo              <span class="dv">1</span> Normal Flame …           <span class="dv">1</span> Fire  </a>
<a class="sourceLine" id="cb194-8" data-line-number="8"> <span class="dv">4</span>              <span class="dv">6</span> Mega… Glurak               <span class="dv">1</span> Normal Flame …           <span class="dv">2</span> Fire  </a>
<a class="sourceLine" id="cb194-9" data-line-number="9"> <span class="dv">5</span>              <span class="dv">7</span> Squi… Schiggy              <span class="dv">1</span> Normal Tiny T…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb194-10" data-line-number="10"> <span class="dv">6</span>              <span class="dv">9</span> Blas… Turtok               <span class="dv">1</span> Normal Shellf…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb194-11" data-line-number="11"> <span class="dv">7</span>             <span class="dv">10</span> Cate… Raupy                <span class="dv">1</span> Normal Worm P…           <span class="dv">1</span> Bug   </a>
<a class="sourceLine" id="cb194-12" data-line-number="12"> <span class="dv">8</span>             <span class="dv">12</span> Butt… Smettbo              <span class="dv">1</span> Normal Butter…           <span class="dv">2</span> Bug   </a>
<a class="sourceLine" id="cb194-13" data-line-number="13"> <span class="dv">9</span>             <span class="dv">14</span> Kaku… Kokuna               <span class="dv">1</span> Normal Cocoon…           <span class="dv">2</span> Bug   </a>
<a class="sourceLine" id="cb194-14" data-line-number="14"><span class="dv">10</span>             <span class="dv">15</span> Mega… Bibor                <span class="dv">1</span> Normal Poison…           <span class="dv">2</span> Bug   </a>
<a class="sourceLine" id="cb194-15" data-line-number="15"><span class="co"># … with 504 more rows, and 41 more variables: type_2 &lt;chr&gt;, height_m &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-16" data-line-number="16"><span class="co">#   weight_kg &lt;dbl&gt;, abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;, ability_2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb194-17" data-line-number="17"><span class="co">#   ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;, attack &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-18" data-line-number="18"><span class="co">#   defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-19" data-line-number="19"><span class="co">#   catch_rate &lt;chr&gt;, base_friendship &lt;chr&gt;, base_experience &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb194-20" data-line-number="20"><span class="co">#   growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;, egg_type_1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb194-21" data-line-number="21"><span class="co">#   egg_type_2 &lt;chr&gt;, percentage_male &lt;chr&gt;, egg_cycles &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb194-22" data-line-number="22"><span class="co">#   against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;, against_water &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-23" data-line-number="23"><span class="co">#   against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;, against_ice &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-24" data-line-number="24"><span class="co">#   against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_ground &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-25" data-line-number="25"><span class="co">#   against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;, against_bug &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-26" data-line-number="26"><span class="co">#   against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;, against_dragon &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb194-27" data-line-number="27"><span class="co">#   against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_fairy &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb194-28" data-line-number="28"><span class="co"># There are several pokemon who have multiple entries in the table, </span></a>
<a class="sourceLine" id="cb194-29" data-line-number="29"><span class="co"># so the pokedex_number doesn&#39;t line up with the row number.</span></a></code></pre></div>
</details>
<details>
<p><summary><code>slice_max()</code> - this will keep the top values of a specified variable.</summary></p>
<p>It’s like a filter statement, but it’s a shortcut built to handle a common task. You could write a filter statement that would do this, but it would take a lot more code.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" data-line-number="1"><span class="kw">slice_max</span>(poke, <span class="dt">order_by =</span> total_points, <span class="dt">n =</span> <span class="dv">5</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb195-2" data-line-number="2"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(total_points)) <span class="co"># Sort decreasing</span></a>
<a class="sourceLine" id="cb195-3" data-line-number="3"><span class="co"># A tibble: 6 x 49</span></a>
<a class="sourceLine" id="cb195-4" data-line-number="4">  pokedex_number name  german_name generation status species type_number type_<span class="dv">1</span></a>
<a class="sourceLine" id="cb195-5" data-line-number="5">           <span class="op">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">         </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb195-6" data-line-number="6"><span class="dv">1</span>            <span class="dv">890</span> Eter… .                    <span class="dv">8</span> Legen… Gigant…           <span class="dv">2</span> Poison</a>
<a class="sourceLine" id="cb195-7" data-line-number="7"><span class="dv">2</span>            <span class="dv">150</span> Mega… Mewtu                <span class="dv">1</span> Legen… Geneti…           <span class="dv">2</span> Psych…</a>
<a class="sourceLine" id="cb195-8" data-line-number="8"><span class="dv">3</span>            <span class="dv">150</span> Mega… Mewtu                <span class="dv">1</span> Legen… Geneti…           <span class="dv">1</span> Psych…</a>
<a class="sourceLine" id="cb195-9" data-line-number="9"><span class="dv">4</span>            <span class="dv">384</span> Mega… Rayquaza             <span class="dv">3</span> Legen… Sky Hi…           <span class="dv">2</span> Dragon</a>
<a class="sourceLine" id="cb195-10" data-line-number="10"><span class="dv">5</span>            <span class="dv">382</span> Prim… Kyogre               <span class="dv">3</span> Legen… Sea Ba…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb195-11" data-line-number="11"><span class="dv">6</span>            <span class="dv">383</span> Prim… Groudon              <span class="dv">3</span> Legen… Contin…           <span class="dv">2</span> Ground</a>
<a class="sourceLine" id="cb195-12" data-line-number="12"><span class="co"># … with 41 more variables: type_2 &lt;chr&gt;, height_m &lt;dbl&gt;, weight_kg &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-13" data-line-number="13"><span class="co">#   abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;, ability_2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb195-14" data-line-number="14"><span class="co">#   ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;, attack &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-15" data-line-number="15"><span class="co">#   defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-16" data-line-number="16"><span class="co">#   catch_rate &lt;chr&gt;, base_friendship &lt;chr&gt;, base_experience &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb195-17" data-line-number="17"><span class="co">#   growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;, egg_type_1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb195-18" data-line-number="18"><span class="co">#   egg_type_2 &lt;chr&gt;, percentage_male &lt;chr&gt;, egg_cycles &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb195-19" data-line-number="19"><span class="co">#   against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;, against_water &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-20" data-line-number="20"><span class="co">#   against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;, against_ice &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-21" data-line-number="21"><span class="co">#   against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_ground &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-22" data-line-number="22"><span class="co">#   against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;, against_bug &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-23" data-line-number="23"><span class="co">#   against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;, against_dragon &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb195-24" data-line-number="24"><span class="co">#   against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_fairy &lt;dbl&gt;</span></a></code></pre></div>
<p>By default, <code>slice_max()</code> returns values tied with the nth value as well, which is why our result has 6 rows.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb196-1" data-line-number="1"><span class="kw">slice_max</span>(poke, <span class="dt">order_by =</span> total_points, <span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">with_ties =</span> F) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb196-2" data-line-number="2"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(total_points)) <span class="co"># Sort decreasing</span></a>
<a class="sourceLine" id="cb196-3" data-line-number="3"><span class="co"># A tibble: 5 x 49</span></a>
<a class="sourceLine" id="cb196-4" data-line-number="4">  pokedex_number name  german_name generation status species type_number type_<span class="dv">1</span></a>
<a class="sourceLine" id="cb196-5" data-line-number="5">           <span class="op">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">            </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">         </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span></a>
<a class="sourceLine" id="cb196-6" data-line-number="6"><span class="dv">1</span>            <span class="dv">890</span> Eter… .                    <span class="dv">8</span> Legen… Gigant…           <span class="dv">2</span> Poison</a>
<a class="sourceLine" id="cb196-7" data-line-number="7"><span class="dv">2</span>            <span class="dv">150</span> Mega… Mewtu                <span class="dv">1</span> Legen… Geneti…           <span class="dv">2</span> Psych…</a>
<a class="sourceLine" id="cb196-8" data-line-number="8"><span class="dv">3</span>            <span class="dv">150</span> Mega… Mewtu                <span class="dv">1</span> Legen… Geneti…           <span class="dv">1</span> Psych…</a>
<a class="sourceLine" id="cb196-9" data-line-number="9"><span class="dv">4</span>            <span class="dv">384</span> Mega… Rayquaza             <span class="dv">3</span> Legen… Sky Hi…           <span class="dv">2</span> Dragon</a>
<a class="sourceLine" id="cb196-10" data-line-number="10"><span class="dv">5</span>            <span class="dv">382</span> Prim… Kyogre               <span class="dv">3</span> Legen… Sea Ba…           <span class="dv">1</span> Water </a>
<a class="sourceLine" id="cb196-11" data-line-number="11"><span class="co"># … with 41 more variables: type_2 &lt;chr&gt;, height_m &lt;dbl&gt;, weight_kg &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-12" data-line-number="12"><span class="co">#   abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;, ability_2 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb196-13" data-line-number="13"><span class="co">#   ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;, attack &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-14" data-line-number="14"><span class="co">#   defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;, speed &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-15" data-line-number="15"><span class="co">#   catch_rate &lt;chr&gt;, base_friendship &lt;chr&gt;, base_experience &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb196-16" data-line-number="16"><span class="co">#   growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;, egg_type_1 &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb196-17" data-line-number="17"><span class="co">#   egg_type_2 &lt;chr&gt;, percentage_male &lt;chr&gt;, egg_cycles &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb196-18" data-line-number="18"><span class="co">#   against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;, against_water &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-19" data-line-number="19"><span class="co">#   against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;, against_ice &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-20" data-line-number="20"><span class="co">#   against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;, against_ground &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-21" data-line-number="21"><span class="co">#   against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;, against_bug &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-22" data-line-number="22"><span class="co">#   against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;, against_dragon &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb196-23" data-line-number="23"><span class="co">#   against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;, against_fairy &lt;dbl&gt;</span></a></code></pre></div>
</details>
<p>In SAS, these same tasks require a bit more code.</p>
<details>
<p><summary>Keeping only certain rows in SAS</summary></p>
<p>In SAS, to use a variable, you have to define it in one data step, then make another data step in order to use that variable. But, like <code>dplyr</code>, SAS has a row number counter that we can use for this purpose.</p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

DATA tmp;
SET classdat.poke;
  rownum=_n_; /* SAS shorthand for row number */
RUN; 

DATA evenrow;
  SET WORK.tmp;
  WHERE MOD(rownum, 2) = 0;
  DROP rownum; /* ditch temp variable */
RUN;</code></pre>
</details>
<details>
<p><summary>Top N values</summary>
We’re going to want to use PROC SORT to get the data arranged before we take the top N values.
According to <a href="https://communities.sas.com/t5/General-SAS-Programming/if-and-where-statement-for-n/td-p/237647">this</a>, we can’t use <code>_n_</code> in a where statement, and the proposed solution isn’t reliable. So we’ll do it the long way.</p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

PROC SORT DATA = classdat.poke 
  OUT = pokesort;
  BY descending total_points;
RUN;

DATA poken;
  SET WORK.pokesort;
  rownum = _n_;
RUN;
  
DATA poken;
  SET WORK.poken;
  WHERE rownum &lt;= 5;
  DROP rownum;
RUN;

PROC PRINT DATA = poken;
  VAR pokedex_number name status species type_1 total_points;
RUN;</code></pre>
<div class="branch">
<a name="IDX"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" summary="Procedure Print: Data Set WORK.POKEN">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="r header" scope="col">
Obs
</th>
<th class="r header" scope="col">
pokedex_number
</th>
<th class="l header" scope="col">
name
</th>
<th class="l header" scope="col">
status
</th>
<th class="l header" scope="col">
species
</th>
<th class="l header" scope="col">
type_1
</th>
<th class="r header" scope="col">
total_points
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="r data">
890
</td>
<td class="l data">
Eternatus Eternamax
</td>
<td class="l data">
Legendary
</td>
<td class="l data">
Gigantic Pokemon
</td>
<td class="l data">
Poison
</td>
<td class="r data">
1125
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="r data">
150
</td>
<td class="l data">
Mega Mewtwo X
</td>
<td class="l data">
Legendary
</td>
<td class="l data">
Genetic Pokemon
</td>
<td class="l data">
Psychic
</td>
<td class="r data">
780
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="r data">
150
</td>
<td class="l data">
Mega Mewtwo Y
</td>
<td class="l data">
Legendary
</td>
<td class="l data">
Genetic Pokemon
</td>
<td class="l data">
Psychic
</td>
<td class="r data">
780
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="r data">
384
</td>
<td class="l data">
Mega Rayquaza
</td>
<td class="l data">
Legendary
</td>
<td class="l data">
Sky High Pokemon
</td>
<td class="l data">
Dragon
</td>
<td class="r data">
780
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="r data">
382
</td>
<td class="l data">
Primal Kyogre
</td>
<td class="l data">
Legendary
</td>
<td class="l data">
Sea Basin Pokemon
</td>
<td class="l data">
Water
</td>
<td class="r data">
770
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
</div>
</details>
<p>In both cases, the SAS statements required to perform the task require a WHERE clause, but also a few other statements to get things working. The equivalent base R code would be about the same (though tricky in different spots) - the thing that makes the <code>tidyverse</code> philosophy so addictive is that it makes these common, everyday tasks both easy and concise (that is, few lines of code are required).</p>
</div>
</div>
<div id="select-pick-columns" class="section level2">
<h2><span class="header-section-number">5.3</span> Select: Pick columns</h2>
<p>Sometimes, we don’t want to work with a set of 50 variables when we’re only interested in 5. When that happens, we might be able to pick the variables we want by index (e.g. <code>df[, c(1, 3, 5)]</code>, or VAR statements, but that can get tedious).</p>
<p>In <code>dplyr</code>, the function to pick a few columns is <code>select()</code>. The syntax from the help file (<code>?select</code>) looks deceptively simple.</p>
<blockquote>
<p>select(.data, …)</p>
</blockquote>
<p>So as with just about every other tidyverse function, the first argument in a select statement is the data. After that, though, you can put just about anything that R can interpret. <code>...</code> means something along the lines of “put in any additional arguments that make sense in context or might be passed on to other functions”.</p>
<p>So what can go in there?</p>
<details>
<p><summary>An exhaustive list of ways to select variables in <code>dplyr</code></summary>
First, dplyr aims to work with standard R syntax, making it intuitive (and also, making it work with variable names instead of just variable indices).<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a> Most <code>dplyr</code> commands work with “bare” variable names - you don’t need to put the variable name in quotes to reference it. There are a few exceptions to this rule, but they’re very explicitly exceptions.</p>
<ul>
<li><p><code>var3:var5</code>: <code>select(df, var3:var5)</code> will give you a data frame with columns var3, anything between var3 and var 5, and var5</p></li>
<li><p><code>!(&lt;set of variables&gt;)</code> will give you any columns that aren’t in the set of variables in parentheses</p></li>
<li><p><code>(&lt;set of vars 1&gt;) &amp; (&lt;set of vars 2&gt;)</code> will give you any variables that are in both set 1 and set 2. <code>(&lt;set of vars 1&gt;) | (&lt;set of vars 2&gt;)</code> will give you any variables that are in either set 1 or set 2.</p></li>
<li><p><code>c()</code> combines sets of variables.</p></li>
</ul>
<p><code>dplyr</code> also defines a lot of variable selection “helpers” that can be used inside <code>select()</code> statements. These statements work with bare column names (so you don’t have to put quotes around the column names when you use them).</p>
<ul>
<li><code>everything()</code> matches all variables</li>
<li><code>last_col()</code> matches the last variable. <code>last_col(offset = n)</code> selects the n-th to last variable.</li>
<li><code>starts_with(&quot;xyz&quot;)</code> will match any columns with names that start with xyz. Similarly, <code>ends_with()</code> does exactly what you’d expect as well.</li>
<li><code>contains(&quot;xyz&quot;)</code> will match any columns with names containing the literal string “xyz”. Note, <code>contains</code> does not work with regular expressions (you don’t need to know what that means right now).</li>
<li><code>matches(regex)</code> takes a regular expression as an argument and returns all columns matching that expression.</li>
<li><code>num_range(prefix, range)</code> selects any columns that start with prefix and have numbers matching the provided numerical range.</li>
</ul>
<p>There are also selectors that deal with character vectors. These can be useful if you have a list of important variables and want to just keep those variables.</p>
<ul>
<li><code>all_of(char)</code> matches all variable names in the character vector <code>char</code>. If one of the variables doesn’t exist, this will return an error.</li>
<li><code>any_of(char)</code> matches the contents of the character vector <code>char</code>, but does not throw an error if the variable doesn’t exist in the data set.</li>
</ul>
<p>There’s one final selector -</p>
<ul>
<li><code>where()</code> applies a function to each variable and selects those for which the function returns TRUE. This provides a lot of flexibility and opportunity to be creative (but I’ve never actually needed to use it).</li>
</ul>
</details>
<details>
<p><summary>Let’s try these selector functions out and see what we can accomplish!</summary></p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb199-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="st">&quot;nycflights13&quot;</span> <span class="op">%in%</span><span class="st"> </span><span class="kw">installed.packages</span>()) <span class="kw">install.packages</span>(<span class="st">&quot;nycflights13&quot;</span>)</a>
<a class="sourceLine" id="cb199-2" data-line-number="2"><span class="kw">library</span>(nycflights13)</a>
<a class="sourceLine" id="cb199-3" data-line-number="3"></a>
<a class="sourceLine" id="cb199-4" data-line-number="4"><span class="kw">data</span>(flights)</a>
<a class="sourceLine" id="cb199-5" data-line-number="5"><span class="kw">str</span>(flights)</a>
<a class="sourceLine" id="cb199-6" data-line-number="6">tibble [<span class="dv">336</span>,<span class="dv">776</span> × <span class="dv">19</span>] (S3<span class="op">:</span><span class="st"> </span>tbl_df<span class="op">/</span>tbl<span class="op">/</span>data.frame)</a>
<a class="sourceLine" id="cb199-7" data-line-number="7"> <span class="op">$</span><span class="st"> </span>year          <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> <span class="dv">2013</span> ...</a>
<a class="sourceLine" id="cb199-8" data-line-number="8"> <span class="op">$</span><span class="st"> </span>month         <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</a>
<a class="sourceLine" id="cb199-9" data-line-number="9"> <span class="op">$</span><span class="st"> </span>day           <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> ...</a>
<a class="sourceLine" id="cb199-10" data-line-number="10"> <span class="op">$</span><span class="st"> </span>dep_time      <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">517</span> <span class="dv">533</span> <span class="dv">542</span> <span class="dv">544</span> <span class="dv">554</span> <span class="dv">554</span> <span class="dv">555</span> <span class="dv">557</span> <span class="dv">557</span> <span class="dv">558</span> ...</a>
<a class="sourceLine" id="cb199-11" data-line-number="11"> <span class="op">$</span><span class="st"> </span>sched_dep_time<span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">515</span> <span class="dv">529</span> <span class="dv">540</span> <span class="dv">545</span> <span class="dv">600</span> <span class="dv">558</span> <span class="dv">600</span> <span class="dv">600</span> <span class="dv">600</span> <span class="dv">600</span> ...</a>
<a class="sourceLine" id="cb199-12" data-line-number="12"> <span class="op">$</span><span class="st"> </span>dep_delay     <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">2</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">-1</span> <span class="dv">-6</span> <span class="dv">-4</span> <span class="dv">-5</span> <span class="dv">-3</span> <span class="dv">-3</span> <span class="dv">-2</span> ...</a>
<a class="sourceLine" id="cb199-13" data-line-number="13"> <span class="op">$</span><span class="st"> </span>arr_time      <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">830</span> <span class="dv">850</span> <span class="dv">923</span> <span class="dv">1004</span> <span class="dv">812</span> <span class="dv">740</span> <span class="dv">913</span> <span class="dv">709</span> <span class="dv">838</span> <span class="dv">753</span> ...</a>
<a class="sourceLine" id="cb199-14" data-line-number="14"> <span class="op">$</span><span class="st"> </span>sched_arr_time<span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">819</span> <span class="dv">830</span> <span class="dv">850</span> <span class="dv">1022</span> <span class="dv">837</span> <span class="dv">728</span> <span class="dv">854</span> <span class="dv">723</span> <span class="dv">846</span> <span class="dv">745</span> ...</a>
<a class="sourceLine" id="cb199-15" data-line-number="15"> <span class="op">$</span><span class="st"> </span>arr_delay     <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">11</span> <span class="dv">20</span> <span class="dv">33</span> <span class="dv">-18</span> <span class="dv">-25</span> <span class="dv">12</span> <span class="dv">19</span> <span class="dv">-14</span> <span class="dv">-8</span> <span class="dv">8</span> ...</a>
<a class="sourceLine" id="cb199-16" data-line-number="16"> <span class="op">$</span><span class="st"> </span>carrier       <span class="op">:</span><span class="st"> </span>chr [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="st">&quot;UA&quot;</span> <span class="st">&quot;UA&quot;</span> <span class="st">&quot;AA&quot;</span> <span class="st">&quot;B6&quot;</span> ...</a>
<a class="sourceLine" id="cb199-17" data-line-number="17"> <span class="op">$</span><span class="st"> </span>flight        <span class="op">:</span><span class="st"> </span>int [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">1545</span> <span class="dv">1714</span> <span class="dv">1141</span> <span class="dv">725</span> <span class="dv">461</span> <span class="dv">1696</span> <span class="dv">507</span> <span class="dv">5708</span> <span class="dv">79</span> <span class="dv">301</span> ...</a>
<a class="sourceLine" id="cb199-18" data-line-number="18"> <span class="op">$</span><span class="st"> </span>tailnum       <span class="op">:</span><span class="st"> </span>chr [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="st">&quot;N14228&quot;</span> <span class="st">&quot;N24211&quot;</span> <span class="st">&quot;N619AA&quot;</span> <span class="st">&quot;N804JB&quot;</span> ...</a>
<a class="sourceLine" id="cb199-19" data-line-number="19"> <span class="op">$</span><span class="st"> </span>origin        <span class="op">:</span><span class="st"> </span>chr [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="st">&quot;EWR&quot;</span> <span class="st">&quot;LGA&quot;</span> <span class="st">&quot;JFK&quot;</span> <span class="st">&quot;JFK&quot;</span> ...</a>
<a class="sourceLine" id="cb199-20" data-line-number="20"> <span class="op">$</span><span class="st"> </span>dest          <span class="op">:</span><span class="st"> </span>chr [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="st">&quot;IAH&quot;</span> <span class="st">&quot;IAH&quot;</span> <span class="st">&quot;MIA&quot;</span> <span class="st">&quot;BQN&quot;</span> ...</a>
<a class="sourceLine" id="cb199-21" data-line-number="21"> <span class="op">$</span><span class="st"> </span>air_time      <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">227</span> <span class="dv">227</span> <span class="dv">160</span> <span class="dv">183</span> <span class="dv">116</span> <span class="dv">150</span> <span class="dv">158</span> <span class="dv">53</span> <span class="dv">140</span> <span class="dv">138</span> ...</a>
<a class="sourceLine" id="cb199-22" data-line-number="22"> <span class="op">$</span><span class="st"> </span>distance      <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">1400</span> <span class="dv">1416</span> <span class="dv">1089</span> <span class="dv">1576</span> <span class="dv">762</span> ...</a>
<a class="sourceLine" id="cb199-23" data-line-number="23"> <span class="op">$</span><span class="st"> </span>hour          <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">5</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> ...</a>
<a class="sourceLine" id="cb199-24" data-line-number="24"> <span class="op">$</span><span class="st"> </span>minute        <span class="op">:</span><span class="st"> </span>num [<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>] <span class="dv">15</span> <span class="dv">29</span> <span class="dv">40</span> <span class="dv">45</span> <span class="dv">0</span> <span class="dv">58</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> ...</a>
<a class="sourceLine" id="cb199-25" data-line-number="25"> <span class="op">$</span><span class="st"> </span>time_hour     <span class="op">:</span><span class="st"> </span>POSIXct[<span class="dv">1</span><span class="op">:</span><span class="dv">336776</span>], format<span class="op">:</span><span class="st"> &quot;2013-01-01 05:00:00&quot;</span> <span class="st">&quot;2013-01-01 05:00:00&quot;</span> ...</a></code></pre></div>
<p>We’ll start out with the <code>nycflights13</code> package, which contains information on all flights that left a NYC airport to destinations in the US, Puerto Rico, and the US Virgin Islands.</p>
<div class="tryitout">
<p>You might want to try out your EDA skills from the previous module to see what you can find out about the dataset, before seeing how <code>select()</code> works.</p>
</div>
<p>We could get a data frame of departure information for each flight:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" data-line-number="1"><span class="kw">select</span>(flights, flight, year<span class="op">:</span>day, tailnum, origin, <span class="kw">matches</span>(<span class="st">&quot;dep&quot;</span>))</a>
<a class="sourceLine" id="cb200-2" data-line-number="2"><span class="co"># A tibble: 336,776 x 9</span></a>
<a class="sourceLine" id="cb200-3" data-line-number="3">   flight  year month   day tailnum origin dep_time sched_dep_time dep_delay</a>
<a class="sourceLine" id="cb200-4" data-line-number="4">    <span class="op">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">   </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">     </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">     </span><span class="er">&lt;</span>dbl<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb200-5" data-line-number="5"><span class="st"> </span><span class="dv">1</span>   <span class="dv">1545</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N14228  EWR         <span class="dv">517</span>            <span class="dv">515</span>         <span class="dv">2</span></a>
<a class="sourceLine" id="cb200-6" data-line-number="6"> <span class="dv">2</span>   <span class="dv">1714</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N24211  LGA         <span class="dv">533</span>            <span class="dv">529</span>         <span class="dv">4</span></a>
<a class="sourceLine" id="cb200-7" data-line-number="7"> <span class="dv">3</span>   <span class="dv">1141</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N619AA  JFK         <span class="dv">542</span>            <span class="dv">540</span>         <span class="dv">2</span></a>
<a class="sourceLine" id="cb200-8" data-line-number="8"> <span class="dv">4</span>    <span class="dv">725</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N804JB  JFK         <span class="dv">544</span>            <span class="dv">545</span>        <span class="dv">-1</span></a>
<a class="sourceLine" id="cb200-9" data-line-number="9"> <span class="dv">5</span>    <span class="dv">461</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N668DN  LGA         <span class="dv">554</span>            <span class="dv">600</span>        <span class="dv">-6</span></a>
<a class="sourceLine" id="cb200-10" data-line-number="10"> <span class="dv">6</span>   <span class="dv">1696</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N39463  EWR         <span class="dv">554</span>            <span class="dv">558</span>        <span class="dv">-4</span></a>
<a class="sourceLine" id="cb200-11" data-line-number="11"> <span class="dv">7</span>    <span class="dv">507</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N516JB  EWR         <span class="dv">555</span>            <span class="dv">600</span>        <span class="dv">-5</span></a>
<a class="sourceLine" id="cb200-12" data-line-number="12"> <span class="dv">8</span>   <span class="dv">5708</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N829AS  LGA         <span class="dv">557</span>            <span class="dv">600</span>        <span class="dv">-3</span></a>
<a class="sourceLine" id="cb200-13" data-line-number="13"> <span class="dv">9</span>     <span class="dv">79</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N593JB  JFK         <span class="dv">557</span>            <span class="dv">600</span>        <span class="dv">-3</span></a>
<a class="sourceLine" id="cb200-14" data-line-number="14"><span class="dv">10</span>    <span class="dv">301</span>  <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span> N3ALAA  LGA         <span class="dv">558</span>            <span class="dv">600</span>        <span class="dv">-2</span></a>
<a class="sourceLine" id="cb200-15" data-line-number="15"><span class="co"># … with 336,766 more rows</span></a></code></pre></div>
<p>Perhaps we want the plane and flight ID information to be the first columns:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb201-1" data-line-number="1">flights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb201-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(carrier<span class="op">:</span>dest, <span class="kw">everything</span>())</a>
<a class="sourceLine" id="cb201-3" data-line-number="3"><span class="co"># A tibble: 336,776 x 19</span></a>
<a class="sourceLine" id="cb201-4" data-line-number="4">   carrier flight tailnum origin dest   year month   day dep_time sched_dep_time</a>
<a class="sourceLine" id="cb201-5" data-line-number="5">   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">   </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">  </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb201-6" data-line-number="6"><span class="st"> </span><span class="dv">1</span> UA        <span class="dv">1545</span> N14228  EWR    IAH    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">517</span>            <span class="dv">515</span></a>
<a class="sourceLine" id="cb201-7" data-line-number="7"> <span class="dv">2</span> UA        <span class="dv">1714</span> N24211  LGA    IAH    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">533</span>            <span class="dv">529</span></a>
<a class="sourceLine" id="cb201-8" data-line-number="8"> <span class="dv">3</span> AA        <span class="dv">1141</span> N619AA  JFK    MIA    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">542</span>            <span class="dv">540</span></a>
<a class="sourceLine" id="cb201-9" data-line-number="9"> <span class="dv">4</span> B6         <span class="dv">725</span> N804JB  JFK    BQN    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">544</span>            <span class="dv">545</span></a>
<a class="sourceLine" id="cb201-10" data-line-number="10"> <span class="dv">5</span> DL         <span class="dv">461</span> N668DN  LGA    ATL    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">554</span>            <span class="dv">600</span></a>
<a class="sourceLine" id="cb201-11" data-line-number="11"> <span class="dv">6</span> UA        <span class="dv">1696</span> N39463  EWR    ORD    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">554</span>            <span class="dv">558</span></a>
<a class="sourceLine" id="cb201-12" data-line-number="12"> <span class="dv">7</span> B6         <span class="dv">507</span> N516JB  EWR    FLL    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">555</span>            <span class="dv">600</span></a>
<a class="sourceLine" id="cb201-13" data-line-number="13"> <span class="dv">8</span> EV        <span class="dv">5708</span> N829AS  LGA    IAD    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">557</span>            <span class="dv">600</span></a>
<a class="sourceLine" id="cb201-14" data-line-number="14"> <span class="dv">9</span> B6          <span class="dv">79</span> N593JB  JFK    MCO    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">557</span>            <span class="dv">600</span></a>
<a class="sourceLine" id="cb201-15" data-line-number="15"><span class="dv">10</span> AA         <span class="dv">301</span> N3ALAA  LGA    ORD    <span class="dv">2013</span>     <span class="dv">1</span>     <span class="dv">1</span>      <span class="dv">558</span>            <span class="dv">600</span></a>
<a class="sourceLine" id="cb201-16" data-line-number="16"><span class="co"># … with 336,766 more rows, and 9 more variables: dep_delay &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb201-17" data-line-number="17"><span class="co">#   arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;, arr_delay &lt;dbl&gt;, air_time &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb201-18" data-line-number="18"><span class="co">#   distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</span></a></code></pre></div>
<p>Note that <code>everything()</code> won’t duplicate columns you’ve already added.</p>
<p>Exploring the difference between bare name selection and <code>all_of()</code>/<code>any_of()</code></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb202-1" data-line-number="1">flights <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb202-2" data-line-number="2"><span class="st">  </span><span class="kw">select</span>(carrier, flight, tailnum, <span class="kw">matches</span>(<span class="st">&quot;time&quot;</span>))</a>
<a class="sourceLine" id="cb202-3" data-line-number="3"><span class="co"># A tibble: 336,776 x 9</span></a>
<a class="sourceLine" id="cb202-4" data-line-number="4">   carrier flight tailnum dep_time sched_dep_time arr_time sched_arr_time</a>
<a class="sourceLine" id="cb202-5" data-line-number="5">   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb202-6" data-line-number="6"><span class="st"> </span><span class="dv">1</span> UA        <span class="dv">1545</span> N14228       <span class="dv">517</span>            <span class="dv">515</span>      <span class="dv">830</span>            <span class="dv">819</span></a>
<a class="sourceLine" id="cb202-7" data-line-number="7"> <span class="dv">2</span> UA        <span class="dv">1714</span> N24211       <span class="dv">533</span>            <span class="dv">529</span>      <span class="dv">850</span>            <span class="dv">830</span></a>
<a class="sourceLine" id="cb202-8" data-line-number="8"> <span class="dv">3</span> AA        <span class="dv">1141</span> N619AA       <span class="dv">542</span>            <span class="dv">540</span>      <span class="dv">923</span>            <span class="dv">850</span></a>
<a class="sourceLine" id="cb202-9" data-line-number="9"> <span class="dv">4</span> B6         <span class="dv">725</span> N804JB       <span class="dv">544</span>            <span class="dv">545</span>     <span class="dv">1004</span>           <span class="dv">1022</span></a>
<a class="sourceLine" id="cb202-10" data-line-number="10"> <span class="dv">5</span> DL         <span class="dv">461</span> N668DN       <span class="dv">554</span>            <span class="dv">600</span>      <span class="dv">812</span>            <span class="dv">837</span></a>
<a class="sourceLine" id="cb202-11" data-line-number="11"> <span class="dv">6</span> UA        <span class="dv">1696</span> N39463       <span class="dv">554</span>            <span class="dv">558</span>      <span class="dv">740</span>            <span class="dv">728</span></a>
<a class="sourceLine" id="cb202-12" data-line-number="12"> <span class="dv">7</span> B6         <span class="dv">507</span> N516JB       <span class="dv">555</span>            <span class="dv">600</span>      <span class="dv">913</span>            <span class="dv">854</span></a>
<a class="sourceLine" id="cb202-13" data-line-number="13"> <span class="dv">8</span> EV        <span class="dv">5708</span> N829AS       <span class="dv">557</span>            <span class="dv">600</span>      <span class="dv">709</span>            <span class="dv">723</span></a>
<a class="sourceLine" id="cb202-14" data-line-number="14"> <span class="dv">9</span> B6          <span class="dv">79</span> N593JB       <span class="dv">557</span>            <span class="dv">600</span>      <span class="dv">838</span>            <span class="dv">846</span></a>
<a class="sourceLine" id="cb202-15" data-line-number="15"><span class="dv">10</span> AA         <span class="dv">301</span> N3ALAA       <span class="dv">558</span>            <span class="dv">600</span>      <span class="dv">753</span>            <span class="dv">745</span></a>
<a class="sourceLine" id="cb202-16" data-line-number="16"><span class="co"># … with 336,766 more rows, and 2 more variables: air_time &lt;dbl&gt;,</span></a>
<a class="sourceLine" id="cb202-17" data-line-number="17"><span class="co">#   time_hour &lt;dttm&gt;</span></a>
<a class="sourceLine" id="cb202-18" data-line-number="18"></a>
<a class="sourceLine" id="cb202-19" data-line-number="19">varlist &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;carrier&quot;</span>, <span class="st">&quot;flight&quot;</span>, <span class="st">&quot;tailnum&quot;</span>, </a>
<a class="sourceLine" id="cb202-20" data-line-number="20">             <span class="st">&quot;dep_time&quot;</span>, <span class="st">&quot;sched_dep_time&quot;</span>, <span class="st">&quot;arr_time&quot;</span>, <span class="st">&quot;sched_arr_time&quot;</span>, </a>
<a class="sourceLine" id="cb202-21" data-line-number="21">             <span class="st">&quot;air_time&quot;</span>)</a>
<a class="sourceLine" id="cb202-22" data-line-number="22"></a>
<a class="sourceLine" id="cb202-23" data-line-number="23">flights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb202-24" data-line-number="24"><span class="st">  </span><span class="kw">select</span>(<span class="kw">all_of</span>(varlist))</a>
<a class="sourceLine" id="cb202-25" data-line-number="25"><span class="co"># A tibble: 336,776 x 8</span></a>
<a class="sourceLine" id="cb202-26" data-line-number="26">   carrier flight tailnum dep_time sched_dep_time arr_time sched_arr_time</a>
<a class="sourceLine" id="cb202-27" data-line-number="27">   <span class="op">&lt;</span>chr<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st"> </span><span class="er">&lt;</span>chr<span class="op">&gt;</span><span class="st">      </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">    </span><span class="er">&lt;</span>int<span class="op">&gt;</span><span class="st">          </span><span class="er">&lt;</span>int<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb202-28" data-line-number="28"><span class="st"> </span><span class="dv">1</span> UA        <span class="dv">1545</span> N14228       <span class="dv">517</span>            <span class="dv">515</span>      <span class="dv">830</span>            <span class="dv">819</span></a>
<a class="sourceLine" id="cb202-29" data-line-number="29"> <span class="dv">2</span> UA        <span class="dv">1714</span> N24211       <span class="dv">533</span>            <span class="dv">529</span>      <span class="dv">850</span>            <span class="dv">830</span></a>
<a class="sourceLine" id="cb202-30" data-line-number="30"> <span class="dv">3</span> AA        <span class="dv">1141</span> N619AA       <span class="dv">542</span>            <span class="dv">540</span>      <span class="dv">923</span>            <span class="dv">850</span></a>
<a class="sourceLine" id="cb202-31" data-line-number="31"> <span class="dv">4</span> B6         <span class="dv">725</span> N804JB       <span class="dv">544</span>            <span class="dv">545</span>     <span class="dv">1004</span>           <span class="dv">1022</span></a>
<a class="sourceLine" id="cb202-32" data-line-number="32"> <span class="dv">5</span> DL         <span class="dv">461</span> N668DN       <span class="dv">554</span>            <span class="dv">600</span>      <span class="dv">812</span>            <span class="dv">837</span></a>
<a class="sourceLine" id="cb202-33" data-line-number="33"> <span class="dv">6</span> UA        <span class="dv">1696</span> N39463       <span class="dv">554</span>            <span class="dv">558</span>      <span class="dv">740</span>            <span class="dv">728</span></a>
<a class="sourceLine" id="cb202-34" data-line-number="34"> <span class="dv">7</span> B6         <span class="dv">507</span> N516JB       <span class="dv">555</span>            <span class="dv">600</span>      <span class="dv">913</span>            <span class="dv">854</span></a>
<a class="sourceLine" id="cb202-35" data-line-number="35"> <span class="dv">8</span> EV        <span class="dv">5708</span> N829AS       <span class="dv">557</span>            <span class="dv">600</span>      <span class="dv">709</span>            <span class="dv">723</span></a>
<a class="sourceLine" id="cb202-36" data-line-number="36"> <span class="dv">9</span> B6          <span class="dv">79</span> N593JB       <span class="dv">557</span>            <span class="dv">600</span>      <span class="dv">838</span>            <span class="dv">846</span></a>
<a class="sourceLine" id="cb202-37" data-line-number="37"><span class="dv">10</span> AA         <span class="dv">301</span> N3ALAA       <span class="dv">558</span>            <span class="dv">600</span>      <span class="dv">753</span>            <span class="dv">745</span></a>
<a class="sourceLine" id="cb202-38" data-line-number="38"><span class="co"># … with 336,766 more rows, and 1 more variable: air_time &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb202-39" data-line-number="39"></a>
<a class="sourceLine" id="cb202-40" data-line-number="40">varlist &lt;-<span class="st"> </span><span class="kw">c</span>(varlist, <span class="st">&quot;whoops&quot;</span>)</a>
<a class="sourceLine" id="cb202-41" data-line-number="41"></a>
<a class="sourceLine" id="cb202-42" data-line-number="42">flights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb202-43" data-line-number="43"><span class="st">  </span><span class="kw">select</span>(<span class="kw">all_of</span>(varlist)) <span class="co"># this errors out b/c whoops doesn&#39;t exist</span></a>
<a class="sourceLine" id="cb202-44" data-line-number="44">Error<span class="op">:</span><span class="st"> </span>Can<span class="st">&#39;t subset columns that don&#39;</span>t exist.</a>
<a class="sourceLine" id="cb202-45" data-line-number="45">[31mx[39m Column <span class="st">`</span><span class="dt">whoops</span><span class="st">`</span> doesn<span class="st">&#39;t exist.</span></a>
<a class="sourceLine" id="cb202-46" data-line-number="46"></a>
<a class="sourceLine" id="cb202-47" data-line-number="47"><span class="st">flights %&gt;%</span></a>
<a class="sourceLine" id="cb202-48" data-line-number="48"><span class="st">  select(any_of(varlist)) # this runs just fine</span></a>
<a class="sourceLine" id="cb202-49" data-line-number="49"><span class="st"># A tibble: 336,776 x 8</span></a>
<a class="sourceLine" id="cb202-50" data-line-number="50"><span class="st">   carrier flight tailnum dep_time sched_dep_time arr_time sched_arr_time</span></a>
<a class="sourceLine" id="cb202-51" data-line-number="51"><span class="st">   &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;      &lt;int&gt;          &lt;int&gt;    &lt;int&gt;          &lt;int&gt;</span></a>
<a class="sourceLine" id="cb202-52" data-line-number="52"><span class="st"> 1 UA        1545 N14228       517            515      830            819</span></a>
<a class="sourceLine" id="cb202-53" data-line-number="53"><span class="st"> 2 UA        1714 N24211       533            529      850            830</span></a>
<a class="sourceLine" id="cb202-54" data-line-number="54"><span class="st"> 3 AA        1141 N619AA       542            540      923            850</span></a>
<a class="sourceLine" id="cb202-55" data-line-number="55"><span class="st"> 4 B6         725 N804JB       544            545     1004           1022</span></a>
<a class="sourceLine" id="cb202-56" data-line-number="56"><span class="st"> 5 DL         461 N668DN       554            600      812            837</span></a>
<a class="sourceLine" id="cb202-57" data-line-number="57"><span class="st"> 6 UA        1696 N39463       554            558      740            728</span></a>
<a class="sourceLine" id="cb202-58" data-line-number="58"><span class="st"> 7 B6         507 N516JB       555            600      913            854</span></a>
<a class="sourceLine" id="cb202-59" data-line-number="59"><span class="st"> 8 EV        5708 N829AS       557            600      709            723</span></a>
<a class="sourceLine" id="cb202-60" data-line-number="60"><span class="st"> 9 B6          79 N593JB       557            600      838            846</span></a>
<a class="sourceLine" id="cb202-61" data-line-number="61"><span class="st">10 AA         301 N3ALAA       558            600      753            745</span></a>
<a class="sourceLine" id="cb202-62" data-line-number="62"><span class="st"># … with 336,766 more rows, and 1 more variable: air_time &lt;dbl&gt;</span></a></code></pre></div>
</details>
<p>So for now, at least in R, you know how to cut your data down to size rowwise (with <code>filter</code>) and column-wise (with <code>select</code>).</p>
<p>Unfortunately, SAS doesn’t make column selection <em>quite</em> as easy. It’s still not hard, but it can be tedious. In SAS, there are two primary methods to select variables: KEEP selects variables, DROP removes variables.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb203-1" data-line-number="1"><span class="co"># Export flights data for SAS</span></a>
<a class="sourceLine" id="cb203-2" data-line-number="2">flights <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb203-3" data-line-number="3"><span class="st">  </span><span class="kw">sample_frac</span>(<span class="dt">size =</span> <span class="fl">.25</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># Keep file from being too big</span></a>
<a class="sourceLine" id="cb203-4" data-line-number="4"><span class="kw">write_csv</span>(<span class="st">&quot;data/flights.csv&quot;</span>, <span class="dt">na =</span> <span class="st">&quot;.&quot;</span>)</a></code></pre></div>
<pre><code>/* Read in data */
libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;
filename fileloc &#39;~/Projects/Class/unl-stat850/2020-stat850/data/flights.csv&#39;;
PROC IMPORT  datafile = fileloc out=classdat.flights
  DBMS = csv; /* comma delimited file */
  GETNAMES = YES;
RUN;</code></pre>
<p>In SAS, a partial variable name either preceded or followed by <code>:</code> serves as a wildcard.
Ranges of variables can be specified with two dashes, e.g. <code>var3 -- var5</code>.</p>
<details>
<p><summary>SAS KEEP statement</summary>
Unfortunately, the wildcard doesn’t work on both ends, so to get the equivalent of <code>matches(&quot;dep&quot;)</code>, we have to use two different options in our KEEP statement (plus the extra variables that don’t have dep in them).</p>
<pre class="sashtml"><code>
libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

DATA tmpfly;
  KEEP flight year--day tailnum origin dep: sched_dep:;
  SET classdat.flights;
RUN;

PROC PRINT DATA = tmpfly (obs=10); 
RUN;
</code></pre>
<div class="branch">
<a name="IDX"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" summary="Procedure Print: Data Set WORK.TMPFLY">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="r header" scope="col">
Obs
</th>
<th class="r header" scope="col">
year
</th>
<th class="r header" scope="col">
month
</th>
<th class="r header" scope="col">
day
</th>
<th class="r header" scope="col">
dep_time
</th>
<th class="r header" scope="col">
sched_dep_time
</th>
<th class="r header" scope="col">
dep_delay
</th>
<th class="r header" scope="col">
flight
</th>
<th class="l header" scope="col">
tailnum
</th>
<th class="l header" scope="col">
origin
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="r data">
2013
</td>
<td class="r data">
5
</td>
<td class="r data">
9
</td>
<td class="r data">
1855
</td>
<td class="r data">
1730
</td>
<td class="r data">
85
</td>
<td class="r data">
419
</td>
<td class="l data">
N203FR
</td>
<td class="l data">
LGA
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="r data">
2013
</td>
<td class="r data">
9
</td>
<td class="r data">
11
</td>
<td class="r data">
1349
</td>
<td class="r data">
1355
</td>
<td class="r data" nowrap>
-6
</td>
<td class="r data">
686
</td>
<td class="l data">
N667AW
</td>
<td class="l data">
EWR
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="r data">
2013
</td>
<td class="r data">
5
</td>
<td class="r data">
23
</td>
<td class="r data">
2109
</td>
<td class="r data">
1745
</td>
<td class="r data">
204
</td>
<td class="r data">
785
</td>
<td class="l data">
N3DSAA
</td>
<td class="l data">
LGA
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="r data">
2013
</td>
<td class="r data">
3
</td>
<td class="r data">
30
</td>
<td class="r data">
1251
</td>
<td class="r data">
1300
</td>
<td class="r data" nowrap>
-9
</td>
<td class="r data">
315
</td>
<td class="l data">
N3752
</td>
<td class="l data">
JFK
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="r data">
2013
</td>
<td class="r data">
10
</td>
<td class="r data">
11
</td>
<td class="r data">
1555
</td>
<td class="r data">
1529
</td>
<td class="r data">
26
</td>
<td class="r data">
1246
</td>
<td class="l data">
N78524
</td>
<td class="l data">
EWR
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
6
</th>
<td class="r data">
2013
</td>
<td class="r data">
11
</td>
<td class="r data">
20
</td>
<td class="r data">
659
</td>
<td class="r data">
705
</td>
<td class="r data" nowrap>
-6
</td>
<td class="r data">
1107
</td>
<td class="l data">
N3FUAA
</td>
<td class="l data">
LGA
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
7
</th>
<td class="r data">
2013
</td>
<td class="r data">
1
</td>
<td class="r data">
4
</td>
<td class="r data">
837
</td>
<td class="r data">
830
</td>
<td class="r data">
7
</td>
<td class="r data">
313
</td>
<td class="l data">
N4WWAA
</td>
<td class="l data">
LGA
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
8
</th>
<td class="r data">
2013
</td>
<td class="r data">
2
</td>
<td class="r data">
12
</td>
<td class="r data">
1900
</td>
<td class="r data">
1855
</td>
<td class="r data">
5
</td>
<td class="r data">
4649
</td>
<td class="l data">
N513MQ
</td>
<td class="l data">
LGA
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
9
</th>
<td class="r data">
2013
</td>
<td class="r data">
5
</td>
<td class="r data">
20
</td>
<td class="r data">
1137
</td>
<td class="r data">
1140
</td>
<td class="r data" nowrap>
-3
</td>
<td class="r data">
1191
</td>
<td class="l data">
N355JB
</td>
<td class="l data">
JFK
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
10
</th>
<td class="r data">
2013
</td>
<td class="r data">
9
</td>
<td class="r data">
22
</td>
<td class="r data">
2136
</td>
<td class="r data">
1930
</td>
<td class="r data">
126
</td>
<td class="r data">
3497
</td>
<td class="l data">
N904XJ
</td>
<td class="l data">
JFK
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
</div>
Note also that SAS doesn’t reorder the columns for us like <code>select()</code> does.
</details>
<p>If we’d prefer to carve out columns (rather than assembling a new dataset with the columns we want to keep), we can use a DROP statement, which works exactly the same way. Let’s see what columns we removed implicitly last time by dropping everything we’d previously kept:</p>
<details>
<p><summary>SAS DROP statement</summary></p>
<pre class="sashtml"><code>libname classdat &quot;/home/susan/Projects/Class/unl-stat850/2020-stat850/sas/&quot;;

DATA tmpfly;
  DROP flight year--day tailnum origin dep: sched_dep:;
  SET classdat.flights;
RUN;

PROC PRINT DATA = tmpfly (obs=10); 
RUN;</code></pre>
<div class="branch">
<a name="IDX"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" summary="Procedure Print: Data Set WORK.TMPFLY">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="r header" scope="col">
Obs
</th>
<th class="r header" scope="col">
arr_time
</th>
<th class="r header" scope="col">
sched_arr_time
</th>
<th class="r header" scope="col">
arr_delay
</th>
<th class="l header" scope="col">
carrier
</th>
<th class="l header" scope="col">
dest
</th>
<th class="r header" scope="col">
air_time
</th>
<th class="r header" scope="col">
distance
</th>
<th class="r header" scope="col">
hour
</th>
<th class="r header" scope="col">
minute
</th>
<th class="r header" scope="col">
time_hour
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="r data">
2116
</td>
<td class="r data">
1956
</td>
<td class="r data">
80
</td>
<td class="l data">
F9
</td>
<td class="l data">
DEN
</td>
<td class="r data">
224
</td>
<td class="r data">
1620
</td>
<td class="r data">
17
</td>
<td class="r data">
30
</td>
<td class="r data">
20130509T210000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="r data">
1544
</td>
<td class="r data">
1602
</td>
<td class="r data" nowrap>
-18
</td>
<td class="l data">
US
</td>
<td class="l data">
PHX
</td>
<td class="r data">
272
</td>
<td class="r data">
2133
</td>
<td class="r data">
13
</td>
<td class="r data">
55
</td>
<td class="r data">
20130911T170000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="r data">
2350
</td>
<td class="r data">
2050
</td>
<td class="r data">
180
</td>
<td class="l data">
AA
</td>
<td class="l data">
DFW
</td>
<td class="r data">
204
</td>
<td class="r data">
1389
</td>
<td class="r data">
17
</td>
<td class="r data">
45
</td>
<td class="r data">
20130523T210000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="r data">
1630
</td>
<td class="r data">
1649
</td>
<td class="r data" nowrap>
-19
</td>
<td class="l data">
DL
</td>
<td class="l data">
SJU
</td>
<td class="r data">
200
</td>
<td class="r data">
1598
</td>
<td class="r data">
13
</td>
<td class="r data">
0
</td>
<td class="r data">
20130330T170000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="r data">
1851
</td>
<td class="r data">
1847
</td>
<td class="r data">
4
</td>
<td class="l data">
UA
</td>
<td class="l data">
SFO
</td>
<td class="r data">
332
</td>
<td class="r data">
2565
</td>
<td class="r data">
15
</td>
<td class="r data">
29
</td>
<td class="r data">
20131011T190000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
6
</th>
<td class="r data">
958
</td>
<td class="r data">
955
</td>
<td class="r data">
3
</td>
<td class="l data">
AA
</td>
<td class="l data">
DFW
</td>
<td class="r data">
201
</td>
<td class="r data">
1389
</td>
<td class="r data">
7
</td>
<td class="r data">
5
</td>
<td class="r data">
20131120T120000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
7
</th>
<td class="r data">
1044
</td>
<td class="r data">
1015
</td>
<td class="r data">
29
</td>
<td class="l data">
AA
</td>
<td class="l data">
ORD
</td>
<td class="r data">
115
</td>
<td class="r data">
733
</td>
<td class="r data">
8
</td>
<td class="r data">
30
</td>
<td class="r data">
20130104T130000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
8
</th>
<td class="r data">
2042
</td>
<td class="r data">
2100
</td>
<td class="r data" nowrap>
-18
</td>
<td class="l data">
MQ
</td>
<td class="l data">
MSP
</td>
<td class="r data">
143
</td>
<td class="r data">
1020
</td>
<td class="r data">
18
</td>
<td class="r data">
55
</td>
<td class="r data">
20130212T230000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
9
</th>
<td class="r data">
1239
</td>
<td class="r data">
1247
</td>
<td class="r data" nowrap>
-8
</td>
<td class="l data">
B6
</td>
<td class="l data">
ACK
</td>
<td class="r data">
45
</td>
<td class="r data">
199
</td>
<td class="r data">
11
</td>
<td class="r data">
40
</td>
<td class="r data">
20130520T150000+0000
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
10
</th>
<td class="r data">
2334
</td>
<td class="r data">
2125
</td>
<td class="r data">
129
</td>
<td class="l data">
9E
</td>
<td class="l data">
RDU
</td>
<td class="r data">
68
</td>
<td class="r data">
427
</td>
<td class="r data">
19
</td>
<td class="r data">
30
</td>
<td class="r data">
20130922T230000+0000
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
</div>
</details>
<p>For the most part, that is what you need to functionally replicate <code>select()</code> syntax. It may be a bit more work because there aren’t the same convenience functions, but it’ll do and you don’t have to remember as many keywords, so that’s a plus.</p>
</div>
<div id="group-by" class="section level2">
<h2><span class="header-section-number">5.4</span> Group By</h2>
</div>
<div id="summarize" class="section level2">
<h2><span class="header-section-number">5.5</span> Summarize</h2>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p>The philosophy includes a preference for pipes, but this preference stems from the belief that code should be readable in the same way that text is readable.<a href="manipulating-data.html#fnref15" class="footnote-back">↩</a></p></li>
<li id="fn16"><p>It accomplishes this through the magic of quasiquotation, which we will not cover in this course because it’s basically witchcraft.<a href="manipulating-data.html#fnref16" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reading-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="transforming-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["unl-stat850.pdf", "unl-stat850.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
