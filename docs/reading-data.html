<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 4 External Data | Stat 850: Computing Tools for Statisticians</title>
  <meta name="description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 4 External Data | Stat 850: Computing Tools for Statisticians" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://srvanderplas.github.io/unl-stat850/" />
  <meta property="og:image" content="https://srvanderplas.github.io/unl-stat850/images/cover.png" />
  <meta property="og:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="github-repo" content="srvanderplas/unl-stat850" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 4 External Data | Stat 850: Computing Tools for Statisticians" />
  
  <meta name="twitter:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="twitter:image" content="https://srvanderplas.github.io/unl-stat850/images/cover.png" />

<meta name="author" content="Susan Vanderplas" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="organization.html"/>
<link rel="next" href="manipulating-data.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script>

(function() {
  var codes = document.querySelectorAll('pre:not([class])');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Answers';
    // <details><summary>Answers</summary></details>
      d.appendChild(s);
    // move the code into <details>
      p.replaceChild(d, code);
    d.appendChild(code);
  }
})();
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Statistical Computing</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#forward"><i class="fa fa-check"></i>Forward</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i>Course Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-goals"><i class="fa fa-check"></i>Course Goals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-objectives"><i class="fa fa-check"></i>Course Objectives</a></li>
</ul></li>
<li class="part"><span><b>I Fundamentals</b></span></li>
<li class="chapter" data-level="1" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>1</b> Tools for Statistical Computing</a>
<ul>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#module-1-objectives"><i class="fa fa-check"></i>Tools: Module Objectives</a></li>
<li class="chapter" data-level="1.1" data-path="tools.html"><a href="tools.html#setting-up-software"><i class="fa fa-check"></i><b>1.1</b> Setting Up Software</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="tools.html"><a href="tools.html#sas"><i class="fa fa-check"></i><b>1.1.1</b> SAS</a></li>
<li class="chapter" data-level="1.1.2" data-path="tools.html"><a href="tools.html#r"><i class="fa fa-check"></i><b>1.1.2</b> R</a></li>
<li class="chapter" data-level="1.1.3" data-path="tools.html"><a href="tools.html#rstudio"><i class="fa fa-check"></i><b>1.1.3</b> RStudio</a></li>
<li class="chapter" data-level="1.1.4" data-path="tools.html"><a href="tools.html#git"><i class="fa fa-check"></i><b>1.1.4</b> git</a></li>
<li class="chapter" data-level="1.1.5" data-path="tools.html"><a href="tools.html#latex"><i class="fa fa-check"></i><b>1.1.5</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="tools.html"><a href="tools.html#r-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> R and RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="tools.html"><a href="tools.html#getting-set-up-r"><i class="fa fa-check"></i><b>1.2.1</b> Getting Set up: R</a></li>
<li class="chapter" data-level="1.2.2" data-path="tools.html"><a href="tools.html#getting-set-up-rstudio"><i class="fa fa-check"></i><b>1.2.2</b> Getting Set up: RStudio</a></li>
<li class="chapter" data-level="1.2.3" data-path="tools.html"><a href="tools.html#exploring-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> Exploring RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="tools.html"><a href="tools.html#sas-1"><i class="fa fa-check"></i><b>1.3</b> SAS</a>
<ul>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#note"><i class="fa fa-check"></i>Note</a></li>
<li class="chapter" data-level="1.3.1" data-path="tools.html"><a href="tools.html#sas-windowspanes"><i class="fa fa-check"></i><b>1.3.1</b> SAS Windows/Panes</a></li>
<li class="chapter" data-level="1.3.2" data-path="tools.html"><a href="tools.html#sas-modules"><i class="fa fa-check"></i><b>1.3.2</b> SAS Modules</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tools.html"><a href="tools.html#version-control-with-git"><i class="fa fa-check"></i><b>1.4</b> Version Control with Git</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="tools.html"><a href="tools.html#getting-set-up-github"><i class="fa fa-check"></i><b>1.4.1</b> Getting set up: GitHub</a></li>
<li class="chapter" data-level="1.4.2" data-path="tools.html"><a href="tools.html#getting-set-up-git"><i class="fa fa-check"></i><b>1.4.2</b> Getting set up: git</a></li>
<li class="chapter" data-level="1.4.3" data-path="tools.html"><a href="tools.html#introduce-yourself-to-git"><i class="fa fa-check"></i><b>1.4.3</b> Introduce yourself to git</a></li>
<li class="chapter" data-level="1.4.4" data-path="tools.html"><a href="tools.html#optional-install-a-git-client"><i class="fa fa-check"></i><b>1.4.4</b> Optional: Install a git client</a></li>
<li class="chapter" data-level="1.4.5" data-path="tools.html"><a href="tools.html#git-and-github"><i class="fa fa-check"></i><b>1.4.5</b> Git and Github</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="tools.html"><a href="tools.html#latex-1"><i class="fa fa-check"></i><b>1.5</b> LaTeX</a></li>
<li class="chapter" data-level="1.6" data-path="tools.html"><a href="tools.html#easy-extra-setup-script"><i class="fa fa-check"></i><b>1.6</b> Easy Extra Setup Script</a></li>
<li class="chapter" data-level="1.7" data-path="tools.html"><a href="tools.html#topic-sequencing"><i class="fa fa-check"></i><b>1.7</b> Topic Sequencing</a></li>
<li class="chapter" data-level="1.8" data-path="tools.html"><a href="tools.html#using-version-control"><i class="fa fa-check"></i><b>1.8</b> Using Version Control</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="tools.html"><a href="tools.html#create-a-repository"><i class="fa fa-check"></i><b>1.8.1</b> Create a Repository</a></li>
<li class="chapter" data-level="1.8.2" data-path="tools.html"><a href="tools.html#adding-files"><i class="fa fa-check"></i><b>1.8.2</b> Adding files</a></li>
<li class="chapter" data-level="1.8.3" data-path="tools.html"><a href="tools.html#staging-your-changes"><i class="fa fa-check"></i><b>1.8.3</b> Staging your changes</a></li>
<li class="chapter" data-level="1.8.4" data-path="tools.html"><a href="tools.html#committing-your-changes"><i class="fa fa-check"></i><b>1.8.4</b> Committing your changes</a></li>
<li class="chapter" data-level="1.8.5" data-path="tools.html"><a href="tools.html#pushing-and-pulling"><i class="fa fa-check"></i><b>1.8.5</b> Pushing and Pulling</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="tools.html"><a href="tools.html#references"><i class="fa fa-check"></i><b>1.9</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-prog.html"><a href="intro-prog.html"><i class="fa fa-check"></i><b>2</b> Introduction to Statistical Programming</a>
<ul>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#a-quick-note-on-rmarkdown"><i class="fa fa-check"></i>A quick note on Rmarkdown</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#module-2-objectives"><i class="fa fa-check"></i>Intro to Programming: Module Objectives</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#definitions"><i class="fa fa-check"></i>Definitions</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#statistical-programming-languages"><i class="fa fa-check"></i>Statistical Programming Languages</a></li>
<li class="chapter" data-level="2.1" data-path="intro-prog.html"><a href="intro-prog.html#variable-types"><i class="fa fa-check"></i><b>2.1</b> Variable types</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="intro-prog.html"><a href="intro-prog.html#r-1"><i class="fa fa-check"></i><b>2.1.1</b> R</a></li>
<li class="chapter" data-level="2.1.2" data-path="intro-prog.html"><a href="intro-prog.html#sas-2"><i class="fa fa-check"></i><b>2.1.2</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro-prog.html"><a href="intro-prog.html#data-structures"><i class="fa fa-check"></i><b>2.2</b> Data structures</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro-prog.html"><a href="intro-prog.html#homogeneous-data-structures-r-and-sas"><i class="fa fa-check"></i><b>2.2.1</b> Homogeneous data structures (R and SAS)</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro-prog.html"><a href="intro-prog.html#heterogeneous-data-structures"><i class="fa fa-check"></i><b>2.2.2</b> Heterogeneous data structures</a></li>
<li class="chapter" data-level="2.2.3" data-path="intro-prog.html"><a href="intro-prog.html#indexing"><i class="fa fa-check"></i><b>2.2.3</b> Indexing</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro-prog.html"><a href="intro-prog.html#control-structures"><i class="fa fa-check"></i><b>2.3</b> Control structures</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro-prog.html"><a href="intro-prog.html#if-statements"><i class="fa fa-check"></i><b>2.3.1</b> If statements</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro-prog.html"><a href="intro-prog.html#loops"><i class="fa fa-check"></i><b>2.3.2</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro-prog.html"><a href="intro-prog.html#overgrown-calculators"><i class="fa fa-check"></i><b>2.4</b> Overgrown Calculators</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#references-and-links"><i class="fa fa-check"></i>References and Links</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro-prog.html"><a href="intro-prog.html#cheat-sheets-and-reference-cards"><i class="fa fa-check"></i><b>2.4.1</b> Cheat Sheets and Reference Cards</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro-prog.html"><a href="intro-prog.html#sas-as-taught-in-other-places"><i class="fa fa-check"></i><b>2.4.2</b> SAS (as taught in other places)</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro-prog.html"><a href="intro-prog.html#r-courses-as-taught-elsewhere-and-textbooks"><i class="fa fa-check"></i><b>2.4.3</b> R courses (as taught elsewhere) and Textbooks</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro-prog.html"><a href="intro-prog.html#combination-of-r-and-sas-courses"><i class="fa fa-check"></i><b>2.4.4</b> Combination of R and SAS courses</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro-prog.html"><a href="intro-prog.html#non-exhaustive-list-of-sources-used-to-aggregate-core-programming-concepts"><i class="fa fa-check"></i><b>2.4.5</b> Non-Exhaustive List of Sources used to aggregate “core programming concepts”:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="organization.html"><a href="organization.html"><i class="fa fa-check"></i><b>3</b> Organization: Packages, Functions, Scripts, and Documents</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#module-3-objectives"><i class="fa fa-check"></i>Organization: Module Objectives</a></li>
<li class="chapter" data-level="3.1" data-path="organization.html"><a href="organization.html#reproducibility"><i class="fa fa-check"></i><b>3.1</b> Reproducibility</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#reproducibility-references-and-reading"><i class="fa fa-check"></i>Reproducibility References and Reading</a></li>
<li class="chapter" data-level="3.1.1" data-path="organization.html"><a href="organization.html#rmarkdown"><i class="fa fa-check"></i><b>3.1.1</b> Markdown and R</a></li>
<li class="chapter" data-level="3.1.2" data-path="organization.html"><a href="organization.html#rmarkdown-with-sas"><i class="fa fa-check"></i><b>3.1.2</b> Rmarkdown with… SAS?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="organization.html"><a href="organization.html#functions-and-modules"><i class="fa fa-check"></i><b>3.2</b> Functions and Modules</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-7"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="3.2.1" data-path="organization.html"><a href="organization.html#scope"><i class="fa fa-check"></i><b>3.2.1</b> Scope</a></li>
<li class="chapter" data-level="3.2.2" data-path="organization.html"><a href="organization.html#the-pipe"><i class="fa fa-check"></i><b>3.2.2</b> The Pipe</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="organization.html"><a href="organization.html#procs-and-data-steps"><i class="fa fa-check"></i><b>3.3</b> Procs and Data steps</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-9"><i class="fa fa-check"></i>Try It Out</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="organization.html"><a href="organization.html#scripts"><i class="fa fa-check"></i><b>3.4</b> Scripts</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-10"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-sas"><i class="fa fa-check"></i>Try it out (SAS)</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="organization.html"><a href="organization.html#packages"><i class="fa fa-check"></i><b>3.5</b> Packages</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-11"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#references-and-links-1"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="part"><span><b>II Data Programming</b></span></li>
<li class="chapter" data-level="4" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>4</b> External Data</a>
<ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#reading-data-module-objectives"><i class="fa fa-check"></i>Reading Data: Module Objectives</a></li>
<li class="chapter" data-level="4.1" data-path="reading-data.html"><a href="reading-data.html#external-data-formats"><i class="fa fa-check"></i><b>4.1</b> External Data Formats</a></li>
<li class="chapter" data-level="4.2" data-path="reading-data.html"><a href="reading-data.html#text-files"><i class="fa fa-check"></i><b>4.2</b> Text Files</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="reading-data.html"><a href="reading-data.html#fixed-width-files"><i class="fa fa-check"></i><b>4.2.1</b> Fixed-width files</a></li>
<li class="chapter" data-level="4.2.2" data-path="reading-data.html"><a href="reading-data.html#delimited-text-files"><i class="fa fa-check"></i><b>4.2.2</b> Delimited Text Files</a></li>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-12"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reading-data.html"><a href="reading-data.html#spreadsheets"><i class="fa fa-check"></i><b>4.3</b> Spreadsheets</a>
<ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-13"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reading-data.html"><a href="reading-data.html#binary-files"><i class="fa fa-check"></i><b>4.4</b> Binary Files</a>
<ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#try-it-out-14"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="reading-data.html"><a href="reading-data.html#databases"><i class="fa fa-check"></i><b>4.5</b> Databases</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="reading-data.html"><a href="reading-data.html#microsoft-access"><i class="fa fa-check"></i><b>4.5.1</b> Microsoft Access</a></li>
<li class="chapter" data-level="4.5.2" data-path="reading-data.html"><a href="reading-data.html#sqlite"><i class="fa fa-check"></i><b>4.5.2</b> SQLite</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="reading-data.html"><a href="reading-data.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>4.6</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="reading-data.html"><a href="reading-data.html#sas-3"><i class="fa fa-check"></i><b>4.6.1</b> SAS</a></li>
<li class="chapter" data-level="4.6.2" data-path="reading-data.html"><a href="reading-data.html#r-2"><i class="fa fa-check"></i><b>4.6.2</b> R</a></li>
<li class="chapter" data-level="4.6.3" data-path="reading-data.html"><a href="reading-data.html#comparison"><i class="fa fa-check"></i><b>4.6.3</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#references-and-links-2"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="manipulating-data.html"><a href="manipulating-data.html"><i class="fa fa-check"></i><b>5</b> Manipulating Data</a>
<ul>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#manipulating-data-module-objectives"><i class="fa fa-check"></i>Manipulating Data: Module Objectives</a></li>
<li class="chapter" data-level="5.1" data-path="manipulating-data.html"><a href="manipulating-data.html#tidy-data"><i class="fa fa-check"></i><b>5.1</b> Tidy Data</a></li>
<li class="chapter" data-level="5.2" data-path="manipulating-data.html"><a href="manipulating-data.html#filter-pick-cases-rows-based-on-their-values"><i class="fa fa-check"></i><b>5.2</b> Filter: Pick cases (rows) based on their values</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="manipulating-data.html"><a href="manipulating-data.html#common-filter-tasks"><i class="fa fa-check"></i><b>5.2.1</b> Common Filter() Tasks</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#try-it-out-15"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="manipulating-data.html"><a href="manipulating-data.html#select-pick-columns"><i class="fa fa-check"></i><b>5.3</b> Select: Pick columns</a></li>
<li class="chapter" data-level="5.4" data-path="manipulating-data.html"><a href="manipulating-data.html#mutate-add-and-transform-variables"><i class="fa fa-check"></i><b>5.4</b> Mutate: Add and transform variables</a></li>
<li class="chapter" data-level="5.5" data-path="manipulating-data.html"><a href="manipulating-data.html#summarize"><i class="fa fa-check"></i><b>5.5</b> Summarize</a></li>
<li class="chapter" data-level="5.6" data-path="manipulating-data.html"><a href="manipulating-data.html#group-by-power"><i class="fa fa-check"></i><b>5.6</b> Group By + (?) = Power!</a></li>
<li class="chapter" data-level="5.7" data-path="manipulating-data.html"><a href="manipulating-data.html#other-dplyr-functions-across-relocate"><i class="fa fa-check"></i><b>5.7</b> Other <code>dplyr</code> functions: across, relocate</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#try-it-out-16"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>6</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#transforming-data-module-objectives"><i class="fa fa-check"></i>Transforming Data: Module Objectives</a></li>
<li class="chapter" data-level="6.1" data-path="transforming-data.html"><a href="transforming-data.html#identifying-the-problem-messy-data"><i class="fa fa-check"></i><b>6.1</b> Identifying the problem: Messy data</a>
<ul>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#try-it-out-17"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="transforming-data.html"><a href="transforming-data.html#string-operations-creating-new-variables-and-separating-multi-variable-columns"><i class="fa fa-check"></i><b>6.2</b> String operations: Creating new variables and separating multi-variable columns</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="transforming-data.html"><a href="transforming-data.html#basic-string-operations"><i class="fa fa-check"></i><b>6.2.1</b> Basic String Operations</a></li>
<li class="chapter" data-level="6.2.2" data-path="transforming-data.html"><a href="transforming-data.html#regular-expressions"><i class="fa fa-check"></i><b>6.2.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="6.2.3" data-path="transforming-data.html"><a href="transforming-data.html#joining-and-splitting-variables"><i class="fa fa-check"></i><b>6.2.3</b> Joining and Splitting Variables</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="transforming-data.html"><a href="transforming-data.html#pivot-operations"><i class="fa fa-check"></i><b>6.3</b> Pivot operations</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="transforming-data.html"><a href="transforming-data.html#longer"><i class="fa fa-check"></i><b>6.3.1</b> Longer</a></li>
<li class="chapter" data-level="6.3.2" data-path="transforming-data.html"><a href="transforming-data.html#wider"><i class="fa fa-check"></i><b>6.3.2</b> Wider</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="transforming-data.html"><a href="transforming-data.html#relational-data-and-joining-tables"><i class="fa fa-check"></i><b>6.4</b> Relational Data and Joining Tables</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="transforming-data.html"><a href="transforming-data.html#demonstration-dataset-setup"><i class="fa fa-check"></i><b>6.4.1</b> Demonstration dataset setup</a></li>
<li class="chapter" data-level="6.4.2" data-path="transforming-data.html"><a href="transforming-data.html#mutating-joins"><i class="fa fa-check"></i><b>6.4.2</b> Mutating joins</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="transforming-data.html"><a href="transforming-data.html#example-gas-prices-data"><i class="fa fa-check"></i><b>6.5</b> Example: Gas Prices Data</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="transforming-data.html"><a href="transforming-data.html#option-1-manual-formatting-in-excel"><i class="fa fa-check"></i><b>6.5.1</b> Option 1: Manual formatting in Excel</a></li>
<li class="chapter" data-level="6.5.2" data-path="transforming-data.html"><a href="transforming-data.html#option-2-r"><i class="fa fa-check"></i><b>6.5.2</b> Option 2: R</a></li>
<li class="chapter" data-level="6.5.3" data-path="transforming-data.html"><a href="transforming-data.html#option-3-sas"><i class="fa fa-check"></i><b>6.5.3</b> Option 3: SAS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>7</b> Principles of Debugging</a>
<ul>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#debugging-module-objectives"><i class="fa fa-check"></i>Debugging: Module Objectives</a></li>
<li class="chapter" data-level="7.1" data-path="debugging.html"><a href="debugging.html#step-1-check-your-spelling."><i class="fa fa-check"></i><b>7.1</b> Step 1: Check your spelling.</a></li>
<li class="chapter" data-level="7.2" data-path="debugging.html"><a href="debugging.html#defensive-programming"><i class="fa fa-check"></i><b>7.2</b> Defensive Programming</a></li>
<li class="chapter" data-level="7.3" data-path="debugging.html"><a href="debugging.html#general-debugging-strategies"><i class="fa fa-check"></i><b>7.3</b> General Debugging Strategies</a></li>
<li class="chapter" data-level="7.4" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-r"><i class="fa fa-check"></i><b>7.4</b> Debugging Tools in R</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="debugging.html"><a href="debugging.html#low-tech-debugging-with-print-and-other-tools"><i class="fa fa-check"></i><b>7.4.1</b> Low tech debugging with print() and other tools</a></li>
<li class="chapter" data-level="7.4.2" data-path="debugging.html"><a href="debugging.html#after-an-error-has-occurred---traceback"><i class="fa fa-check"></i><b>7.4.2</b> After an error has occurred - <code>traceback()</code></a></li>
<li class="chapter" data-level="7.4.3" data-path="debugging.html"><a href="debugging.html#browser---debugging-your-own-code-interactively"><i class="fa fa-check"></i><b>7.4.3</b> <code>browser()</code> - debugging your own code, interactively</a></li>
<li class="chapter" data-level="7.4.4" data-path="debugging.html"><a href="debugging.html#debug---the-general-debugging-workhorse"><i class="fa fa-check"></i><b>7.4.4</b> <code>debug()</code> - the general debugging workhorse</a></li>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#try-it-out-23"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-sas"><i class="fa fa-check"></i><b>7.5</b> Debugging Tools in SAS</a></li>
<li class="chapter" data-level="7.6" data-path="debugging.html"><a href="debugging.html#minimal-working-examples"><i class="fa fa-check"></i><b>7.6</b> Minimal Working Examples</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="debugging.html"><a href="debugging.html#example-mwes"><i class="fa fa-check"></i><b>7.6.1</b> Example: MWEs</a></li>
<li class="chapter" data-level="7.6.2" data-path="debugging.html"><a href="debugging.html#try-it-out-24"><i class="fa fa-check"></i><b>7.6.2</b> Try It Out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#references-3"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="part"><span><b>III Applications</b></span></li>
<li class="chapter" data-level="8" data-path="data-vis-intro.html"><a href="data-vis-intro.html"><i class="fa fa-check"></i><b>8</b> Introduction to Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#visualization-module-objectives"><i class="fa fa-check"></i>Visualization: Module Objectives</a></li>
<li class="chapter" data-level="8.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#why-do-we-create-graphics"><i class="fa fa-check"></i><b>8.1</b> Why do we create graphics?</a></li>
<li class="chapter" data-level="8.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#general-approaches-to-creating-graphics"><i class="fa fa-check"></i><b>8.2</b> General approaches to creating graphics</a></li>
<li class="chapter" data-level="8.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>8.3</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#demonstration-aesthetic-mappings-and-basic-plots"><i class="fa fa-check"></i><b>8.3.1</b> Demonstration: Aesthetic Mappings and Basic Plots</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#syntax-and-general-structure-layers"><i class="fa fa-check"></i><b>8.3.2</b> Syntax and General Structure: Layers</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#statistics-and-different-types-of-plots"><i class="fa fa-check"></i><b>8.3.3</b> Statistics and Different Types of Plots</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#small-multiples"><i class="fa fa-check"></i><b>8.3.4</b> Small Multiples</a></li>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#try-it-out-28"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#good-charts"><i class="fa fa-check"></i><b>8.4</b> Good charts</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#perceptual-and-cognitive-factors"><i class="fa fa-check"></i><b>8.4.1</b> Perceptual and Cognitive Factors</a></li>
<li class="chapter" data-level="8.4.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#general-guidelines-for-accuracy"><i class="fa fa-check"></i><b>8.4.2</b> General guidelines for accuracy</a></li>
<li class="chapter" data-level="8.4.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#how-do-we-know"><i class="fa fa-check"></i><b>8.4.3</b> How do we know?</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="data-vis-intro.html"><a href="data-vis-intro.html#other-things-worth-exploring-and-future-expansions-for-this-chapter"><i class="fa fa-check"></i><b>8.5</b> Other things worth exploring (and future expansions for this chapter)</a></li>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#references-4"><i class="fa fa-check"></i>References</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#motivation"><i class="fa fa-check"></i><b>8.5.1</b> Motivation</a></li>
<li class="chapter" data-level="8.5.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#r-graphics"><i class="fa fa-check"></i><b>8.5.2</b> R graphics</a></li>
<li class="chapter" data-level="8.5.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#sas-graphics"><i class="fa fa-check"></i><b>8.5.3</b> SAS graphics</a></li>
<li class="chapter" data-level="8.5.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#types-of-charts-and-chart-styling"><i class="fa fa-check"></i><b>8.5.4</b> Types of Charts and Chart Styling</a></li>
<li class="chapter" data-level="8.5.5" data-path="data-vis-intro.html"><a href="data-vis-intro.html#other-graphics-packages"><i class="fa fa-check"></i><b>8.5.5</b> Other Graphics packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>9</b> Simulation and Reproducibility</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#simulation-module-objectives"><i class="fa fa-check"></i>Simulation: Module Objectives</a></li>
<li class="chapter" data-level="9.1" data-path="simulation.html"><a href="simulation.html#pseudorandom-number-generation"><i class="fa fa-check"></i><b>9.1</b> Pseudorandom Number Generation</a></li>
<li class="chapter" data-level="9.2" data-path="simulation.html"><a href="simulation.html#built-in-simulations-from-distributions"><i class="fa fa-check"></i><b>9.2</b> Built-in simulations from distributions</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-30"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="simulation.html"><a href="simulation.html#simulation-to-test-model-assumptions"><i class="fa fa-check"></i><b>9.3</b> Simulation to test model assumptions</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-31"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="simulation.html"><a href="simulation.html#monte-carlo-methods"><i class="fa fa-check"></i><b>9.4</b> Monte Carlo methods</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-32"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="simulation.html"><a href="simulation.html#references-5"><i class="fa fa-check"></i><b>9.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="docs-reports.html"><a href="docs-reports.html"><i class="fa fa-check"></i><b>10</b> Documents and Reports</a>
<ul>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#documents-and-reports-module-objectives"><i class="fa fa-check"></i>Documents and Reports: Module Objectives</a></li>
<li class="chapter" data-level="10.1" data-path="docs-reports.html"><a href="docs-reports.html#literate-programming-knitr-and-rmarkdown"><i class="fa fa-check"></i><b>10.1</b> Literate Programming, <code>knitr</code>, and <code>rmarkdown</code></a></li>
<li class="chapter" data-level="10.2" data-path="docs-reports.html"><a href="docs-reports.html#a-very-brief-introduction-to-latex"><i class="fa fa-check"></i><b>10.2</b> A Very Brief Introduction to LaTeX</a>
<ul>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#try-it-out-33"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="10.2.1" data-path="docs-reports.html"><a href="docs-reports.html#knitr"><i class="fa fa-check"></i><b>10.2.1</b> Knitr</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="docs-reports.html"><a href="docs-reports.html#slides"><i class="fa fa-check"></i><b>10.3</b> Slides</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="docs-reports.html"><a href="docs-reports.html#beamer-latex-and-knitr"><i class="fa fa-check"></i><b>10.3.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="10.3.2" data-path="docs-reports.html"><a href="docs-reports.html#html-slides"><i class="fa fa-check"></i><b>10.3.2</b> HTML slides</a></li>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#try-it-out-35"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="docs-reports.html"><a href="docs-reports.html#posters"><i class="fa fa-check"></i><b>10.4</b> Posters</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="docs-reports.html"><a href="docs-reports.html#latex-2"><i class="fa fa-check"></i><b>10.4.1</b> LaTeX</a></li>
<li class="chapter" data-level="10.4.2" data-path="docs-reports.html"><a href="docs-reports.html#posterdown"><i class="fa fa-check"></i><b>10.4.2</b> Posterdown</a></li>
<li class="chapter" data-level="10.4.3" data-path="docs-reports.html"><a href="docs-reports.html#pagedown"><i class="fa fa-check"></i><b>10.4.3</b> Pagedown</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="docs-reports.html"><a href="docs-reports.html#resumecv"><i class="fa fa-check"></i><b>10.5</b> Resume/CV</a></li>
<li class="chapter" data-level="10.6" data-path="docs-reports.html"><a href="docs-reports.html#using-github-pages"><i class="fa fa-check"></i><b>10.6</b> Using Github Pages</a></li>
<li class="chapter" data-level="10.7" data-path="docs-reports.html"><a href="docs-reports.html#references-6"><i class="fa fa-check"></i><b>10.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html"><i class="fa fa-check"></i><b>11</b> Animated and Interactive Graphics</a>
<ul>
<li class="chapter" data-level="" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#animated-and-interactive-graphics-module-objectives"><i class="fa fa-check"></i>Animated and Interactive Graphics: Module Objectives</a></li>
<li class="chapter" data-level="11.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#plotly"><i class="fa fa-check"></i><b>11.1</b> Plotly</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#ggplotly-ggplot2-to-plotly-conversions"><i class="fa fa-check"></i><b>11.1.1</b> <code>ggplotly</code>: ggplot2 to plotly conversions</a></li>
<li class="chapter" data-level="11.1.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#plot_ly-like-base-plotting-but-interactive"><i class="fa fa-check"></i><b>11.1.2</b> <code>plot_ly</code>: Like base plotting, but interactive!</a></li>
<li class="chapter" data-level="11.1.3" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#animation"><i class="fa fa-check"></i><b>11.1.3</b> Animation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#leaflet-maps"><i class="fa fa-check"></i><b>11.2</b> Leaflet maps</a>
<ul>
<li class="chapter" data-level="" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#try-it-out-39"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#shiny"><i class="fa fa-check"></i><b>11.3</b> Shiny</a></li>
<li class="chapter" data-level="11.4" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#general-references"><i class="fa fa-check"></i><b>11.4</b> General References</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#other-interactive-tools"><i class="fa fa-check"></i><b>11.4.1</b> Other interactive tools</a></li>
<li class="chapter" data-level="11.4.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#debugging-1"><i class="fa fa-check"></i><b>11.4.2</b> Debugging</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html"><i class="fa fa-check"></i><b>12</b> Lists, Nested Lists, and Functional Programming</a>
<ul>
<li class="chapter" data-level="12.1" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#review-lists-and-vectors"><i class="fa fa-check"></i><b>12.1</b> Review: Lists and Vectors</a></li>
<li class="chapter" data-level="12.2" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#introduction-to-map"><i class="fa fa-check"></i><b>12.2</b> Introduction to <code>map</code></a></li>
<li class="chapter" data-level="12.3" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#creating-and-using-list-columns"><i class="fa fa-check"></i><b>12.3</b> Creating (and Using) List-columns</a></li>
<li class="chapter" data-level="12.4" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#ways-to-use-map"><i class="fa fa-check"></i><b>12.4</b> Ways to use <code>map</code></a>
<ul>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#try-it-out-40"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#beyond-map-functions-with-multiple-inputs"><i class="fa fa-check"></i><b>12.5</b> Beyond <code>map</code>: Functions with multiple inputs</a>
<ul>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#try-it-out-41"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#purrr-references"><i class="fa fa-check"></i>Purrr References</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="high-performance-computing.html"><a href="high-performance-computing.html"><i class="fa fa-check"></i><b>13</b> High Performance Computing</a>
<ul>
<li class="chapter" data-level="" data-path="high-performance-computing.html"><a href="high-performance-computing.html#hpc-references"><i class="fa fa-check"></i>HPC References</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="tidy-models.html"><a href="tidy-models.html"><i class="fa fa-check"></i><b>14</b> Tidy Models</a></li>
<li class="chapter" data-level="15" data-path="spatial-packages.html"><a href="spatial-packages.html"><i class="fa fa-check"></i><b>15</b> Spatial packages</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-packages.html"><a href="spatial-packages.html#references-7"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html"><i class="fa fa-check"></i><b>A</b> Common Problems and General Computing Topics</a>
<ul>
<li class="chapter" data-level="A.1" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#file-paths-working-directories-and-reproducibility"><i class="fa fa-check"></i><b>A.1</b> File Paths, Working Directories, and Reproducibility</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#file-paths"><i class="fa fa-check"></i><b>A.1.1</b> File paths</a></li>
<li class="chapter" data-level="A.1.2" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#working-directory"><i class="fa fa-check"></i><b>A.1.2</b> Working Directory</a></li>
<li class="chapter" data-level="A.1.3" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#reproducibility-1"><i class="fa fa-check"></i><b>A.1.3</b> Reproducibility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="other-resources-articles-and-food-for-thought.html"><a href="other-resources-articles-and-food-for-thought.html"><i class="fa fa-check"></i><b>B</b> Other Resources, Articles, and Food for Thought</a>
<ul>
<li class="chapter" data-level="B.1" data-path="other-resources-articles-and-food-for-thought.html"><a href="other-resources-articles-and-food-for-thought.html#comparing-languages"><i class="fa fa-check"></i><b>B.1</b> Comparing Languages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-8.html"><a href="references-8.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stat 850: Computing Tools for Statisticians</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reading-data" class="section level1" number="4">
<h1><span class="header-section-number">Module 4</span> External Data</h1>
<div id="reading-data-module-objectives" class="section level2 unnumbered">
<h2>Reading Data: Module Objectives</h2>
<ul>
<li>Import data from text and excel files into R and SAS for analysis</li>
<li>Conduct exploratory data analysis to determine
<ul>
<li>how the data is structured,</li>
<li>what cleaning must be done, and</li>
<li>what (if any) interesting artifacts are in the dataset</li>
</ul></li>
</ul>
</div>
<div id="external-data-formats" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> External Data Formats</h2>
<p>In order to use statistical software to do anything interesting, we need to be able to get data into the program so that we can work with it effectively. For the moment, we’ll focus on tabular data - data that is stored in a rectangular shape, with rows indicating observations and columns that show variables. This type of data can be stored on the computer in multiple ways:</p>
<ul>
<li><p>as raw text, usually in a file that ends with .txt, .tsv, .csv, .dat, or sometimes, there will be no file extension at all. These types of files are human-readable. If part of a text file gets corrupted, the rest of the file may be recoverable.</p></li>
<li><p>in a spreadsheet. Spreadsheets, such as those created by MS Excel, Google Sheets, or LibreOffice Calc, are not completely binary formats, but they’re also not raw text files either. They’re a hybrid. Practically, they may function like a poorly laid-out database, a text file, or a total nightmare, depending on who designed the spreadsheet. There is a collection of horror stories <a href="https://github.com/jennybc/scary-excel-stories">here</a> and a series of even more horrifying tweets <a href="https://twitter.com/JennyBryan/status/722954354198597632">here</a></p></li>
</ul>
<p><a href="https://xkcd.com/1667/"><img src="https://imgs.xkcd.com/comics/algorithms.png" /></a></p>
<ul>
<li>as a binary file. Binary files are compressed files that are readable by computers but not by humans. They generally take less space to store on disk (but the same amount of space when read into computer memory). If part of a binary file is corrupted, the entire file is usually affected.
<ul>
<li>R, SAS, Stata, SPSS, and Minitab all have their own formats for storing binary data. Packages such as <code>foreign</code> in R will let you read data from other programs, and packages such as <code>haven</code> in R will let you write data into binary formats used by other programs. To read data from R into SAS, the easiest way is probably to <a href="http://proc-x.com/2015/05/import-rdata-to-sas-along-with-labels/">call R from PROC IML</a>.</li>
<li><a href="https://betterexplained.com/articles/a-little-diddy-about-binary-file-formats/">Here</a> is a very thorough explanation of why binary file formats exist, and why they’re not necessarily optimal.</li>
</ul></li>
<li>in a database. Databases are typically composed of a set of one or more tables, with information that may be related across tables. Data stored in a database may be easier to access, and may not require that the entire data set be stored in computer memory at the same time, but you may have to join several tables together to get the full set of data you want to work with.</li>
</ul>
<p>There are, of course, many other non-tabular data formats – some open and easy to work with, some inpenetrable. A few which may be more common:</p>
<ul>
<li><p>Web related data structures: XML (eXtensible markup language), JSON (JavaScript Object Notation), YAML. These structures have their own formats and field delimiters, but more importantly, are not necessarily easily converted to tabular structures. They are, however, useful for handling nested objects, such as trees. When read into R or SAS, these file formats are usually treated as lists, and may be restructured afterwards into a format useful for statistical analysis.</p></li>
<li><p>Spatial files: Shapefiles are by far the most common version of spatial files<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>. Spatial files often include structured encodings of geographic information plus corresponding tabular format data that goes with the geographic information. We’ll explore these a bit more when we talk about maps.</p></li>
</ul>
<p>To be minimally functional in R and SAS, it’s important to know how to read in text files (CSV, tab-delimited, etc.). It can be helpful to also know how to read in XLSX files. We will briefly cover binary files and databases, but it is less critical to remember how to read these in without consulting one or more online references.</p>
</div>
<div id="text-files" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Text Files</h2>
<p>There are several different variants of text data which are relatively common, but for the most part, text data files can be broken down into fixed-width and delimited formats. What’s the difference, you say?</p>
<div id="fixed-width-files" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Fixed-width files</h3>
<p>In a fixed-width text file, the position of the data indicates which field (variable/column) it belongs to. These files are fairly common outputs from older FORTRAN-based programs, but may be found elsewhere as well - if you have a very large amount of data, a fixed-width format may be more efficient to read, because you can select only the portions of the file which matter for a particular analysis (and so you don’t have to read the whole thing into memory).</p>
<pre><code>Col1    Col2    Col3
 3.4     4.2     5.4
27.3    -2.4    15.9</code></pre>
<details>
<summary>
In base R (no extra packages), you can read fwf files in using <code>read.fwf</code>, but you must specify the column breaks yourself.
</summary>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="reading-data.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="do">## url &lt;- &quot;https://www.mesonet.org/index.php/dataMdfMts/dataController/getFile/202006070000/mdf/TEXT/&quot;</span></span>
<span id="cb125-2"><a href="reading-data.html#cb125-2" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.fwf</span>(url, </span>
<span id="cb125-3"><a href="reading-data.html#cb125-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">skip =</span> <span class="dv">3</span>, <span class="co"># Skip the first 2 lines (useless) + header line</span></span>
<span id="cb125-4"><a href="reading-data.html#cb125-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">widths =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, <span class="dv">7</span>, </span>
<span id="cb125-5"><a href="reading-data.html#cb125-5" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">8</span>)) <span class="co"># There is a row with the column names specified</span></span>
<span id="cb125-6"><a href="reading-data.html#cb125-6" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">readLines</span>(file, <span class="at">n =</span> thisblock)<span class="sc">:</span> incomplete final line found on <span class="st">&#39;data/</span></span>
<span id="cb125-7"><a href="reading-data.html#cb125-7" aria-hidden="true" tabindex="-1"></a><span class="st">mesodata.txt&#39;</span></span>
<span id="cb125-8"><a href="reading-data.html#cb125-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb125-9"><a href="reading-data.html#cb125-9" aria-hidden="true" tabindex="-1"></a>data[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,] <span class="co"># first 6 rows</span></span>
<span id="cb125-10"><a href="reading-data.html#cb125-10" aria-hidden="true" tabindex="-1"></a>     V1     V2 V3 V4   V5  V6  V7  V8   V9 V10  V11 V12    V13 V14  V15 V16</span>
<span id="cb125-11"><a href="reading-data.html#cb125-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  ACME    <span class="dv">110</span>  <span class="dv">0</span> <span class="dv">53</span> <span class="fl">31.8</span> <span class="fl">5.2</span> <span class="fl">5.1</span> <span class="dv">146</span>  <span class="fl">8.5</span> <span class="fl">0.7</span>  <span class="fl">6.9</span>   <span class="dv">0</span> <span class="fl">964.79</span> <span class="dv">272</span> <span class="fl">31.8</span> <span class="fl">4.0</span></span>
<span id="cb125-12"><a href="reading-data.html#cb125-12" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  ADAX      <span class="dv">1</span>  <span class="dv">0</span> <span class="dv">55</span> <span class="fl">32.4</span> <span class="fl">1.0</span> <span class="fl">0.8</span> <span class="dv">108</span> <span class="fl">36.5</span> <span class="fl">0.4</span>  <span class="fl">2.2</span>   <span class="dv">0</span> <span class="fl">976.20</span> <span class="dv">245</span> <span class="fl">32.0</span> <span class="fl">0.2</span></span>
<span id="cb125-13"><a href="reading-data.html#cb125-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  ALTU      <span class="dv">2</span>  <span class="dv">0</span> <span class="dv">31</span> <span class="fl">35.6</span> <span class="fl">8.9</span> <span class="fl">8.7</span> <span class="dv">147</span> <span class="fl">10.9</span> <span class="fl">1.1</span> <span class="fl">11.5</span>   <span class="dv">0</span> <span class="fl">960.94</span> <span class="dv">296</span> <span class="fl">34.7</span> <span class="fl">6.8</span></span>
<span id="cb125-14"><a href="reading-data.html#cb125-14" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  ALV2    <span class="dv">116</span>  <span class="dv">0</span> <span class="dv">27</span> <span class="fl">35.8</span> <span class="fl">6.7</span> <span class="fl">6.7</span> <span class="dv">145</span>  <span class="fl">8.2</span> <span class="fl">1.2</span>  <span class="fl">9.0</span>   <span class="dv">0</span> <span class="fl">957.45</span> <span class="dv">298</span> <span class="fl">35.5</span> <span class="fl">5.4</span></span>
<span id="cb125-15"><a href="reading-data.html#cb125-15" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  ANT2    <span class="dv">135</span>  <span class="dv">0</span> <span class="dv">73</span> <span class="fl">27.8</span> <span class="fl">0.0</span> <span class="fl">0.0</span>   <span class="dv">0</span>  <span class="fl">0.0</span> <span class="fl">0.0</span>  <span class="fl">0.0</span>   <span class="dv">0</span> <span class="fl">990.11</span> <span class="dv">213</span> <span class="fl">27.8</span> <span class="fl">0.0</span></span>
<span id="cb125-16"><a href="reading-data.html#cb125-16" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  APAC    <span class="dv">111</span>  <span class="dv">0</span> <span class="dv">52</span> <span class="fl">32.3</span> <span class="fl">6.2</span> <span class="fl">6.1</span> <span class="dv">133</span>  <span class="fl">9.8</span> <span class="fl">0.8</span>  <span class="fl">7.9</span>   <span class="dv">0</span> <span class="fl">959.54</span> <span class="dv">277</span> <span class="fl">31.9</span> <span class="fl">4.6</span></span>
<span id="cb125-17"><a href="reading-data.html#cb125-17" aria-hidden="true" tabindex="-1"></a>   V17  V18  V19  V20    V21  V22  V23     V24</span>
<span id="cb125-18"><a href="reading-data.html#cb125-18" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="fl">29.2</span> <span class="fl">36.2</span> <span class="fl">31.6</span> <span class="fl">25.2</span>   <span class="fl">21.7</span> <span class="fl">3.09</span> <span class="fl">2.22</span>    <span class="fl">1.48</span></span>
<span id="cb125-19"><a href="reading-data.html#cb125-19" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="fl">28.8</span> <span class="fl">38.2</span> <span class="fl">29.6</span> <span class="fl">26.8</span> <span class="sc">-</span><span class="fl">998.0</span> <span class="fl">2.61</span> <span class="fl">1.88</span> <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb125-20"><a href="reading-data.html#cb125-20" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="fl">29.3</span> <span class="fl">34.1</span> <span class="fl">30.7</span> <span class="fl">26.1</span> <span class="sc">-</span><span class="fl">998.0</span> <span class="fl">3.39</span> <span class="fl">2.47</span> <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb125-21"><a href="reading-data.html#cb125-21" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="fl">24.7</span> <span class="fl">34.7</span> <span class="fl">25.6</span> <span class="fl">22.6</span> <span class="sc">-</span><span class="fl">998.0</span> <span class="fl">2.70</span> <span class="fl">1.60</span> <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb125-22"><a href="reading-data.html#cb125-22" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="fl">29.5</span> <span class="fl">31.1</span> <span class="fl">30.2</span> <span class="fl">26.8</span>   <span class="fl">23.8</span> <span class="fl">1.96</span> <span class="fl">1.73</span>    <span class="fl">1.33</span></span>
<span id="cb125-23"><a href="reading-data.html#cb125-23" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="fl">30.4</span> <span class="fl">35.2</span> <span class="fl">34.7</span> <span class="fl">28.2</span>   <span class="fl">22.8</span> <span class="fl">1.79</span> <span class="fl">1.53</span>    <span class="fl">1.78</span></span></code></pre></div>
</details>
<details>
<summary>
You can count all of those spaces by hand (not shown), you can use a different function, or you can write code to do it for you.
</summary>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="reading-data.html#cb126-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-2"><a href="reading-data.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="co"># I like to cheat a bit....</span></span>
<span id="cb126-3"><a href="reading-data.html#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the first few lines in</span></span>
<span id="cb126-4"><a href="reading-data.html#cb126-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">readLines</span>(url, <span class="at">n =</span> <span class="dv">20</span>)[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)]</span>
<span id="cb126-5"><a href="reading-data.html#cb126-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-6"><a href="reading-data.html#cb126-6" aria-hidden="true" tabindex="-1"></a><span class="co"># split each line into a series of single characters</span></span>
<span id="cb126-7"><a href="reading-data.html#cb126-7" aria-hidden="true" tabindex="-1"></a>tmp_chars <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(tmp, <span class="st">&#39;&#39;</span>) </span>
<span id="cb126-8"><a href="reading-data.html#cb126-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-9"><a href="reading-data.html#cb126-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Bind the lines together into a character matrix</span></span>
<span id="cb126-10"><a href="reading-data.html#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="co"># do.call applies a function to an entire list - so instead of doing 18 rbinds, </span></span>
<span id="cb126-11"><a href="reading-data.html#cb126-11" aria-hidden="true" tabindex="-1"></a><span class="co"># one command will put all 18 rows together</span></span>
<span id="cb126-12"><a href="reading-data.html#cb126-12" aria-hidden="true" tabindex="-1"></a>tmp_chars <span class="ot">&lt;-</span> <span class="fu">do.call</span>(<span class="st">&quot;rbind&quot;</span>, tmp_chars) <span class="co"># (it&#39;s ok if you don&#39;t get this line)</span></span>
<span id="cb126-13"><a href="reading-data.html#cb126-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-14"><a href="reading-data.html#cb126-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Make into a logical matrix where T = space, F = not space</span></span>
<span id="cb126-15"><a href="reading-data.html#cb126-15" aria-hidden="true" tabindex="-1"></a>tmp_chars_space <span class="ot">&lt;-</span> tmp_chars <span class="sc">==</span> <span class="st">&quot; &quot;</span></span>
<span id="cb126-16"><a href="reading-data.html#cb126-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-17"><a href="reading-data.html#cb126-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add up the number of rows where there is a non-space character</span></span>
<span id="cb126-18"><a href="reading-data.html#cb126-18" aria-hidden="true" tabindex="-1"></a><span class="co"># space columns would have 0s/FALSE</span></span>
<span id="cb126-19"><a href="reading-data.html#cb126-19" aria-hidden="true" tabindex="-1"></a>tmp_space <span class="ot">&lt;-</span> <span class="fu">colSums</span>(<span class="sc">!</span>tmp_chars_space)</span>
<span id="cb126-20"><a href="reading-data.html#cb126-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-21"><a href="reading-data.html#cb126-21" aria-hidden="true" tabindex="-1"></a><span class="co"># We need a nonzero column followed by a zero column</span></span>
<span id="cb126-22"><a href="reading-data.html#cb126-22" aria-hidden="true" tabindex="-1"></a>breaks <span class="ot">&lt;-</span> <span class="fu">which</span>(tmp_space <span class="sc">!=</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="fu">c</span>(tmp_space[<span class="sc">-</span><span class="dv">1</span>], <span class="dv">0</span>) <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb126-23"><a href="reading-data.html#cb126-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-24"><a href="reading-data.html#cb126-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Then, we need to get the widths between the columns</span></span>
<span id="cb126-25"><a href="reading-data.html#cb126-25" aria-hidden="true" tabindex="-1"></a>widths <span class="ot">&lt;-</span> <span class="fu">diff</span>(<span class="fu">c</span>(<span class="dv">0</span>, breaks))</span>
<span id="cb126-26"><a href="reading-data.html#cb126-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-27"><a href="reading-data.html#cb126-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we&#39;re ready to go</span></span>
<span id="cb126-28"><a href="reading-data.html#cb126-28" aria-hidden="true" tabindex="-1"></a>mesodata <span class="ot">&lt;-</span> <span class="fu">read.fwf</span>(url, <span class="at">skip =</span> <span class="dv">3</span>, <span class="at">widths =</span> widths, <span class="at">header =</span> F)</span>
<span id="cb126-29"><a href="reading-data.html#cb126-29" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">readLines</span>(file, <span class="at">n =</span> thisblock)<span class="sc">:</span> incomplete final line found on <span class="st">&#39;data/</span></span>
<span id="cb126-30"><a href="reading-data.html#cb126-30" aria-hidden="true" tabindex="-1"></a><span class="st">mesodata.txt&#39;</span></span>
<span id="cb126-31"><a href="reading-data.html#cb126-31" aria-hidden="true" tabindex="-1"></a><span class="co"># read header separately - if you use header = T, it errors for some reason.</span></span>
<span id="cb126-32"><a href="reading-data.html#cb126-32" aria-hidden="true" tabindex="-1"></a><span class="co"># It&#39;s easier just to work around the error than to fix it :)</span></span>
<span id="cb126-33"><a href="reading-data.html#cb126-33" aria-hidden="true" tabindex="-1"></a>mesodata_names <span class="ot">&lt;-</span> <span class="fu">read.fwf</span>(url, <span class="at">skip =</span> <span class="dv">2</span>, <span class="at">n =</span> <span class="dv">1</span>, <span class="at">widths =</span> widths, <span class="at">header =</span> F, </span>
<span id="cb126-34"><a href="reading-data.html#cb126-34" aria-hidden="true" tabindex="-1"></a>                           <span class="at">stringsAsFactors =</span> F)</span>
<span id="cb126-35"><a href="reading-data.html#cb126-35" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(mesodata) <span class="ot">&lt;-</span> <span class="fu">as.character</span>(mesodata_names)</span>
<span id="cb126-36"><a href="reading-data.html#cb126-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-37"><a href="reading-data.html#cb126-37" aria-hidden="true" tabindex="-1"></a>mesodata[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,] <span class="co"># first 6 rows</span></span>
<span id="cb126-38"><a href="reading-data.html#cb126-38" aria-hidden="true" tabindex="-1"></a>   STID   STNM   TIME    RELH    TAIR    WSPD    WVEC   WDIR    WDSD    WSSD</span>
<span id="cb126-39"><a href="reading-data.html#cb126-39" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  ACME    <span class="dv">110</span>      <span class="dv">0</span>      <span class="dv">53</span>    <span class="fl">31.8</span>     <span class="fl">5.2</span>     <span class="fl">5.1</span>    <span class="dv">146</span>     <span class="fl">8.5</span>     <span class="fl">0.7</span></span>
<span id="cb126-40"><a href="reading-data.html#cb126-40" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  ADAX      <span class="dv">1</span>      <span class="dv">0</span>      <span class="dv">55</span>    <span class="fl">32.4</span>     <span class="fl">1.0</span>     <span class="fl">0.8</span>    <span class="dv">108</span>    <span class="fl">36.5</span>     <span class="fl">0.4</span></span>
<span id="cb126-41"><a href="reading-data.html#cb126-41" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>  ALTU      <span class="dv">2</span>      <span class="dv">0</span>      <span class="dv">31</span>    <span class="fl">35.6</span>     <span class="fl">8.9</span>     <span class="fl">8.7</span>    <span class="dv">147</span>    <span class="fl">10.9</span>     <span class="fl">1.1</span></span>
<span id="cb126-42"><a href="reading-data.html#cb126-42" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>  ALV2    <span class="dv">116</span>      <span class="dv">0</span>      <span class="dv">27</span>    <span class="fl">35.8</span>     <span class="fl">6.7</span>     <span class="fl">6.7</span>    <span class="dv">145</span>     <span class="fl">8.2</span>     <span class="fl">1.2</span></span>
<span id="cb126-43"><a href="reading-data.html#cb126-43" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>  ANT2    <span class="dv">135</span>      <span class="dv">0</span>      <span class="dv">73</span>    <span class="fl">27.8</span>     <span class="fl">0.0</span>     <span class="fl">0.0</span>      <span class="dv">0</span>     <span class="fl">0.0</span>     <span class="fl">0.0</span></span>
<span id="cb126-44"><a href="reading-data.html#cb126-44" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>  APAC    <span class="dv">111</span>      <span class="dv">0</span>      <span class="dv">52</span>    <span class="fl">32.3</span>     <span class="fl">6.2</span>     <span class="fl">6.1</span>    <span class="dv">133</span>     <span class="fl">9.8</span>     <span class="fl">0.8</span></span>
<span id="cb126-45"><a href="reading-data.html#cb126-45" aria-hidden="true" tabindex="-1"></a>     WMAX     RAIN      PRES   SRAD    TA9M    WS2M    TS10    TB10    TS05</span>
<span id="cb126-46"><a href="reading-data.html#cb126-46" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="fl">6.9</span>        <span class="dv">0</span>    <span class="fl">964.79</span>    <span class="dv">272</span>    <span class="fl">31.8</span>     <span class="fl">4.0</span>    <span class="fl">29.2</span>    <span class="fl">36.2</span>    <span class="fl">31.6</span></span>
<span id="cb126-47"><a href="reading-data.html#cb126-47" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="fl">2.2</span>        <span class="dv">0</span>    <span class="fl">976.20</span>    <span class="dv">245</span>    <span class="fl">32.0</span>     <span class="fl">0.2</span>    <span class="fl">28.8</span>    <span class="fl">38.2</span>    <span class="fl">29.6</span></span>
<span id="cb126-48"><a href="reading-data.html#cb126-48" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="fl">11.5</span>        <span class="dv">0</span>    <span class="fl">960.94</span>    <span class="dv">296</span>    <span class="fl">34.7</span>     <span class="fl">6.8</span>    <span class="fl">29.3</span>    <span class="fl">34.1</span>    <span class="fl">30.7</span></span>
<span id="cb126-49"><a href="reading-data.html#cb126-49" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="fl">9.0</span>        <span class="dv">0</span>    <span class="fl">957.45</span>    <span class="dv">298</span>    <span class="fl">35.5</span>     <span class="fl">5.4</span>    <span class="fl">24.7</span>    <span class="fl">34.7</span>    <span class="fl">25.6</span></span>
<span id="cb126-50"><a href="reading-data.html#cb126-50" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="fl">0.0</span>        <span class="dv">0</span>    <span class="fl">990.11</span>    <span class="dv">213</span>    <span class="fl">27.8</span>     <span class="fl">0.0</span>    <span class="fl">29.5</span>    <span class="fl">31.1</span>    <span class="fl">30.2</span></span>
<span id="cb126-51"><a href="reading-data.html#cb126-51" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="fl">7.9</span>        <span class="dv">0</span>    <span class="fl">959.54</span>    <span class="dv">277</span>    <span class="fl">31.9</span>     <span class="fl">4.6</span>    <span class="fl">30.4</span>    <span class="fl">35.2</span>    <span class="fl">34.7</span></span>
<span id="cb126-52"><a href="reading-data.html#cb126-52" aria-hidden="true" tabindex="-1"></a>     TS25    TS60     TR05     TR25     TR60</span>
<span id="cb126-53"><a href="reading-data.html#cb126-53" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    <span class="fl">25.2</span>    <span class="fl">21.7</span>     <span class="fl">3.09</span>     <span class="fl">2.22</span>     <span class="fl">1.48</span></span>
<span id="cb126-54"><a href="reading-data.html#cb126-54" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    <span class="fl">26.8</span>  <span class="sc">-</span><span class="fl">998.0</span>     <span class="fl">2.61</span>     <span class="fl">1.88</span>  <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb126-55"><a href="reading-data.html#cb126-55" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    <span class="fl">26.1</span>  <span class="sc">-</span><span class="fl">998.0</span>     <span class="fl">3.39</span>     <span class="fl">2.47</span>  <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb126-56"><a href="reading-data.html#cb126-56" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    <span class="fl">22.6</span>  <span class="sc">-</span><span class="fl">998.0</span>     <span class="fl">2.70</span>     <span class="fl">1.60</span>  <span class="sc">-</span><span class="fl">998.00</span></span>
<span id="cb126-57"><a href="reading-data.html#cb126-57" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    <span class="fl">26.8</span>    <span class="fl">23.8</span>     <span class="fl">1.96</span>     <span class="fl">1.73</span>     <span class="fl">1.33</span></span>
<span id="cb126-58"><a href="reading-data.html#cb126-58" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    <span class="fl">28.2</span>    <span class="fl">22.8</span>     <span class="fl">1.79</span>     <span class="fl">1.53</span>     <span class="fl">1.78</span></span></code></pre></div>
</details>
<p>But, there’s an even simpler way…</p>
<p>The <code>readr</code> package creates data-frame like objects called tibbles (really, they’re a souped-up data frame), but it is <em>much</em> friendlier to use. Tibbles also do not have the problems with factors (see the <a href="#factors">introduction to factors</a>) - they will always read characters in as characters.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="reading-data.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr) <span class="co"># Better data importing in R</span></span>
<span id="cb127-2"><a href="reading-data.html#cb127-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-3"><a href="reading-data.html#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="fu">read_table</span>(url, <span class="at">skip =</span> <span class="dv">2</span>) <span class="co"># Gosh, that was much easier!</span></span>
<span id="cb127-4"><a href="reading-data.html#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 121 x 24</span></span>
<span id="cb127-5"><a href="reading-data.html#cb127-5" aria-hidden="true" tabindex="-1"></a>   STID   STNM  TIME  RELH  TAIR  WSPD  WVEC  WDIR  WDSD  WSSD  WMAX  RAIN  PRES</span>
<span id="cb127-6"><a href="reading-data.html#cb127-6" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb127-7"><a href="reading-data.html#cb127-7" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> ACME    <span class="dv">110</span>     <span class="dv">0</span>    <span class="dv">53</span>  <span class="fl">31.8</span>   <span class="fl">5.2</span>   <span class="fl">5.1</span>   <span class="dv">146</span>   <span class="fl">8.5</span>   <span class="fl">0.7</span>   <span class="fl">6.9</span>     <span class="dv">0</span>  <span class="fl">965.</span></span>
<span id="cb127-8"><a href="reading-data.html#cb127-8" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> ADAX      <span class="dv">1</span>     <span class="dv">0</span>    <span class="dv">55</span>  <span class="fl">32.4</span>   <span class="dv">1</span>     <span class="fl">0.8</span>   <span class="dv">108</span>  <span class="fl">36.5</span>   <span class="fl">0.4</span>   <span class="fl">2.2</span>     <span class="dv">0</span>  <span class="fl">976.</span></span>
<span id="cb127-9"><a href="reading-data.html#cb127-9" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> ALTU      <span class="dv">2</span>     <span class="dv">0</span>    <span class="dv">31</span>  <span class="fl">35.6</span>   <span class="fl">8.9</span>   <span class="fl">8.7</span>   <span class="dv">147</span>  <span class="fl">10.9</span>   <span class="fl">1.1</span>  <span class="fl">11.5</span>     <span class="dv">0</span>  <span class="fl">961.</span></span>
<span id="cb127-10"><a href="reading-data.html#cb127-10" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> ALV2    <span class="dv">116</span>     <span class="dv">0</span>    <span class="dv">27</span>  <span class="fl">35.8</span>   <span class="fl">6.7</span>   <span class="fl">6.7</span>   <span class="dv">145</span>   <span class="fl">8.2</span>   <span class="fl">1.2</span>   <span class="dv">9</span>       <span class="dv">0</span>  <span class="fl">957.</span></span>
<span id="cb127-11"><a href="reading-data.html#cb127-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> ANT2    <span class="dv">135</span>     <span class="dv">0</span>    <span class="dv">73</span>  <span class="fl">27.8</span>   <span class="dv">0</span>     <span class="dv">0</span>       <span class="dv">0</span>   <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span>       <span class="dv">0</span>  <span class="fl">990.</span></span>
<span id="cb127-12"><a href="reading-data.html#cb127-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> APAC    <span class="dv">111</span>     <span class="dv">0</span>    <span class="dv">52</span>  <span class="fl">32.3</span>   <span class="fl">6.2</span>   <span class="fl">6.1</span>   <span class="dv">133</span>   <span class="fl">9.8</span>   <span class="fl">0.8</span>   <span class="fl">7.9</span>     <span class="dv">0</span>  <span class="fl">960.</span></span>
<span id="cb127-13"><a href="reading-data.html#cb127-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> ARD2    <span class="dv">126</span>     <span class="dv">0</span>    <span class="dv">46</span>  <span class="fl">32.9</span>   <span class="fl">2.6</span>   <span class="fl">2.5</span>   <span class="dv">150</span>  <span class="fl">11.8</span>   <span class="fl">0.5</span>   <span class="fl">3.6</span>     <span class="dv">0</span>  <span class="fl">979.</span></span>
<span id="cb127-14"><a href="reading-data.html#cb127-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> ARNE      <span class="dv">6</span>     <span class="dv">0</span>    <span class="dv">28</span>  <span class="fl">33.5</span>   <span class="fl">6.5</span>   <span class="fl">6.3</span>   <span class="dv">163</span>  <span class="fl">11.9</span>   <span class="fl">1.5</span>  <span class="dv">10</span>       <span class="dv">0</span>  <span class="fl">927.</span></span>
<span id="cb127-15"><a href="reading-data.html#cb127-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> BEAV      <span class="dv">8</span>     <span class="dv">0</span>    <span class="dv">23</span>  <span class="fl">34.9</span>  <span class="fl">11.2</span>  <span class="fl">11.1</span>   <span class="dv">165</span>   <span class="fl">7.3</span>   <span class="fl">1.4</span>  <span class="fl">15.2</span>     <span class="dv">0</span>  <span class="fl">921.</span></span>
<span id="cb127-16"><a href="reading-data.html#cb127-16" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> BESS      <span class="dv">9</span>     <span class="dv">0</span>    <span class="dv">37</span>  <span class="fl">33.8</span>   <span class="fl">8.3</span>   <span class="fl">8.3</span>   <span class="dv">156</span>   <span class="fl">6.6</span>   <span class="fl">1.3</span>  <span class="fl">11.2</span>     <span class="dv">0</span>  <span class="fl">951.</span></span>
<span id="cb127-17"><a href="reading-data.html#cb127-17" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 111 more rows, and 11 more variables: SRAD &lt;dbl&gt;, TA9M &lt;dbl&gt;,</span></span>
<span id="cb127-18"><a href="reading-data.html#cb127-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   WS2M &lt;dbl&gt;, TS10 &lt;dbl&gt;, TB10 &lt;dbl&gt;, TS05 &lt;dbl&gt;, TS25 &lt;dbl&gt;, TS60 &lt;dbl&gt;,</span></span>
<span id="cb127-19"><a href="reading-data.html#cb127-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   TR05 &lt;dbl&gt;, TR25 &lt;dbl&gt;, TR60 &lt;dbl&gt;</span></span></code></pre></div>
<p>You can also write fixed-width files if you <em>really</em> want to:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="reading-data.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;gdata&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;gdata&quot;</span>)</span>
<span id="cb128-2"><a href="reading-data.html#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="reading-data.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gdata)</span>
<span id="cb128-4"><a href="reading-data.html#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="reading-data.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.fwf</span>(mtcars, <span class="at">file =</span> <span class="st">&quot;data/04_mtcars-fixed-width.txt&quot;</span>)</span></code></pre></div>
<details>
<summary>
In SAS, it’s a bit more complicated, but not that much - the biggest difference is that you generally have to specify the column names for SAS. For complicated data, as in R, you may also have to specify the column widths.
</summary>
<pre class="sashtmllog"><code>6          /* This downloads the file to my machine */
7          /* x &quot;curl
7        ! https://www.mesonet.org/index.php/dataMdfMts/dataController/getF
7        ! ile/202006070000/mdf/TEXT/
8          &gt; data/mesodata.txt&quot; */
9          /* only run this once */
10         
11         /* Specifying WORK.mesodata means the dataset will cease to
11       ! exist after this chunk exits */


12         data WORK.mesodata;
13         
14         infile  &quot;data/mesodata.txt&quot; firstobs = 4;
15         /* Skip the first 3 rows */
16           length STID $ 4; /* define ID length */
17           input STID $ STNM TIME RELH TAIR
18                 WSPD WVEC WDIR WDSD WSSD WMAX
19                 RAIN PRES SRAD TA9M WS2M TS10
20                 TB10 TS05 TS25 TS60 TR05 TR25 TR60;
21         run;

NOTE: The data set WORK.MESODATA has 0 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

22         
23         proc print data=mesodata (obs=10); /* print the first 10
23       ! observations */
24           run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

ERROR: Errors printed on pages 4,5,7,11.</code></pre>
</details>
<p>In SAS data statements, you generally need to specify the data names explicitly.</p>
<p>In theory you can also get SAS to write out a fixed-width file, but it’s much easier to just… not. You can generally use a CSV or format of your choice – and you should definitely do that, because delimited files are much easier to work with.</p>
</div>
<div id="delimited-text-files" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Delimited Text Files</h3>
<p>Delimited text files are files where fields are separated by a specific character, such as " “,”", tab, etc. Often, delimited text files will have the column names as the first row in the file.</p>
<details>
<summary>
As long as you know the delimiter, it’s pretty easy to read in data from these files in R using the <code>readr</code> package.
</summary>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="reading-data.html#cb130-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/shahinrostami/pokemon_dataset/master/pokemon_gen_1_to_8.csv&quot;</span></span>
<span id="cb130-2"><a href="reading-data.html#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="reading-data.html#cb130-3" aria-hidden="true" tabindex="-1"></a>pokemon_info <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(url)</span>
<span id="cb130-4"><a href="reading-data.html#cb130-4" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> Missing column names filled <span class="cf">in</span><span class="sc">:</span> <span class="st">&#39;X1&#39;</span> [<span class="dv">1</span>]</span>
<span id="cb130-5"><a href="reading-data.html#cb130-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-6"><a href="reading-data.html#cb130-6" aria-hidden="true" tabindex="-1"></a>── Column specification ────────────────────────────────────────────────────────</span>
<span id="cb130-7"><a href="reading-data.html#cb130-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cols</span>(</span>
<span id="cb130-8"><a href="reading-data.html#cb130-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-9"><a href="reading-data.html#cb130-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-10"><a href="reading-data.html#cb130-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">german_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-11"><a href="reading-data.html#cb130-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">japanese_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-12"><a href="reading-data.html#cb130-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-13"><a href="reading-data.html#cb130-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-14"><a href="reading-data.html#cb130-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-15"><a href="reading-data.html#cb130-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-16"><a href="reading-data.html#cb130-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-17"><a href="reading-data.html#cb130-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-18"><a href="reading-data.html#cb130-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_hidden =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-19"><a href="reading-data.html#cb130-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth_rate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-20"><a href="reading-data.html#cb130-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-21"><a href="reading-data.html#cb130-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_2 =</span> <span class="fu">col_character</span>()</span>
<span id="cb130-22"><a href="reading-data.html#cb130-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-23"><a href="reading-data.html#cb130-23" aria-hidden="true" tabindex="-1"></a>ℹ Use <span class="st">`</span><span class="at">spec()</span><span class="st">`</span> <span class="cf">for</span> the full column specifications.</span>
<span id="cb130-24"><a href="reading-data.html#cb130-24" aria-hidden="true" tabindex="-1"></a>pokemon_info[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># Show only the first 6 lines &amp; cols</span></span>
<span id="cb130-25"><a href="reading-data.html#cb130-25" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 6</span></span>
<span id="cb130-26"><a href="reading-data.html#cb130-26" aria-hidden="true" tabindex="-1"></a>     X1 pokedex_number name         german_name japanese_name         generation</span>
<span id="cb130-27"><a href="reading-data.html#cb130-27" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span>          <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                      <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb130-28"><a href="reading-data.html#cb130-28" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="dv">0</span>              <span class="dv">1</span> Bulbasaur    Bisasam     フシギダネ (Fushigid…          <span class="dv">1</span></span>
<span id="cb130-29"><a href="reading-data.html#cb130-29" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="dv">1</span>              <span class="dv">2</span> Ivysaur      Bisaknosp   フシギソウ (Fushigis…          <span class="dv">1</span></span>
<span id="cb130-30"><a href="reading-data.html#cb130-30" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="dv">2</span>              <span class="dv">3</span> Venusaur     Bisaflor    フシギバナ (Fushigib…          <span class="dv">1</span></span>
<span id="cb130-31"><a href="reading-data.html#cb130-31" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="dv">3</span>              <span class="dv">3</span> Mega Venusa… Bisaflor    フシギバナ (Fushigib…          <span class="dv">1</span></span>
<span id="cb130-32"><a href="reading-data.html#cb130-32" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="dv">4</span>              <span class="dv">4</span> Charmander   Glumanda    ヒトカゲ (Hitokage)            <span class="dv">1</span></span>
<span id="cb130-33"><a href="reading-data.html#cb130-33" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="dv">5</span>              <span class="dv">5</span> Charmeleon   Glutexo     リザード (Lizardo)             <span class="dv">1</span></span>
<span id="cb130-34"><a href="reading-data.html#cb130-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-35"><a href="reading-data.html#cb130-35" aria-hidden="true" tabindex="-1"></a><span class="co"># a file delimited with |</span></span>
<span id="cb130-36"><a href="reading-data.html#cb130-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-37"><a href="reading-data.html#cb130-37" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/srvanderplas/unl-stat850/master/data/NE_Features_20200501.txt&quot;</span></span>
<span id="cb130-38"><a href="reading-data.html#cb130-38" aria-hidden="true" tabindex="-1"></a>nebraska_locations <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(url, <span class="at">delim =</span> <span class="st">&quot;|&quot;</span>)</span>
<span id="cb130-39"><a href="reading-data.html#cb130-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-40"><a href="reading-data.html#cb130-40" aria-hidden="true" tabindex="-1"></a>── Column specification ────────────────────────────────────────────────────────</span>
<span id="cb130-41"><a href="reading-data.html#cb130-41" aria-hidden="true" tabindex="-1"></a><span class="fu">cols</span>(</span>
<span id="cb130-42"><a href="reading-data.html#cb130-42" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> <span class="fu">col_character</span>(),</span>
<span id="cb130-43"><a href="reading-data.html#cb130-43" aria-hidden="true" tabindex="-1"></a>  <span class="at">FEATURE_ID =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-44"><a href="reading-data.html#cb130-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">PRIM_LAT_DEC =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-45"><a href="reading-data.html#cb130-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">PRIM_LONG_DEC =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-46"><a href="reading-data.html#cb130-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">SOURCE_LAT_DEC =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-47"><a href="reading-data.html#cb130-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">SOURCE_LONG_DEC =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-48"><a href="reading-data.html#cb130-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">ELEV_IN_M =</span> <span class="fu">col_double</span>(),</span>
<span id="cb130-49"><a href="reading-data.html#cb130-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">ELEV_IN_FT =</span> <span class="fu">col_double</span>()</span>
<span id="cb130-50"><a href="reading-data.html#cb130-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb130-51"><a href="reading-data.html#cb130-51" aria-hidden="true" tabindex="-1"></a>ℹ Use <span class="st">`</span><span class="at">spec()</span><span class="st">`</span> <span class="cf">for</span> the full column specifications.</span>
<span id="cb130-52"><a href="reading-data.html#cb130-52" aria-hidden="true" tabindex="-1"></a>nebraska_locations[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb130-53"><a href="reading-data.html#cb130-53" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 6</span></span>
<span id="cb130-54"><a href="reading-data.html#cb130-54" aria-hidden="true" tabindex="-1"></a>  FEATURE_ID FEATURE_NAME    FEATURE_CLASS STATE_ALPHA STATE_NUMERIC COUNTY_NAME</span>
<span id="cb130-55"><a href="reading-data.html#cb130-55" aria-hidden="true" tabindex="-1"></a>       <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>           <span class="er">&lt;</span>chr<span class="sc">&gt;</span>         <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>         <span class="er">&lt;</span>chr<span class="sc">&gt;</span>      </span>
<span id="cb130-56"><a href="reading-data.html#cb130-56" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="dv">171013</span> Peetz Table     Area          CO          <span class="dv">08</span>            Logan      </span>
<span id="cb130-57"><a href="reading-data.html#cb130-57" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="dv">171029</span> Sidney Draw     Valley        NE          <span class="dv">31</span>            Cheyenne   </span>
<span id="cb130-58"><a href="reading-data.html#cb130-58" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="dv">182687</span> Highline Canal  Canal         CO          <span class="dv">08</span>            Sedgwick   </span>
<span id="cb130-59"><a href="reading-data.html#cb130-59" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="dv">182688</span> Cottonwood Cre… Stream        CO          <span class="dv">08</span>            Sedgwick   </span>
<span id="cb130-60"><a href="reading-data.html#cb130-60" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="dv">182689</span> Sand Draw       Valley        CO          <span class="dv">08</span>            Sedgwick   </span>
<span id="cb130-61"><a href="reading-data.html#cb130-61" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="dv">182690</span> Sedgwick Draw   Valley        CO          <span class="dv">08</span>            Sedgwick   </span></code></pre></div>
</details>
<details>
<summary>
You can also read in the same files using read.csv and read.delim, which are the equivalent base R functions.
</summary>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="reading-data.html#cb131-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/shahinrostami/pokemon_dataset/master/pokemon_gen_1_to_8.csv&quot;</span></span>
<span id="cb131-2"><a href="reading-data.html#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="reading-data.html#cb131-3" aria-hidden="true" tabindex="-1"></a>pokemon_info <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(url, <span class="at">header =</span> T, <span class="at">stringsAsFactors =</span> F)</span>
<span id="cb131-4"><a href="reading-data.html#cb131-4" aria-hidden="true" tabindex="-1"></a>pokemon_info[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># Show only the first 6 lines &amp; cols</span></span>
<span id="cb131-5"><a href="reading-data.html#cb131-5" aria-hidden="true" tabindex="-1"></a>  X pokedex_number          name german_name            japanese_name</span>
<span id="cb131-6"><a href="reading-data.html#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">0</span>              <span class="dv">1</span>     Bulbasaur     Bisasam フシギダネ (Fushigidane)</span>
<span id="cb131-7"><a href="reading-data.html#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">1</span>              <span class="dv">2</span>       Ivysaur   Bisaknosp  フシギソウ (Fushigisou)</span>
<span id="cb131-8"><a href="reading-data.html#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">2</span>              <span class="dv">3</span>      Venusaur    Bisaflor フシギバナ (Fushigibana)</span>
<span id="cb131-9"><a href="reading-data.html#cb131-9" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">3</span>              <span class="dv">3</span> Mega Venusaur    Bisaflor フシギバナ (Fushigibana)</span>
<span id="cb131-10"><a href="reading-data.html#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">4</span>              <span class="dv">4</span>    Charmander    Glumanda      ヒトカゲ (Hitokage)</span>
<span id="cb131-11"><a href="reading-data.html#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">5</span>              <span class="dv">5</span>    Charmeleon     Glutexo       リザード (Lizardo)</span>
<span id="cb131-12"><a href="reading-data.html#cb131-12" aria-hidden="true" tabindex="-1"></a>  generation</span>
<span id="cb131-13"><a href="reading-data.html#cb131-13" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>          <span class="dv">1</span></span>
<span id="cb131-14"><a href="reading-data.html#cb131-14" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>          <span class="dv">1</span></span>
<span id="cb131-15"><a href="reading-data.html#cb131-15" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>          <span class="dv">1</span></span>
<span id="cb131-16"><a href="reading-data.html#cb131-16" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>          <span class="dv">1</span></span>
<span id="cb131-17"><a href="reading-data.html#cb131-17" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>          <span class="dv">1</span></span>
<span id="cb131-18"><a href="reading-data.html#cb131-18" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>          <span class="dv">1</span></span>
<span id="cb131-19"><a href="reading-data.html#cb131-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-20"><a href="reading-data.html#cb131-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-21"><a href="reading-data.html#cb131-21" aria-hidden="true" tabindex="-1"></a><span class="co"># a file delimited with |</span></span>
<span id="cb131-22"><a href="reading-data.html#cb131-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-23"><a href="reading-data.html#cb131-23" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/srvanderplas/unl-stat850/master/data/NE_Features_20200501.txt&quot;</span></span>
<span id="cb131-24"><a href="reading-data.html#cb131-24" aria-hidden="true" tabindex="-1"></a>nebraska_locations <span class="ot">&lt;-</span> <span class="fu">read.delim</span>(url, <span class="at">sep =</span> <span class="st">&quot;|&quot;</span>, <span class="at">header =</span> T)</span>
<span id="cb131-25"><a href="reading-data.html#cb131-25" aria-hidden="true" tabindex="-1"></a>nebraska_locations[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb131-26"><a href="reading-data.html#cb131-26" aria-hidden="true" tabindex="-1"></a>  FEATURE_ID     FEATURE_NAME FEATURE_CLASS STATE_ALPHA STATE_NUMERIC</span>
<span id="cb131-27"><a href="reading-data.html#cb131-27" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     <span class="dv">171013</span>      Peetz Table          Area          CO             <span class="dv">8</span></span>
<span id="cb131-28"><a href="reading-data.html#cb131-28" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     <span class="dv">171029</span>      Sidney Draw        Valley          NE            <span class="dv">31</span></span>
<span id="cb131-29"><a href="reading-data.html#cb131-29" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     <span class="dv">182687</span>   Highline Canal         Canal          CO             <span class="dv">8</span></span>
<span id="cb131-30"><a href="reading-data.html#cb131-30" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     <span class="dv">182688</span> Cottonwood Creek        Stream          CO             <span class="dv">8</span></span>
<span id="cb131-31"><a href="reading-data.html#cb131-31" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     <span class="dv">182689</span>        Sand Draw        Valley          CO             <span class="dv">8</span></span>
<span id="cb131-32"><a href="reading-data.html#cb131-32" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     <span class="dv">182690</span>    Sedgwick Draw        Valley          CO             <span class="dv">8</span></span>
<span id="cb131-33"><a href="reading-data.html#cb131-33" aria-hidden="true" tabindex="-1"></a>  COUNTY_NAME</span>
<span id="cb131-34"><a href="reading-data.html#cb131-34" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>       Logan</span>
<span id="cb131-35"><a href="reading-data.html#cb131-35" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>    Cheyenne</span>
<span id="cb131-36"><a href="reading-data.html#cb131-36" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>    Sedgwick</span>
<span id="cb131-37"><a href="reading-data.html#cb131-37" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>    Sedgwick</span>
<span id="cb131-38"><a href="reading-data.html#cb131-38" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>    Sedgwick</span>
<span id="cb131-39"><a href="reading-data.html#cb131-39" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>    Sedgwick</span></code></pre></div>
</details>
<p>SAS also has procs to accommodate CSV and other delimited files. PROC IMPORT may be the simplest way to do this, but of course a DATA step will work as well. We do have to tell SAS to treat the data file as a UTF-8 file (because of the japanese characters). Don’t know what UTF-8 is? <a href="https://www.youtube.com/watch?v=MijmeoH9LT4">Watch this excellent YouTube video explaining the history of file encoding!</a></p>
<p>While writing this code, I got an error of “Invalid logical name” because originally the filename was pokemonloc. Let this be a friendly reminder that your dataset names in SAS are limited to 8 characters in SAS.</p>
<details>
<summary>
CSV Import in SAS
</summary>
<pre class="sashtml"><code>6          /* x &quot;curl
6        ! https://raw.githubusercontent.com/shahinrostami/pokemon_dataset/
6        ! master/pokemon_gen_1_to_8.csv &gt; data/pokemon.csv&quot;;
7          only run this once to download the file... */
8          filename pokeloc &#39;data/pokemon.csv&#39; encoding=&quot;utf-8&quot;;
9          
10         
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
11         proc import datafile = pokeloc out=poke
12           DBMS = csv; /* comma delimited file */
13           GETNAMES = YES
14           ;


15         proc print data=poke (obs=10); /* print the first 10
15       ! observations */
ERROR: File WORK.POKE.DATA does not exist.
16           run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12.</code></pre>
<p>The only abnormal thing is that on my computer, the japanese characters don’t render.
<a href="other/04Pokemon_output.html">Here is the output from SAS running the above code interactively</a></p>
</details>
<p>Alternately (because UTF-8 is finicky depending on your OS and the OS the data file was created under), you can convert the UTF-8 file to ASCII or some other safer encoding before trying to read it in.</p>
<details>
<summary>
CSVs in SAS (via R)
</summary>
<p>If I fix the file in R (because I know how to fix it there… another option is to fix it manually),</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="reading-data.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb133-2"><a href="reading-data.html#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb133-3"><a href="reading-data.html#cb133-3" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/pokemon.csv&quot;</span>)[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb133-4"><a href="reading-data.html#cb133-4" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> Missing column names filled <span class="cf">in</span><span class="sc">:</span> <span class="st">&#39;X1&#39;</span> [<span class="dv">1</span>]</span>
<span id="cb133-5"><a href="reading-data.html#cb133-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-6"><a href="reading-data.html#cb133-6" aria-hidden="true" tabindex="-1"></a>── Column specification ────────────────────────────────────────────────────────</span>
<span id="cb133-7"><a href="reading-data.html#cb133-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cols</span>(</span>
<span id="cb133-8"><a href="reading-data.html#cb133-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> <span class="fu">col_double</span>(),</span>
<span id="cb133-9"><a href="reading-data.html#cb133-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-10"><a href="reading-data.html#cb133-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">german_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-11"><a href="reading-data.html#cb133-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">japanese_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-12"><a href="reading-data.html#cb133-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-13"><a href="reading-data.html#cb133-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-14"><a href="reading-data.html#cb133-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-15"><a href="reading-data.html#cb133-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-16"><a href="reading-data.html#cb133-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-17"><a href="reading-data.html#cb133-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-18"><a href="reading-data.html#cb133-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_hidden =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-19"><a href="reading-data.html#cb133-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth_rate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-20"><a href="reading-data.html#cb133-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb133-21"><a href="reading-data.html#cb133-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_2 =</span> <span class="fu">col_character</span>()</span>
<span id="cb133-22"><a href="reading-data.html#cb133-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb133-23"><a href="reading-data.html#cb133-23" aria-hidden="true" tabindex="-1"></a>ℹ Use <span class="st">`</span><span class="at">spec()</span><span class="st">`</span> <span class="cf">for</span> the full column specifications.</span>
<span id="cb133-24"><a href="reading-data.html#cb133-24" aria-hidden="true" tabindex="-1"></a><span class="co"># You&#39;ll learn how to do this later</span></span>
<span id="cb133-25"><a href="reading-data.html#cb133-25" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">select</span>(tmp, <span class="sc">-</span>japanese_name) <span class="sc">%&gt;%</span></span>
<span id="cb133-26"><a href="reading-data.html#cb133-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(iconv, <span class="at">from=</span><span class="st">&quot;UTF-8&quot;</span>, <span class="at">to =</span> <span class="st">&quot;ASCII//TRANSLIT&quot;</span>)</span>
<span id="cb133-27"><a href="reading-data.html#cb133-27" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(tmp, <span class="st">&quot;data/pokemon_ascii.csv&quot;</span>, <span class="at">na=</span><span class="st">&#39;.&#39;</span>)</span></code></pre></div>
<p>Then, reading in the new file allows us to actually see the output.</p>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          /* Create a library of class data */
8          
9          filename pokeloc  &quot;data/pokemon_ascii.csv&quot;;
10         


NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
11         proc import datafile = pokeloc out=classdat.poke
12           DBMS = csv /* comma delimited file */
13           replace;
14           GETNAMES = YES;
15           GUESSINGROWS = 1028 /* use all data for guessing the variable
15       ! type */
16           ;


17         proc print data=classdat.poke (obs=10); /* print the first 10
17       ! observations */
18           run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      


ERROR: Errors printed on pages 4,5,7,11,12.</code></pre>
This trick works in so many different situations. It’s very common to read and do initial processing in one language, then do the modeling in another language, and even move to a different language for visualization. Each programming language has its strengths and weaknesses; if you know enough of each of them, you can use each tool where it is most appropriate.
</details>
<details>
<summary>
Non-comma delimited files in SAS (via R)
</summary>
<p>To read in a pipe delimited file (the ‘|’ character), we have to make some changes. Here is the proc import code. Note that I am reading in a version of the file that I’ve converted to ASCII (see details below) because while the import works with the original file, it causes the SAS -&gt; R pipeline that the book is built on to break.</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="reading-data.html#cb135-1" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">readLines</span>(<span class="st">&quot;data/NE_Features_20200501.txt&quot;</span>)</span>
<span id="cb135-2"><a href="reading-data.html#cb135-2" aria-hidden="true" tabindex="-1"></a>tmp_ascii <span class="ot">&lt;-</span> <span class="fu">iconv</span>(tmp, <span class="at">to =</span> <span class="st">&quot;ASCII//TRANSLIT&quot;</span>)</span>
<span id="cb135-3"><a href="reading-data.html#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="fu">writeLines</span>(tmp_ascii, <span class="st">&quot;data/NE_Features_ascii.txt&quot;</span>)</span></code></pre></div>
<pre class="sashtmllog"><code>6          /* Without specifying the library to store the data in, it is
6        ! stored in WORK */
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
7          proc import datafile = &quot;data/NE_Features_ascii.txt&quot;
7        ! out=nefeatures
8            DBMS = DLM /* delimited file */
9            replace;
10           GETNAMES = YES;
11           DELIMITER = &#39;|&#39;;
12           GUESSINGROWS = 31582;
13         run;
14         


15         proc print data=nefeatures (obs=10); /* print the first 10
15       ! observations */
ERROR: File WORK.NEFEATURES.DATA does not exist.
16           run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
17         


ERROR: Errors printed on pages 4,5,7,11,12.</code></pre>
<p>Under the hood, proc import is just writing code for a data step. So when proc import doesn’t work, we can just write the code ourselves. It requires a bit more work (specifying column names, for example) but it also doesn’t fail nearly as often.</p>
<pre class="sashtmllog"><code>6          /* x &quot;curl
6        ! https://raw.githubusercontent.com/srvanderplas/unl-stat850/maste
6        ! r/data/NE_Features_20200501.txt
7          &gt; data/NE_Features_20200501.txt&quot;; */
8          /* only run this once... */
9          


10         data nefeatures;
11         /*infile &quot;data/NE_Features_20200501.txt&quot;*/
12         infile &quot;data/NE_Features_ascii.txt&quot;
13         dlm=&#39;|&#39; /* specify delimiter */
14           encoding=&quot;utf-8&quot; /* specify encoding */
15           DSD /* delimiter sensitive data */
16           missover /* keep going if missing obs encountered */
17           firstobs=2; /* skip header row */
18           input FEATURE_ID $
19           FEATURE_NAME $
20           FEATURE_CLASS $
21           STATE_ALPHA $
22           STATE_NUMERIC
23         COUNTY_NAME $
24           COUNTY_NUMERIC $
25           PRIMARY_LAT_DMS $
26           PRIM_LONG_DMS $
27           PRIM_LAT_DEC
28         PRIM_LONG_DEC
29         SOURCE_LAT_DMS $
30           SOURCE_LONG_DMS $
31           SOURCE_LAT_DEC
32         SOURCE_LONG_DEC
33         ELEV_IN_M
34         ELEV_IN_FT
35         MAP_NAME $
36           DATE_CREATED $
37           DATE_EDITED $
38           ;
39         run;

NOTE: The data set WORK.NEFEATURES has 0 observations and 20 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

40         
41         proc print data=nefeatures (obs=10); /* print the first 10
41       ! observations */
42           run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13.</code></pre>
</details>
</div>
<div id="try-it-out-12" class="section level3 unnumbered tryitout">
<h3>Try it out</h3>
<p>Rebrickable.com contains tables of almost any information imaginable concerning Lego sets, conveninently available at their <a href="https://rebrickable.com/downloads/">download page</a>. Because these datasets are comparatively large, they are available as compressed CSV files - that is, the .gz extension is a gzip compression applied to the CSV.</p>
<p>The <code>readr</code> package can handle .csv.gz files with no problems. Try reading in the data using the appropriate function from that package. Can you save the data as an uncompressed csv?</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="reading-data.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb138-2"><a href="reading-data.html#cb138-2" aria-hidden="true" tabindex="-1"></a>legosets <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://cdn.rebrickable.com/media/downloads/sets.csv.gz&quot;</span>)</span>
<span id="cb138-3"><a href="reading-data.html#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(legosets, <span class="st">&quot;data/lego_sets.csv&quot;</span>)</span></code></pre></div>
</details>
<p>In SAS, it is also possible to read gzip files directly; however, it is tricky to get PROC IMPORT to work with gzip files. The code below will 1) download the file (uncomment that part), 2) create a link to the gzip file, 3) create a link to where the unzipped file will go, and 4) unzip the file to the link specified in (3).</p>
<p>Can you write two different statements (one using proc import on the unzipped file, one using a datastep on the zipped file) to read the data in? Note that you may have to specify the length of character fields in the data step version using <code>length var_name $ 100;</code> before the input statement to set variable var_name to have maximum length of 100 characters.</p>
<pre><code>/* x &quot;curl https://cdn.rebrickable.com/media/downloads/sets.csv.gz &gt; \ 
data/lego_sets.csv.gz&quot;;
only run this once... */

filename legofile ZIP &quot;data/lego_sets.csv.gz&quot; GZIP;
filename target &quot;data/lego_sets.csv&quot;;

data _null_;
  infile legofile;
  file target;
  input;
  put _infile_;
run;</code></pre>
<details>
<summary>
Solution
</summary>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          /* Work with the library of class data */
8          
9          filename legofile ZIP &quot;data/lego_sets.csv.gz&quot; GZIP;
10         filename target &quot;data/lego_sets.csv&quot;;
11         
12         data _null_;
13           infile legofile;
14           file target;
15           input;
16           put _infile_;
17         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

18         
NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
19         proc import datafile = target out=classdat.legoset DBMS=csv
19       ! replace;
20         GETNAMES=YES;
21         GUESSINGROWS=15424;
22         run;
23         
24         /* This dataset will be stored in WORK */


25         data legoset2;
26           infile legofile dsd firstobs=2
27           dlm=&quot;,&quot;;
28           length set_num $20;
29           length name $100;
30           input set_num $ name $ year theme_id num_parts;
31           run;

NOTE: The data set WORK.LEGOSET2 has 0 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

32         
33         proc print data=classdat.legoset (obs=10);
34           run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

35         
36         proc print data=legoset2 (obs=10);
37           run;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13.</code></pre>
</details>
</div>
</div>
<div id="spreadsheets" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Spreadsheets</h2>
<p>In R, the easiest way to read Excel data in is to use the <code>readxl</code> package. There are many other packages with different features, however - I have used <code>openxlsx</code> in the past to format spreadsheets to send to clients, for instance. By far and away you are more likely to have problems with the arcane format of the Excel spreadsheet than with the package used to read the data in. It is usually helpful to open the spreadsheet up in Excel or LibreOffice first to make sure the formatting is as you expected it to be.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="reading-data.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;readxl&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span>
<span id="cb141-2"><a href="reading-data.html#cb141-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb141-3"><a href="reading-data.html#cb141-3" aria-hidden="true" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="st">&quot;data/police_violence.xlsx&quot;</span></span>
<span id="cb141-4"><a href="reading-data.html#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(path)) <span class="fu">download.file</span>(<span class="st">&quot;https://mappingpoliceviolence.org/s/MPVDatasetDownload.xlsx&quot;</span>, path, <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb141-5"><a href="reading-data.html#cb141-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-6"><a href="reading-data.html#cb141-6" aria-hidden="true" tabindex="-1"></a>police_violence <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;data/police_violence.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb141-7"><a href="reading-data.html#cb141-7" aria-hidden="true" tabindex="-1"></a>police_violence[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb141-8"><a href="reading-data.html#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 10 x 6</span></span>
<span id="cb141-9"><a href="reading-data.html#cb141-9" aria-hidden="true" tabindex="-1"></a>   <span class="st">`</span><span class="at">Victim&#39;s name</span><span class="st">`</span>         <span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span> <span class="st">`</span><span class="at">Victim&#39;s gender</span><span class="st">`</span> <span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span></span>
<span id="cb141-10"><a href="reading-data.html#cb141-10" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                            <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>             <span class="er">&lt;</span>chr<span class="sc">&gt;</span>          </span>
<span id="cb141-11"><a href="reading-data.html#cb141-11" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> Eric M. Tellez                      <span class="dv">28</span> Male              White          </span>
<span id="cb141-12"><a href="reading-data.html#cb141-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> Name withheld by police             <span class="cn">NA</span> Male              Unknown race   </span>
<span id="cb141-13"><a href="reading-data.html#cb141-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> Terry Hudson                        <span class="dv">57</span> Male              Black          </span>
<span id="cb141-14"><a href="reading-data.html#cb141-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> Malik Williams                      <span class="dv">23</span> Male              Black          </span>
<span id="cb141-15"><a href="reading-data.html#cb141-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> Frederick Perkins                   <span class="dv">37</span> Male              Black          </span>
<span id="cb141-16"><a href="reading-data.html#cb141-16" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> Michael Vincent Davis               <span class="dv">49</span> Male              White          </span>
<span id="cb141-17"><a href="reading-data.html#cb141-17" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> Brian Elkins                        <span class="dv">47</span> Male              Unknown race   </span>
<span id="cb141-18"><a href="reading-data.html#cb141-18" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> Debra D. Arbuckle                   <span class="dv">51</span> Female            White          </span>
<span id="cb141-19"><a href="reading-data.html#cb141-19" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> Name withheld by police             <span class="cn">NA</span> Male              Unknown race   </span>
<span id="cb141-20"><a href="reading-data.html#cb141-20" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> Cody McCaulou                       <span class="dv">27</span> Male              White          </span>
<span id="cb141-21"><a href="reading-data.html#cb141-21" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 2 more variables: URL of image of victim &lt;chr&gt;,</span></span>
<span id="cb141-22"><a href="reading-data.html#cb141-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   Date of Incident (month/day/year) &lt;dttm&gt;</span></span></code></pre></div>
<p>In SAS, PROC IMPORT is one easy way to read in xlsx files. In this code chunk, we have to handle the fact that one of the columns in the spreadsheet contains dates. <a href="https://support.sas.com/resources/papers/proceedings/proceedings/sugi29/068-29.pdf">SAS and Excel handle dates a bit differently</a>, so we have to transform the date variable – and we may as well relabel it at the same time. To do this, we use a DATA statement that outputs to the same dataset it references. We define a new variable date, adjust the Excel dates so that they conform to SAS’s standard, and tell SAS how to format the date. (We’ll talk more about dates and times later)</p>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          


NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
8          PROC IMPORT OUT=classdat.police
9              DATAFILE=&quot;data/police_violence.xlsx&quot;
10             DBMS=xlsx /* Tell SAS what type of file it&#39;s reading */
11             REPLACE; /* replace the dataset if it already exists */
12           SHEET=&quot;2013-2019 Police Killings&quot;; /* SAS reads the first
12       ! sheet by default */
13           GETNAMES=yes;
14             informat VAR6 mmddyy10.; /* tell SAS what format the date is
14       !  in */
15         RUN;
16         


17         DATA classdat.police;
18           SET classdat.police; /* modify the dataset and write back out
18       ! to it */
19         
20           date = VAR6 - 21916; /* Conversion to SAS date standard from
20       ! Excel */
21           FORMAT date MMDDYY10.; /* Tell SAS how to format the data when
21       !  printing it */
22           DROP VAR6; /* Get rid of the original data */
23         
24           num_age = INPUT(Victim_s_age, 3.); /* create numeric age
24       ! variable */
25         
26           DROP
27             A_brief_description_of_the_circu
28             URL_of_image_of_victim
29             Link_to_news_article_or_photo_of;
30             /* drop longer variable to save space so the file fits on
30       ! GitHub */
31             /* Size went from 100 MB to 6.7 MB without these 3 vars */
32         RUN;

WARNING: The variable A_brief_description_of_the_circu in the DROP, KEEP, 
         or RENAME list has never been referenced.
WARNING: The variable URL_of_image_of_victim in the DROP, KEEP, or RENAME 
         list has never been referenced.
WARNING: The variable Link_to_news_article_or_photo_of in the DROP, KEEP, 
         or RENAME list has never been referenced.
NOTE: The data set CLASSDAT.POLICE has 0 observations and 25 variables.
WARNING: Data set CLASSDAT.POLICE was not replaced because this step was 
         stopped.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         
35         PROC PRINT DATA=classdat.police (obs=10); /* print the first 10
35       ! observations */
36           VAR Victim_s_name Victim_s_age num_age Victim_s_gender
36       ! Victim_s_race date;
37         RUN;

NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,40.</code></pre>
<p><a href="https://stats.idre.ucla.edu/sas/faq/how-do-i-readwrite-excel-files-in-sas/">Here</a> is some additional information about reading and writing Excel files in SAS. In general, it is better to avoid working in Excel, as it is not easy to reproduce the results (and Excel is horrible about dates and times, among other issues). Saving your data in more reproducible formats will make writing reproducible code much easier.</p>
<div id="try-it-out-13" class="section level3 unnumbered tryitout">
<h3>Try it out</h3>
<p>The Nebraska Department of Motor Vehicles publishes a database of vehicle registrations by type of license plate. <a href="https://dmv.nebraska.gov/sites/dmv.nebraska.gov/files/doc/2019_Veh_Reg_by_Plate_Type.xlsx">Link</a></p>
<p>Read that data in using both R and SAS. Be sure to look at the structure of the excel file, so that you can read the data in properly!</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="reading-data.html#cb143-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://dmv.nebraska.gov/sites/dmv.nebraska.gov/files/doc/2019_Veh_Reg_by_Plate_Type.xlsx&quot;</span></span>
<span id="cb143-2"><a href="reading-data.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(url, <span class="at">destfile =</span> <span class="st">&quot;data/2019_Vehicle_Registration_Plates_NE.xlsx&quot;</span>, <span class="at">mode =</span> <span class="st">&quot;wb&quot;</span>)</span>
<span id="cb143-3"><a href="reading-data.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb143-4"><a href="reading-data.html#cb143-4" aria-hidden="true" tabindex="-1"></a>ne_plates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="at">path =</span> <span class="st">&quot;data/2019_Vehicle_Registration_Plates_NE.xlsx&quot;</span>, <span class="at">skip =</span> <span class="dv">1</span>)</span>
<span id="cb143-5"><a href="reading-data.html#cb143-5" aria-hidden="true" tabindex="-1"></a>New names<span class="sc">:</span></span>
<span id="cb143-6"><a href="reading-data.html#cb143-6" aria-hidden="true" tabindex="-1"></a><span class="er">*</span> County <span class="ot">-&gt;</span> County...<span class="dv">1</span></span>
<span id="cb143-7"><a href="reading-data.html#cb143-7" aria-hidden="true" tabindex="-1"></a><span class="sc">*</span> County <span class="ot">-&gt;</span> County...<span class="dv">34</span></span>
<span id="cb143-8"><a href="reading-data.html#cb143-8" aria-hidden="true" tabindex="-1"></a>ne_plates[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>]</span>
<span id="cb143-9"><a href="reading-data.html#cb143-9" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> fansi<span class="sc">::</span><span class="fu">strwrap_ctl</span>(x, <span class="at">width =</span> <span class="fu">max</span>(width, <span class="dv">0</span>), <span class="at">indent =</span> indent, <span class="sc">:</span></span>
<span id="cb143-10"><a href="reading-data.html#cb143-10" aria-hidden="true" tabindex="-1"></a>Encountered a C0 control character, see <span class="st">`</span><span class="at">?unhandled_ctl</span><span class="st">`</span>; you can use</span>
<span id="cb143-11"><a href="reading-data.html#cb143-11" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">warn=FALSE</span><span class="st">`</span> to turn off these warnings.</span>
<span id="cb143-12"><a href="reading-data.html#cb143-12" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 10 x 6</span></span>
<span id="cb143-13"><a href="reading-data.html#cb143-13" aria-hidden="true" tabindex="-1"></a>   County...<span class="dv">1</span>      <span class="st">`</span><span class="at">Amateur</span><span class="sc">\r\n</span><span class="at">Radio</span><span class="st">`</span> <span class="st">`</span><span class="at">Apport-</span><span class="sc">\r\n</span><span class="at">ioned</span><span class="st">`</span> <span class="st">`</span><span class="at">Apport</span><span class="sc">\r\n</span><span class="at">Trlr</span><span class="st">`</span>    AC</span>
<span id="cb143-14"><a href="reading-data.html#cb143-14" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>                        <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>              <span class="er">&lt;</span>dbl<span class="sc">&gt;</span>            <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span></span>
<span id="cb143-15"><a href="reading-data.html#cb143-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> C01 <span class="sc">-</span> DOUGLAS                  <span class="dv">148</span>                  <span class="dv">0</span>                <span class="dv">0</span>    <span class="dv">10</span></span>
<span id="cb143-16"><a href="reading-data.html#cb143-16" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> C02 <span class="sc">-</span> LANCASTER                <span class="dv">244</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">2</span></span>
<span id="cb143-17"><a href="reading-data.html#cb143-17" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> C03 <span class="sc">-</span> GAGE                      <span class="dv">10</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">1</span></span>
<span id="cb143-18"><a href="reading-data.html#cb143-18" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> C04 <span class="sc">-</span> CUSTER                     <span class="dv">6</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb143-19"><a href="reading-data.html#cb143-19" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> C05 <span class="sc">-</span> DODGE                     <span class="dv">28</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb143-20"><a href="reading-data.html#cb143-20" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> C06 <span class="sc">-</span> SAUNDERS                  <span class="dv">18</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb143-21"><a href="reading-data.html#cb143-21" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> C07 <span class="sc">-</span> MADISON                   <span class="dv">19</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb143-22"><a href="reading-data.html#cb143-22" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> C08 <span class="sc">-</span> HALL                      <span class="dv">16</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb143-23"><a href="reading-data.html#cb143-23" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> C09 <span class="sc">-</span> BUFFALO                   <span class="dv">26</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">2</span></span>
<span id="cb143-24"><a href="reading-data.html#cb143-24" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> C10 <span class="sc">-</span> PLATTE                    <span class="dv">12</span>                  <span class="dv">0</span>                <span class="dv">0</span>     <span class="dv">2</span></span>
<span id="cb143-25"><a href="reading-data.html#cb143-25" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 1 more variable: Breast</span></span>
<span id="cb143-26"><a href="reading-data.html#cb143-26" aria-hidden="true" tabindex="-1"></a> Cancer <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span></span></code></pre></div>
<pre class="sashtmllog"><code>NOTE: PROCEDURE IMPORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
6          PROC IMPORT OUT=WORK.licplate
7              DATAFILE=&quot;data/2019_Vehicle_Registration_Plates_NE.xlsx&quot;
8              DBMS=xlsx /* Tell SAS what type of file it&#39;s reading */
9              REPLACE; /* replace the dataset if it already exists */
10             RANGE=&quot;&#39;Reg By Plate Type&#39;$A2:0&quot;
11           GETNAMES=yes;
12         RUN;
13         
14         /* just a few columns... way too many to handle */


15         PROC PRINT DATA=WORK.licplate (obs=10); /* print the first 10
15       ! observations */
ERROR: File WORK.LICPLATE.DATA does not exist.
16         Var County Amateur__Radio Breast__Cancer Choose__Life
16       ! County__Gov Comm__Truck Passenger Total;
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
ERROR: No data set open to look up variables.
17         RUN;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41.</code></pre>
</details>
</div>
</div>
<div id="binary-files" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Binary Files</h2>
<p>Both R and SAS have binary data files that store data in a more compact form. It is relatively common for government websites, in particular, to provide SAS data in binary form.</p>
<p>Luckily, it is possible to read the binary data files in both programs.</p>
<p>Let’s read in the data from the 2009 National Household Travel Survey:</p>
<pre class="sashtmllog"><code>6          libname classdat &quot;data&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/data
7          /* this tells SAS where to look for (a bunch of) data files */
8          


9          proc contents data=classdat.cen10pub; /* This tells sas to
9        ! access the specific file */
NOTE: Data file CLASSDAT.CEN10PUB.DATA is in a format that is native to 
      another host, or the file encoding does not match the session 
      encoding. Cross Environment Data Access will be used, which might 
      require additional CPU resources and might reduce performance.
10         run;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41.</code></pre>
<div class="branch">
<a name="IDX"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Attributes">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<th class="l rowheader" scope="row">
Data Set Name
</th>
<td class="l data">
CLASSDAT.CEN10PUB
</td>
<th class="l rowheader" scope="row">
Observations
</th>
<td class="l data">
150147
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Member Type
</th>
<td class="l data">
DATA
</td>
<th class="l rowheader" scope="row">
Variables
</th>
<td class="l data">
8
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Engine
</th>
<td class="l data">
V9
</td>
<th class="l rowheader" scope="row">
Indexes
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Created
</th>
<td class="l data">
06/30/2014 12:35:56
</td>
<th class="l rowheader" scope="row">
Observation Length
</th>
<td class="l data">
25
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Last Modified
</th>
<td class="l data">
06/30/2014 12:35:56
</td>
<th class="l rowheader" scope="row">
Deleted Observations
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Protection
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
Compressed
</th>
<td class="l data">
NO
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Data Set Type
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
Sorted
</th>
<td class="l data">
NO
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Label
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Data Representation
</th>
<td class="l data">
WINDOWS_32
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Encoding
</th>
<td class="l data">
wlatin1 Western (Windows)
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<a name="IDX1"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Engine/Host Information">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="c b header" colspan="2" scope="colgroup">
Engine/Host Dependent Information
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="l rowheader" scope="row">
Data Set Page Size
</th>
<td class="l data">
4096
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Number of Data Set Pages
</th>
<td class="l data">
928
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
First Data Page
</th>
<td class="l data">
1
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Max Obs per Page
</th>
<td class="l data">
162
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Obs in First Data Page
</th>
<td class="l data">
75
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Number of Data Set Repairs
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Filename
</th>
<td class="l data">
/home/susan/Projects/Class/unl-stat850/stat850-textbook/data/cen10pub.sas7bdat
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Release Created
</th>
<td class="l data">
9.0202M2
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Host Created
</th>
<td class="l data">
W32_VSPRO
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Inode Number
</th>
<td class="l data">
39064453
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Access Permission
</th>
<td class="l data">
rw-rw-r–
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Owner Name
</th>
<td class="l data">
susan
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
File Size
</th>
<td class="l data">
4MB
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
File Size (bytes)
</th>
<td class="l data">
3802112
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<a name="IDX2"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Variables">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="c b header" colspan="7" scope="colgroup">
Alphabetic List of Variables and Attributes
</th>
</tr>
<tr>
<th class="r b header" scope="col">
#
</th>
<th class="l b header" scope="col">
Variable
</th>
<th class="l b header" scope="col">
Type
</th>
<th class="r b header" scope="col">
Len
</th>
<th class="l b header" scope="col">
Format
</th>
<th class="l b header" scope="col">
Informat
</th>
<th class="l b header" scope="col">
Label
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="l data">
CBSACAT10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
CBSA category for the HH home address
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="l data">
CBSASIZE10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
CBSA (2010) population size for the HH home address
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="l data">
HH_CBSA10
</td>
<td class="l data">
Char
</td>
<td class="r data">
5
</td>
<td class="l data">
<span class="math inline">\(CHAR5.&lt;/td&gt; &lt;td class=&quot;l data&quot;&gt;\)</span>CHAR5.
</td>
<td class="l data">
HH CBSA location, 2013 CBSA definitions based on 2010 Census
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="l data">
HOUSEID
</td>
<td class="l data">
Char
</td>
<td class="r data">
8
</td>
<td class="l data">
$8.
</td>
<td class="l data">
$8.
</td>
<td class="l data">
HH eight-digit ID number
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="l data">
RAIL10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
CBSA (2010) heavy rail status for HH
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
6
</th>
<td class="l data">
URBAN10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
Home address in urbanized area
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
8
</th>
<td class="l data">
URBRUR10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
Household in urban/rural area (2010 Urban definition)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
7
</th>
<td class="l data">
URBSIZE10
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
Size of urban area in which home address is located
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<table class="systitleandfootercontainer" style=" border-spacing: 0px;" width="100%" cellspacing="0" cellpadding="1" rules="none" frame="void" border="0" summary="Page Layout">
<tr>
<td class="c systemfooter">
Koch Snowflake
</td>
</tr>
</table>
<br>
</div>
<p>We can read the same file into R using the <code>sas7bdat</code> library:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="reading-data.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;sas7bdat&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;sas7bdat&quot;</span>)</span>
<span id="cb146-2"><a href="reading-data.html#cb146-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-3"><a href="reading-data.html#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sas7bdat)</span>
<span id="cb146-4"><a href="reading-data.html#cb146-4" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.sas7bdat</span>(<span class="st">&quot;https://github.com/srvanderplas/unl-stat850/raw/master/data/cen10pub.sas7bdat&quot;</span>)</span>
<span id="cb146-5"><a href="reading-data.html#cb146-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(data)</span>
<span id="cb146-6"><a href="reading-data.html#cb146-6" aria-hidden="true" tabindex="-1"></a>   HOUSEID HH_CBSA10 RAIL10 CBSASIZE10 CBSACAT10 URBAN10 URBSIZE10 URBRUR10</span>
<span id="cb146-7"><a href="reading-data.html#cb146-7" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> <span class="dv">20000017</span>     XXXXX     <span class="dv">02</span>         <span class="dv">02</span>        <span class="dv">03</span>      <span class="dv">04</span>        <span class="dv">06</span>       <span class="dv">02</span></span>
<span id="cb146-8"><a href="reading-data.html#cb146-8" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="dv">20000231</span>     XXXXX     <span class="dv">02</span>         <span class="dv">03</span>        <span class="dv">03</span>      <span class="dv">01</span>        <span class="dv">03</span>       <span class="dv">01</span></span>
<span id="cb146-9"><a href="reading-data.html#cb146-9" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="dv">20000521</span>     XXXXX     <span class="dv">02</span>         <span class="dv">03</span>        <span class="dv">03</span>      <span class="dv">01</span>        <span class="dv">03</span>       <span class="dv">01</span></span>
<span id="cb146-10"><a href="reading-data.html#cb146-10" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> <span class="dv">20001283</span>     <span class="dv">35620</span>     <span class="dv">01</span>         <span class="dv">05</span>        <span class="dv">01</span>      <span class="dv">01</span>        <span class="dv">05</span>       <span class="dv">01</span></span>
<span id="cb146-11"><a href="reading-data.html#cb146-11" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> <span class="dv">20001603</span>        <span class="sc">-</span><span class="dv">1</span>     <span class="dv">02</span>         <span class="dv">06</span>        <span class="dv">04</span>      <span class="dv">04</span>        <span class="dv">06</span>       <span class="dv">02</span></span>
<span id="cb146-12"><a href="reading-data.html#cb146-12" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> <span class="dv">20001649</span>     XXXXX     <span class="dv">02</span>         <span class="dv">03</span>        <span class="dv">03</span>      <span class="dv">01</span>        <span class="dv">02</span>       <span class="dv">01</span></span></code></pre></div>
<p>If you are curious about what this data means, then by all means, take a look at the <a href="https://github.com/srvanderplas/unl-stat850/raw/master/data/cen10_codebook.xlsx">codebook</a> (XLSX file). For now, it’s enough that we can see roughly how it’s structured.</p>
<p>There are <a href="https://blogs.sas.com/content/iml/2011/05/13/calling-r-from-sasiml-software.html">theoretically ways to read R data into SAS via the R subsystem</a>. Feel free to do that on your own machine.<a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a></p>
<details>
<summary>
In R, there are a couple of different binary files.
</summary>
<p><code>.Rdata</code> is perhaps the most common, and can store several objects (along with their names) in the same file.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="reading-data.html#cb147-1" aria-hidden="true" tabindex="-1"></a>legos <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/lego_sets.csv&quot;</span>)</span>
<span id="cb147-2"><a href="reading-data.html#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="reading-data.html#cb147-3" aria-hidden="true" tabindex="-1"></a>── Column specification ────────────────────────────────────────────────────────</span>
<span id="cb147-4"><a href="reading-data.html#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cols</span>(</span>
<span id="cb147-5"><a href="reading-data.html#cb147-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">set_num =</span> <span class="fu">col_character</span>(),</span>
<span id="cb147-6"><a href="reading-data.html#cb147-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb147-7"><a href="reading-data.html#cb147-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">col_double</span>(),</span>
<span id="cb147-8"><a href="reading-data.html#cb147-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">theme_id =</span> <span class="fu">col_double</span>(),</span>
<span id="cb147-9"><a href="reading-data.html#cb147-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">num_parts =</span> <span class="fu">col_double</span>()</span>
<span id="cb147-10"><a href="reading-data.html#cb147-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb147-11"><a href="reading-data.html#cb147-11" aria-hidden="true" tabindex="-1"></a>my_var <span class="ot">&lt;-</span> <span class="st">&quot;This variable contains a string&quot;</span></span>
<span id="cb147-12"><a href="reading-data.html#cb147-12" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(legos, my_var, <span class="at">file =</span> <span class="st">&quot;data/R_binary.Rdata&quot;</span>)</span></code></pre></div>
</details>
<p>If we look at the file sizes of <code>lego_sets.csv</code> (619 KB) and <code>R_binary.Rdata</code>(227.8 KB), the size difference between binary and flat file formats is obvious.</p>
<details>
<summary>
We can load the R binary file back in using the <code>load()</code> function.
</summary>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="reading-data.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(legos, my_var) <span class="co"># clear the files out</span></span>
<span id="cb148-2"><a href="reading-data.html#cb148-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-3"><a href="reading-data.html#cb148-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>() <span class="co"># all objects in the working environment</span></span>
<span id="cb148-4"><a href="reading-data.html#cb148-4" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span>] <span class="st">&quot;%dosomething%&quot;</span>      <span class="st">&quot;a&quot;</span>                  <span class="st">&quot;abab_regex&quot;</span>        </span>
<span id="cb148-5"><a href="reading-data.html#cb148-5" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">4</span>] <span class="st">&quot;adder&quot;</span>              <span class="st">&quot;addr_regex&quot;</span>         <span class="st">&quot;address&quot;</span>           </span>
<span id="cb148-6"><a href="reading-data.html#cb148-6" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">7</span>] <span class="st">&quot;alert&quot;</span>              <span class="st">&quot;all_files&quot;</span>          <span class="st">&quot;all_lines&quot;</span>         </span>
<span id="cb148-7"><a href="reading-data.html#cb148-7" aria-hidden="true" tabindex="-1"></a> [<span class="dv">10</span>] <span class="st">&quot;all_pkgs&quot;</span>           <span class="st">&quot;bank_balance&quot;</span>       <span class="st">&quot;basel_value&quot;</span>       </span>
<span id="cb148-8"><a href="reading-data.html#cb148-8" aria-hidden="true" tabindex="-1"></a> [<span class="dv">13</span>] <span class="st">&quot;breaks&quot;</span>             <span class="st">&quot;ChickWeight&quot;</span>        <span class="st">&quot;circle_area&quot;</span>       </span>
<span id="cb148-9"><a href="reading-data.html#cb148-9" aria-hidden="true" tabindex="-1"></a> [<span class="dv">16</span>] <span class="st">&quot;city&quot;</span>               <span class="st">&quot;college&quot;</span>            <span class="st">&quot;college_data&quot;</span>      </span>
<span id="cb148-10"><a href="reading-data.html#cb148-10" aria-hidden="true" tabindex="-1"></a> [<span class="dv">19</span>] <span class="st">&quot;college_data2&quot;</span>      <span class="st">&quot;college_fips&quot;</span>       <span class="st">&quot;content&quot;</span>           </span>
<span id="cb148-11"><a href="reading-data.html#cb148-11" aria-hidden="true" tabindex="-1"></a> [<span class="dv">22</span>] <span class="st">&quot;crimtab&quot;</span>            <span class="st">&quot;crust_ingredients&quot;</span>  <span class="st">&quot;current_value&quot;</span>     </span>
<span id="cb148-12"><a href="reading-data.html#cb148-12" aria-hidden="true" tabindex="-1"></a> [<span class="dv">25</span>] <span class="st">&quot;data&quot;</span>               <span class="st">&quot;decimal&quot;</span>            <span class="st">&quot;dep_list&quot;</span>          </span>
<span id="cb148-13"><a href="reading-data.html#cb148-13" aria-hidden="true" tabindex="-1"></a> [<span class="dv">28</span>] <span class="st">&quot;df&quot;</span>                 <span class="st">&quot;disease_incidence&quot;</span>  <span class="st">&quot;dist&quot;</span>              </span>
<span id="cb148-14"><a href="reading-data.html#cb148-14" aria-hidden="true" tabindex="-1"></a> [<span class="dv">31</span>] <span class="st">&quot;dn&quot;</span>                 <span class="st">&quot;dog&quot;</span>                <span class="st">&quot;dog_hears&quot;</span>         </span>
<span id="cb148-15"><a href="reading-data.html#cb148-15" aria-hidden="true" tabindex="-1"></a> [<span class="dv">34</span>] <span class="st">&quot;dog_regex&quot;</span>          <span class="st">&quot;essential_toppings&quot;</span> <span class="st">&quot;f1&quot;</span>                </span>
<span id="cb148-16"><a href="reading-data.html#cb148-16" aria-hidden="true" tabindex="-1"></a> [<span class="dv">37</span>] <span class="st">&quot;f2&quot;</span>                 <span class="st">&quot;f3&quot;</span>                 <span class="st">&quot;fun&quot;</span>               </span>
<span id="cb148-17"><a href="reading-data.html#cb148-17" aria-hidden="true" tabindex="-1"></a> [<span class="dv">40</span>] <span class="st">&quot;fun2&quot;</span>               <span class="st">&quot;fun3&quot;</span>               <span class="st">&quot;gapminder&quot;</span>         </span>
<span id="cb148-18"><a href="reading-data.html#cb148-18" aria-hidden="true" tabindex="-1"></a> [<span class="dv">43</span>] <span class="st">&quot;git_location&quot;</span>       <span class="st">&quot;grocery_list&quot;</span>       <span class="st">&quot;hiv&quot;</span>               </span>
<span id="cb148-19"><a href="reading-data.html#cb148-19" aria-hidden="true" tabindex="-1"></a> [<span class="dv">46</span>] <span class="st">&quot;house_num&quot;</span>          <span class="st">&quot;human_talk&quot;</span>         <span class="st">&quot;i&quot;</span>                 </span>
<span id="cb148-20"><a href="reading-data.html#cb148-20" aria-hidden="true" tabindex="-1"></a> [<span class="dv">49</span>] <span class="st">&quot;ick&quot;</span>                <span class="st">&quot;id&quot;</span>                 <span class="st">&quot;integer&quot;</span>           </span>
<span id="cb148-21"><a href="reading-data.html#cb148-21" aria-hidden="true" tabindex="-1"></a> [<span class="dv">52</span>] <span class="st">&quot;line&quot;</span>               <span class="st">&quot;logical&quot;</span>            <span class="st">&quot;m3&quot;</span>                </span>
<span id="cb148-22"><a href="reading-data.html#cb148-22" aria-hidden="true" tabindex="-1"></a> [<span class="dv">55</span>] <span class="st">&quot;m3or5&quot;</span>              <span class="st">&quot;m5&quot;</span>                 <span class="st">&quot;mat&quot;</span>               </span>
<span id="cb148-23"><a href="reading-data.html#cb148-23" aria-hidden="true" tabindex="-1"></a> [<span class="dv">58</span>] <span class="st">&quot;math_and_lsd&quot;</span>       <span class="st">&quot;mesodata&quot;</span>           <span class="st">&quot;mesodata_names&quot;</span>    </span>
<span id="cb148-24"><a href="reading-data.html#cb148-24" aria-hidden="true" tabindex="-1"></a> [<span class="dv">61</span>] <span class="st">&quot;minv&quot;</span>               <span class="st">&quot;month_fct&quot;</span>          <span class="st">&quot;mtcars&quot;</span>            </span>
<span id="cb148-25"><a href="reading-data.html#cb148-25" aria-hidden="true" tabindex="-1"></a> [<span class="dv">64</span>] <span class="st">&quot;myfun&quot;</span>              <span class="st">&quot;myfun2&quot;</span>             <span class="st">&quot;myfun3&quot;</span>            </span>
<span id="cb148-26"><a href="reading-data.html#cb148-26" aria-hidden="true" tabindex="-1"></a> [<span class="dv">67</span>] <span class="st">&quot;ne_plates&quot;</span>          <span class="st">&quot;nebraska_locations&quot;</span> <span class="st">&quot;newnames&quot;</span>          </span>
<span id="cb148-27"><a href="reading-data.html#cb148-27" aria-hidden="true" tabindex="-1"></a> [<span class="dv">70</span>] <span class="st">&quot;npkgs&quot;</span>              <span class="st">&quot;nuid&quot;</span>               <span class="st">&quot;num_string&quot;</span>        </span>
<span id="cb148-28"><a href="reading-data.html#cb148-28" aria-hidden="true" tabindex="-1"></a> [<span class="dv">73</span>] <span class="st">&quot;page&quot;</span>               <span class="st">&quot;path&quot;</span>               <span class="st">&quot;pattern&quot;</span>           </span>
<span id="cb148-29"><a href="reading-data.html#cb148-29" aria-hidden="true" tabindex="-1"></a> [<span class="dv">76</span>] <span class="st">&quot;pattern2&quot;</span>           <span class="st">&quot;phone&quot;</span>              <span class="st">&quot;phone_num_variants&quot;</span></span>
<span id="cb148-30"><a href="reading-data.html#cb148-30" aria-hidden="true" tabindex="-1"></a> [<span class="dv">79</span>] <span class="st">&quot;phone_regex&quot;</span>        <span class="st">&quot;pkgs&quot;</span>               <span class="st">&quot;pkgs2&quot;</span>             </span>
<span id="cb148-31"><a href="reading-data.html#cb148-31" aria-hidden="true" tabindex="-1"></a> [<span class="dv">82</span>] <span class="st">&quot;pokemon_info&quot;</span>       <span class="st">&quot;police_violence&quot;</span>    <span class="st">&quot;prev_basel_value&quot;</span>  </span>
<span id="cb148-32"><a href="reading-data.html#cb148-32" aria-hidden="true" tabindex="-1"></a> [<span class="dv">85</span>] <span class="st">&quot;prev_value&quot;</span>         <span class="st">&quot;r_files&quot;</span>            <span class="st">&quot;res&quot;</span>               </span>
<span id="cb148-33"><a href="reading-data.html#cb148-33" aria-hidden="true" tabindex="-1"></a> [<span class="dv">88</span>] <span class="st">&quot;rmd_files&quot;</span>          <span class="st">&quot;sasexe&quot;</span>             <span class="st">&quot;sasopts&quot;</span>           </span>
<span id="cb148-34"><a href="reading-data.html#cb148-34" aria-hidden="true" tabindex="-1"></a> [<span class="dv">91</span>] <span class="st">&quot;saspath&quot;</span>            <span class="st">&quot;sheets&quot;</span>             <span class="st">&quot;squirrels&quot;</span>         </span>
<span id="cb148-35"><a href="reading-data.html#cb148-35" aria-hidden="true" tabindex="-1"></a> [<span class="dv">94</span>] <span class="st">&quot;squirrels_colorfix&quot;</span> <span class="st">&quot;ssn&quot;</span>                <span class="st">&quot;state_facts&quot;</span>       </span>
<span id="cb148-36"><a href="reading-data.html#cb148-36" aria-hidden="true" tabindex="-1"></a> [<span class="dv">97</span>] <span class="st">&quot;state.abb&quot;</span>          <span class="st">&quot;state.area&quot;</span>         <span class="st">&quot;state.center&quot;</span>      </span>
<span id="cb148-37"><a href="reading-data.html#cb148-37" aria-hidden="true" tabindex="-1"></a>[<span class="dv">100</span>] <span class="st">&quot;state.division&quot;</span>     <span class="st">&quot;state.fips&quot;</span>         <span class="st">&quot;state.name&quot;</span>        </span>
<span id="cb148-38"><a href="reading-data.html#cb148-38" aria-hidden="true" tabindex="-1"></a>[<span class="dv">103</span>] <span class="st">&quot;state.region&quot;</span>       <span class="st">&quot;state.x77&quot;</span>          <span class="st">&quot;street&quot;</span>            </span>
<span id="cb148-39"><a href="reading-data.html#cb148-39" aria-hidden="true" tabindex="-1"></a>[<span class="dv">106</span>] <span class="st">&quot;string&quot;</span>             <span class="st">&quot;strings&quot;</span>            <span class="st">&quot;titles&quot;</span>            </span>
<span id="cb148-40"><a href="reading-data.html#cb148-40" aria-hidden="true" tabindex="-1"></a>[<span class="dv">109</span>] <span class="st">&quot;tmp&quot;</span>                <span class="st">&quot;tmp_ascii&quot;</span>          <span class="st">&quot;tmp_chars&quot;</span>         </span>
<span id="cb148-41"><a href="reading-data.html#cb148-41" aria-hidden="true" tabindex="-1"></a>[<span class="dv">112</span>] <span class="st">&quot;tmp_chars_space&quot;</span>    <span class="st">&quot;tmp_space&quot;</span>          <span class="st">&quot;try_install_pkg&quot;</span>   </span>
<span id="cb148-42"><a href="reading-data.html#cb148-42" aria-hidden="true" tabindex="-1"></a>[<span class="dv">115</span>] <span class="st">&quot;txt&quot;</span>                <span class="st">&quot;url&quot;</span>                <span class="st">&quot;w&quot;</span>                 </span>
<span id="cb148-43"><a href="reading-data.html#cb148-43" aria-hidden="true" tabindex="-1"></a>[<span class="dv">118</span>] <span class="st">&quot;who_disease&quot;</span>        <span class="st">&quot;who_disease_long&quot;</span>   <span class="st">&quot;widths&quot;</span>            </span>
<span id="cb148-44"><a href="reading-data.html#cb148-44" aria-hidden="true" tabindex="-1"></a>[<span class="dv">121</span>] <span class="st">&quot;x&quot;</span>                  <span class="st">&quot;X&quot;</span>                  <span class="st">&quot;X1&quot;</span>                </span>
<span id="cb148-45"><a href="reading-data.html#cb148-45" aria-hidden="true" tabindex="-1"></a>[<span class="dv">124</span>] <span class="st">&quot;Xorig&quot;</span>              <span class="st">&quot;y&quot;</span>                  <span class="st">&quot;Y&quot;</span>                 </span>
<span id="cb148-46"><a href="reading-data.html#cb148-46" aria-hidden="true" tabindex="-1"></a>[<span class="dv">127</span>] <span class="st">&quot;y_mag&quot;</span>              <span class="st">&quot;y_sign&quot;</span>             <span class="st">&quot;yfact&quot;</span>             </span>
<span id="cb148-47"><a href="reading-data.html#cb148-47" aria-hidden="true" tabindex="-1"></a>[<span class="dv">130</span>] <span class="st">&quot;yummy_toppings&quot;</span>     <span class="st">&quot;z&quot;</span>                  <span class="st">&quot;zip&quot;</span>               </span>
<span id="cb148-48"><a href="reading-data.html#cb148-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-49"><a href="reading-data.html#cb148-49" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/R_binary.Rdata&quot;</span>)</span>
<span id="cb148-50"><a href="reading-data.html#cb148-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-51"><a href="reading-data.html#cb148-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span>() <span class="co"># all objects in the working environment</span></span>
<span id="cb148-52"><a href="reading-data.html#cb148-52" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">1</span>] <span class="st">&quot;%dosomething%&quot;</span>      <span class="st">&quot;a&quot;</span>                  <span class="st">&quot;abab_regex&quot;</span>        </span>
<span id="cb148-53"><a href="reading-data.html#cb148-53" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">4</span>] <span class="st">&quot;adder&quot;</span>              <span class="st">&quot;addr_regex&quot;</span>         <span class="st">&quot;address&quot;</span>           </span>
<span id="cb148-54"><a href="reading-data.html#cb148-54" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">7</span>] <span class="st">&quot;alert&quot;</span>              <span class="st">&quot;all_files&quot;</span>          <span class="st">&quot;all_lines&quot;</span>         </span>
<span id="cb148-55"><a href="reading-data.html#cb148-55" aria-hidden="true" tabindex="-1"></a> [<span class="dv">10</span>] <span class="st">&quot;all_pkgs&quot;</span>           <span class="st">&quot;bank_balance&quot;</span>       <span class="st">&quot;basel_value&quot;</span>       </span>
<span id="cb148-56"><a href="reading-data.html#cb148-56" aria-hidden="true" tabindex="-1"></a> [<span class="dv">13</span>] <span class="st">&quot;breaks&quot;</span>             <span class="st">&quot;ChickWeight&quot;</span>        <span class="st">&quot;circle_area&quot;</span>       </span>
<span id="cb148-57"><a href="reading-data.html#cb148-57" aria-hidden="true" tabindex="-1"></a> [<span class="dv">16</span>] <span class="st">&quot;city&quot;</span>               <span class="st">&quot;college&quot;</span>            <span class="st">&quot;college_data&quot;</span>      </span>
<span id="cb148-58"><a href="reading-data.html#cb148-58" aria-hidden="true" tabindex="-1"></a> [<span class="dv">19</span>] <span class="st">&quot;college_data2&quot;</span>      <span class="st">&quot;college_fips&quot;</span>       <span class="st">&quot;content&quot;</span>           </span>
<span id="cb148-59"><a href="reading-data.html#cb148-59" aria-hidden="true" tabindex="-1"></a> [<span class="dv">22</span>] <span class="st">&quot;crimtab&quot;</span>            <span class="st">&quot;crust_ingredients&quot;</span>  <span class="st">&quot;current_value&quot;</span>     </span>
<span id="cb148-60"><a href="reading-data.html#cb148-60" aria-hidden="true" tabindex="-1"></a> [<span class="dv">25</span>] <span class="st">&quot;data&quot;</span>               <span class="st">&quot;decimal&quot;</span>            <span class="st">&quot;dep_list&quot;</span>          </span>
<span id="cb148-61"><a href="reading-data.html#cb148-61" aria-hidden="true" tabindex="-1"></a> [<span class="dv">28</span>] <span class="st">&quot;df&quot;</span>                 <span class="st">&quot;disease_incidence&quot;</span>  <span class="st">&quot;dist&quot;</span>              </span>
<span id="cb148-62"><a href="reading-data.html#cb148-62" aria-hidden="true" tabindex="-1"></a> [<span class="dv">31</span>] <span class="st">&quot;dn&quot;</span>                 <span class="st">&quot;dog&quot;</span>                <span class="st">&quot;dog_hears&quot;</span>         </span>
<span id="cb148-63"><a href="reading-data.html#cb148-63" aria-hidden="true" tabindex="-1"></a> [<span class="dv">34</span>] <span class="st">&quot;dog_regex&quot;</span>          <span class="st">&quot;essential_toppings&quot;</span> <span class="st">&quot;f1&quot;</span>                </span>
<span id="cb148-64"><a href="reading-data.html#cb148-64" aria-hidden="true" tabindex="-1"></a> [<span class="dv">37</span>] <span class="st">&quot;f2&quot;</span>                 <span class="st">&quot;f3&quot;</span>                 <span class="st">&quot;fun&quot;</span>               </span>
<span id="cb148-65"><a href="reading-data.html#cb148-65" aria-hidden="true" tabindex="-1"></a> [<span class="dv">40</span>] <span class="st">&quot;fun2&quot;</span>               <span class="st">&quot;fun3&quot;</span>               <span class="st">&quot;gapminder&quot;</span>         </span>
<span id="cb148-66"><a href="reading-data.html#cb148-66" aria-hidden="true" tabindex="-1"></a> [<span class="dv">43</span>] <span class="st">&quot;git_location&quot;</span>       <span class="st">&quot;grocery_list&quot;</span>       <span class="st">&quot;hiv&quot;</span>               </span>
<span id="cb148-67"><a href="reading-data.html#cb148-67" aria-hidden="true" tabindex="-1"></a> [<span class="dv">46</span>] <span class="st">&quot;house_num&quot;</span>          <span class="st">&quot;human_talk&quot;</span>         <span class="st">&quot;i&quot;</span>                 </span>
<span id="cb148-68"><a href="reading-data.html#cb148-68" aria-hidden="true" tabindex="-1"></a> [<span class="dv">49</span>] <span class="st">&quot;ick&quot;</span>                <span class="st">&quot;id&quot;</span>                 <span class="st">&quot;integer&quot;</span>           </span>
<span id="cb148-69"><a href="reading-data.html#cb148-69" aria-hidden="true" tabindex="-1"></a> [<span class="dv">52</span>] <span class="st">&quot;legos&quot;</span>              <span class="st">&quot;line&quot;</span>               <span class="st">&quot;logical&quot;</span>           </span>
<span id="cb148-70"><a href="reading-data.html#cb148-70" aria-hidden="true" tabindex="-1"></a> [<span class="dv">55</span>] <span class="st">&quot;m3&quot;</span>                 <span class="st">&quot;m3or5&quot;</span>              <span class="st">&quot;m5&quot;</span>                </span>
<span id="cb148-71"><a href="reading-data.html#cb148-71" aria-hidden="true" tabindex="-1"></a> [<span class="dv">58</span>] <span class="st">&quot;mat&quot;</span>                <span class="st">&quot;math_and_lsd&quot;</span>       <span class="st">&quot;mesodata&quot;</span>          </span>
<span id="cb148-72"><a href="reading-data.html#cb148-72" aria-hidden="true" tabindex="-1"></a> [<span class="dv">61</span>] <span class="st">&quot;mesodata_names&quot;</span>     <span class="st">&quot;minv&quot;</span>               <span class="st">&quot;month_fct&quot;</span>         </span>
<span id="cb148-73"><a href="reading-data.html#cb148-73" aria-hidden="true" tabindex="-1"></a> [<span class="dv">64</span>] <span class="st">&quot;mtcars&quot;</span>             <span class="st">&quot;my_var&quot;</span>             <span class="st">&quot;myfun&quot;</span>             </span>
<span id="cb148-74"><a href="reading-data.html#cb148-74" aria-hidden="true" tabindex="-1"></a> [<span class="dv">67</span>] <span class="st">&quot;myfun2&quot;</span>             <span class="st">&quot;myfun3&quot;</span>             <span class="st">&quot;ne_plates&quot;</span>         </span>
<span id="cb148-75"><a href="reading-data.html#cb148-75" aria-hidden="true" tabindex="-1"></a> [<span class="dv">70</span>] <span class="st">&quot;nebraska_locations&quot;</span> <span class="st">&quot;newnames&quot;</span>           <span class="st">&quot;npkgs&quot;</span>             </span>
<span id="cb148-76"><a href="reading-data.html#cb148-76" aria-hidden="true" tabindex="-1"></a> [<span class="dv">73</span>] <span class="st">&quot;nuid&quot;</span>               <span class="st">&quot;num_string&quot;</span>         <span class="st">&quot;page&quot;</span>              </span>
<span id="cb148-77"><a href="reading-data.html#cb148-77" aria-hidden="true" tabindex="-1"></a> [<span class="dv">76</span>] <span class="st">&quot;path&quot;</span>               <span class="st">&quot;pattern&quot;</span>            <span class="st">&quot;pattern2&quot;</span>          </span>
<span id="cb148-78"><a href="reading-data.html#cb148-78" aria-hidden="true" tabindex="-1"></a> [<span class="dv">79</span>] <span class="st">&quot;phone&quot;</span>              <span class="st">&quot;phone_num_variants&quot;</span> <span class="st">&quot;phone_regex&quot;</span>       </span>
<span id="cb148-79"><a href="reading-data.html#cb148-79" aria-hidden="true" tabindex="-1"></a> [<span class="dv">82</span>] <span class="st">&quot;pkgs&quot;</span>               <span class="st">&quot;pkgs2&quot;</span>              <span class="st">&quot;pokemon_info&quot;</span>      </span>
<span id="cb148-80"><a href="reading-data.html#cb148-80" aria-hidden="true" tabindex="-1"></a> [<span class="dv">85</span>] <span class="st">&quot;police_violence&quot;</span>    <span class="st">&quot;prev_basel_value&quot;</span>   <span class="st">&quot;prev_value&quot;</span>        </span>
<span id="cb148-81"><a href="reading-data.html#cb148-81" aria-hidden="true" tabindex="-1"></a> [<span class="dv">88</span>] <span class="st">&quot;r_files&quot;</span>            <span class="st">&quot;res&quot;</span>                <span class="st">&quot;rmd_files&quot;</span>         </span>
<span id="cb148-82"><a href="reading-data.html#cb148-82" aria-hidden="true" tabindex="-1"></a> [<span class="dv">91</span>] <span class="st">&quot;sasexe&quot;</span>             <span class="st">&quot;sasopts&quot;</span>            <span class="st">&quot;saspath&quot;</span>           </span>
<span id="cb148-83"><a href="reading-data.html#cb148-83" aria-hidden="true" tabindex="-1"></a> [<span class="dv">94</span>] <span class="st">&quot;sheets&quot;</span>             <span class="st">&quot;squirrels&quot;</span>          <span class="st">&quot;squirrels_colorfix&quot;</span></span>
<span id="cb148-84"><a href="reading-data.html#cb148-84" aria-hidden="true" tabindex="-1"></a> [<span class="dv">97</span>] <span class="st">&quot;ssn&quot;</span>                <span class="st">&quot;state_facts&quot;</span>        <span class="st">&quot;state.abb&quot;</span>         </span>
<span id="cb148-85"><a href="reading-data.html#cb148-85" aria-hidden="true" tabindex="-1"></a>[<span class="dv">100</span>] <span class="st">&quot;state.area&quot;</span>         <span class="st">&quot;state.center&quot;</span>       <span class="st">&quot;state.division&quot;</span>    </span>
<span id="cb148-86"><a href="reading-data.html#cb148-86" aria-hidden="true" tabindex="-1"></a>[<span class="dv">103</span>] <span class="st">&quot;state.fips&quot;</span>         <span class="st">&quot;state.name&quot;</span>         <span class="st">&quot;state.region&quot;</span>      </span>
<span id="cb148-87"><a href="reading-data.html#cb148-87" aria-hidden="true" tabindex="-1"></a>[<span class="dv">106</span>] <span class="st">&quot;state.x77&quot;</span>          <span class="st">&quot;street&quot;</span>             <span class="st">&quot;string&quot;</span>            </span>
<span id="cb148-88"><a href="reading-data.html#cb148-88" aria-hidden="true" tabindex="-1"></a>[<span class="dv">109</span>] <span class="st">&quot;strings&quot;</span>            <span class="st">&quot;titles&quot;</span>             <span class="st">&quot;tmp&quot;</span>               </span>
<span id="cb148-89"><a href="reading-data.html#cb148-89" aria-hidden="true" tabindex="-1"></a>[<span class="dv">112</span>] <span class="st">&quot;tmp_ascii&quot;</span>          <span class="st">&quot;tmp_chars&quot;</span>          <span class="st">&quot;tmp_chars_space&quot;</span>   </span>
<span id="cb148-90"><a href="reading-data.html#cb148-90" aria-hidden="true" tabindex="-1"></a>[<span class="dv">115</span>] <span class="st">&quot;tmp_space&quot;</span>          <span class="st">&quot;try_install_pkg&quot;</span>    <span class="st">&quot;txt&quot;</span>               </span>
<span id="cb148-91"><a href="reading-data.html#cb148-91" aria-hidden="true" tabindex="-1"></a>[<span class="dv">118</span>] <span class="st">&quot;url&quot;</span>                <span class="st">&quot;w&quot;</span>                  <span class="st">&quot;who_disease&quot;</span>       </span>
<span id="cb148-92"><a href="reading-data.html#cb148-92" aria-hidden="true" tabindex="-1"></a>[<span class="dv">121</span>] <span class="st">&quot;who_disease_long&quot;</span>   <span class="st">&quot;widths&quot;</span>             <span class="st">&quot;x&quot;</span>                 </span>
<span id="cb148-93"><a href="reading-data.html#cb148-93" aria-hidden="true" tabindex="-1"></a>[<span class="dv">124</span>] <span class="st">&quot;X&quot;</span>                  <span class="st">&quot;X1&quot;</span>                 <span class="st">&quot;Xorig&quot;</span>             </span>
<span id="cb148-94"><a href="reading-data.html#cb148-94" aria-hidden="true" tabindex="-1"></a>[<span class="dv">127</span>] <span class="st">&quot;y&quot;</span>                  <span class="st">&quot;Y&quot;</span>                  <span class="st">&quot;y_mag&quot;</span>             </span>
<span id="cb148-95"><a href="reading-data.html#cb148-95" aria-hidden="true" tabindex="-1"></a>[<span class="dv">130</span>] <span class="st">&quot;y_sign&quot;</span>             <span class="st">&quot;yfact&quot;</span>              <span class="st">&quot;yummy_toppings&quot;</span>    </span>
<span id="cb148-96"><a href="reading-data.html#cb148-96" aria-hidden="true" tabindex="-1"></a>[<span class="dv">133</span>] <span class="st">&quot;z&quot;</span>                  <span class="st">&quot;zip&quot;</span>               </span></code></pre></div>
</details>
<details>
<summary>
RDS format (another binary file format in R)
</summary>
<p>Another (less common) binary format used in R is the RDS format. Unlike Rdata, the RDS format does not save the object name - it only saves its contents. As a result, when you read from an RDS file, you need to store the result of that function into a variable.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="reading-data.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(legos, <span class="st">&quot;data/RDSlego.rds&quot;</span>)</span>
<span id="cb149-2"><a href="reading-data.html#cb149-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-3"><a href="reading-data.html#cb149-3" aria-hidden="true" tabindex="-1"></a>other_lego <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/RDSlego.rds&quot;</span>)</span></code></pre></div>
Because RDS formats don’t save the object name, you can be sure that you’re not over-writing some object in your workspace by loading a different file. The downside to this is that you have to save each object to its own RDS file separately.
</details>
<div id="try-it-out-14" class="section level3 unnumbered tryitout">
<h3>Try it out</h3>
<p>Read in two of the files from an earlier example, and save the results as an Rdata file with two objects. Then save each one as an RDS file.</p>
<p>In RStudio, go to Session -&gt; Clear Workspace. (This will clear your environment)</p>
<p>Now, using your RDS files, load the objects back into R with different names.</p>
<p>Finally, load your Rdata file. Are the two objects the same? (You can actually test this with <code>all.equal()</code> if you’re curious)</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="reading-data.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb150-2"><a href="reading-data.html#cb150-2" aria-hidden="true" tabindex="-1"></a>police_violence <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;data/police_violence.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>, <span class="at">guess_max =</span> <span class="dv">7000</span>)</span>
<span id="cb150-3"><a href="reading-data.html#cb150-3" aria-hidden="true" tabindex="-1"></a>police_violence2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;data/police_violence.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">2</span>, <span class="at">guess_max =</span> <span class="dv">7000</span>)</span>
<span id="cb150-4"><a href="reading-data.html#cb150-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-5"><a href="reading-data.html#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(police_violence, police_violence2, <span class="at">file =</span> <span class="st">&quot;data/04_Try_Binary.Rdata&quot;</span>)</span>
<span id="cb150-6"><a href="reading-data.html#cb150-6" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(police_violence, <span class="st">&quot;data/04_Try_Binary1.rds&quot;</span>)</span>
<span id="cb150-7"><a href="reading-data.html#cb150-7" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(police_violence2, <span class="st">&quot;data/04_Try_Binary2.rds&quot;</span>)</span>
<span id="cb150-8"><a href="reading-data.html#cb150-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-9"><a href="reading-data.html#cb150-9" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(police_violence, police_violence2) <span class="co"># Limited clearing of workspace... </span></span>
<span id="cb150-10"><a href="reading-data.html#cb150-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-11"><a href="reading-data.html#cb150-11" aria-hidden="true" tabindex="-1"></a>pv1 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/04_Try_Binary1.rds&quot;</span>)</span>
<span id="cb150-12"><a href="reading-data.html#cb150-12" aria-hidden="true" tabindex="-1"></a>pv2 <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="st">&quot;data/04_Try_Binary2.rds&quot;</span>)</span>
<span id="cb150-13"><a href="reading-data.html#cb150-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-14"><a href="reading-data.html#cb150-14" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;data/04_Try_Binary.Rdata&quot;</span>)</span>
<span id="cb150-15"><a href="reading-data.html#cb150-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-16"><a href="reading-data.html#cb150-16" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(police_violence, pv1)</span>
<span id="cb150-17"><a href="reading-data.html#cb150-17" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span>
<span id="cb150-18"><a href="reading-data.html#cb150-18" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(police_violence2, pv2)</span>
<span id="cb150-19"><a href="reading-data.html#cb150-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="cn">TRUE</span></span></code></pre></div>
</details>
</div>
</div>
<div id="databases" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Databases</h2>
<p>There are many different database formats. Some of the most common databases are SQL* related formats and Microsoft Access files.</p>
<div class="note">
<p>Strictly speaking you can get through this class without this section. Feel free to skip it and come back when/if you need it.</p>
</div>
<p><a href="https://github.com/ParfaitG/DATABASE_CONNECTIONS">This excellent GitHub repo contains code to connect to multiple types of databases in R, python, PHP, Java, SAS, and VBA</a></p>
<div id="microsoft-access" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Microsoft Access</h3>
<p>In R, we can read in MS Access files using the <code>Hmisc</code> package, as long as the mdbtools library is available on your computer<a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>. For this demo, we’ll be using the <a href="http://witches.shca.ed.ac.uk/index.cfm?fuseaction=home.register">Scottish Witchcraft Database</a>, which you can download from their website, or acquire from the course data folder.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="reading-data.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;Hmisc&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;Hmisc&quot;</span>)</span>
<span id="cb151-2"><a href="reading-data.html#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Hmisc)</span>
<span id="cb151-3"><a href="reading-data.html#cb151-3" aria-hidden="true" tabindex="-1"></a>Loading required package<span class="sc">:</span> lattice</span>
<span id="cb151-4"><a href="reading-data.html#cb151-4" aria-hidden="true" tabindex="-1"></a>Loading required package<span class="sc">:</span> survival</span>
<span id="cb151-5"><a href="reading-data.html#cb151-5" aria-hidden="true" tabindex="-1"></a>Loading required package<span class="sc">:</span> Formula</span>
<span id="cb151-6"><a href="reading-data.html#cb151-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-7"><a href="reading-data.html#cb151-7" aria-hidden="true" tabindex="-1"></a>Attaching package<span class="sc">:</span> <span class="st">&#39;Hmisc&#39;</span></span>
<span id="cb151-8"><a href="reading-data.html#cb151-8" aria-hidden="true" tabindex="-1"></a>The following objects are masked from <span class="st">&#39;package:dplyr&#39;</span><span class="sc">:</span></span>
<span id="cb151-9"><a href="reading-data.html#cb151-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-10"><a href="reading-data.html#cb151-10" aria-hidden="true" tabindex="-1"></a>    src, summarize</span>
<span id="cb151-11"><a href="reading-data.html#cb151-11" aria-hidden="true" tabindex="-1"></a>The following objects are masked from <span class="st">&#39;package:base&#39;</span><span class="sc">:</span></span>
<span id="cb151-12"><a href="reading-data.html#cb151-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-13"><a href="reading-data.html#cb151-13" aria-hidden="true" tabindex="-1"></a>    format.pval, units</span>
<span id="cb151-14"><a href="reading-data.html#cb151-14" aria-hidden="true" tabindex="-1"></a>db_loc <span class="ot">&lt;-</span> <span class="st">&quot;data/Witchcraftsurvey_download.mdb&quot;</span></span>
<span id="cb151-15"><a href="reading-data.html#cb151-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-16"><a href="reading-data.html#cb151-16" aria-hidden="true" tabindex="-1"></a><span class="fu">mdb.get</span>(db_loc, <span class="at">tables =</span> <span class="cn">TRUE</span>) <span class="co"># get table list</span></span>
<span id="cb151-17"><a href="reading-data.html#cb151-17" aria-hidden="true" tabindex="-1"></a> [<span class="dv">1</span>] <span class="st">&quot;WDB_Accused&quot;</span>             <span class="st">&quot;WDB_Accused_family&quot;</span>     </span>
<span id="cb151-18"><a href="reading-data.html#cb151-18" aria-hidden="true" tabindex="-1"></a> [<span class="dv">3</span>] <span class="st">&quot;WDB_Appeal&quot;</span>              <span class="st">&quot;WDB_CalendarCustom&quot;</span>     </span>
<span id="cb151-19"><a href="reading-data.html#cb151-19" aria-hidden="true" tabindex="-1"></a> [<span class="dv">5</span>] <span class="st">&quot;WDB_Case&quot;</span>                <span class="st">&quot;WDB_Case_person&quot;</span>        </span>
<span id="cb151-20"><a href="reading-data.html#cb151-20" aria-hidden="true" tabindex="-1"></a> [<span class="dv">7</span>] <span class="st">&quot;WDB_Commission&quot;</span>          <span class="st">&quot;WDB_Complaint&quot;</span>          </span>
<span id="cb151-21"><a href="reading-data.html#cb151-21" aria-hidden="true" tabindex="-1"></a> [<span class="dv">9</span>] <span class="st">&quot;WDB_Confession&quot;</span>          <span class="st">&quot;WDB_CounterStrategy&quot;</span>    </span>
<span id="cb151-22"><a href="reading-data.html#cb151-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">11</span>] <span class="st">&quot;WDB_DemonicPact&quot;</span>         <span class="st">&quot;WDB_Denunciation&quot;</span>       </span>
<span id="cb151-23"><a href="reading-data.html#cb151-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">13</span>] <span class="st">&quot;WDB_DevilAppearance&quot;</span>     <span class="st">&quot;WDB_Elf_FairyElements&quot;</span>  </span>
<span id="cb151-24"><a href="reading-data.html#cb151-24" aria-hidden="true" tabindex="-1"></a>[<span class="dv">15</span>] <span class="st">&quot;WDB_Imprisonment&quot;</span>        <span class="st">&quot;WDB_LinkedTrial&quot;</span>        </span>
<span id="cb151-25"><a href="reading-data.html#cb151-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">17</span>] <span class="st">&quot;WDB_Malice&quot;</span>              <span class="st">&quot;WDB_MentionedAsWitch&quot;</span>   </span>
<span id="cb151-26"><a href="reading-data.html#cb151-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">19</span>] <span class="st">&quot;WDB_MovestoHLA&quot;</span>          <span class="st">&quot;WDB_MusicalInstrument&quot;</span>  </span>
<span id="cb151-27"><a href="reading-data.html#cb151-27" aria-hidden="true" tabindex="-1"></a>[<span class="dv">21</span>] <span class="st">&quot;WDB_Ordeal&quot;</span>              <span class="st">&quot;WDB_OtherCharges&quot;</span>       </span>
<span id="cb151-28"><a href="reading-data.html#cb151-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">23</span>] <span class="st">&quot;WDB_OtherNamedwitch&quot;</span>     <span class="st">&quot;WDB_Person&quot;</span>             </span>
<span id="cb151-29"><a href="reading-data.html#cb151-29" aria-hidden="true" tabindex="-1"></a>[<span class="dv">25</span>] <span class="st">&quot;WDB_PrevCommission&quot;</span>      <span class="st">&quot;WDB_PropertyDamage&quot;</span>     </span>
<span id="cb151-30"><a href="reading-data.html#cb151-30" aria-hidden="true" tabindex="-1"></a>[<span class="dv">27</span>] <span class="st">&quot;WDB_Ref_Parish&quot;</span>          <span class="st">&quot;WDB_Reference&quot;</span>          </span>
<span id="cb151-31"><a href="reading-data.html#cb151-31" aria-hidden="true" tabindex="-1"></a>[<span class="dv">29</span>] <span class="st">&quot;WDB_ReligiousMotif&quot;</span>      <span class="st">&quot;WDB_RitualObject&quot;</span>       </span>
<span id="cb151-32"><a href="reading-data.html#cb151-32" aria-hidden="true" tabindex="-1"></a>[<span class="dv">31</span>] <span class="st">&quot;WDB_ShapeChanging&quot;</span>       <span class="st">&quot;WDB_Source&quot;</span>             </span>
<span id="cb151-33"><a href="reading-data.html#cb151-33" aria-hidden="true" tabindex="-1"></a>[<span class="dv">33</span>] <span class="st">&quot;WDB_Torture&quot;</span>             <span class="st">&quot;WDB_Trial&quot;</span>              </span>
<span id="cb151-34"><a href="reading-data.html#cb151-34" aria-hidden="true" tabindex="-1"></a>[<span class="dv">35</span>] <span class="st">&quot;WDB_Trial_Person&quot;</span>        <span class="st">&quot;WDB_WeatherModification&quot;</span></span>
<span id="cb151-35"><a href="reading-data.html#cb151-35" aria-hidden="true" tabindex="-1"></a>[<span class="dv">37</span>] <span class="st">&quot;WDB_WhiteMagic&quot;</span>          <span class="st">&quot;WDB_WitchesMeetingPlace&quot;</span></span>
<span id="cb151-36"><a href="reading-data.html#cb151-36" aria-hidden="true" tabindex="-1"></a><span class="fu">mdb.get</span>(db_loc, <span class="at">tables =</span> <span class="st">&quot;WDB_Trial&quot;</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="co"># get table of trials, print first 6 rows and 10 cols</span></span>
<span id="cb151-37"><a href="reading-data.html#cb151-37" aria-hidden="true" tabindex="-1"></a>   Trialref TrialId TrialSystemId    CaseRef TrialType Trial.settlement</span>
<span id="cb151-38"><a href="reading-data.html#cb151-38" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>    T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">1</span>       <span class="dv">1</span>            JO C<span class="sc">/</span>EGD<span class="sc">/</span><span class="dv">2120</span>         <span class="dv">2</span>                 </span>
<span id="cb151-39"><a href="reading-data.html#cb151-39" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>  T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">100</span>     <span class="dv">100</span>            JO  C<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">2669</span>         <span class="dv">2</span>                 </span>
<span id="cb151-40"><a href="reading-data.html#cb151-40" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">1000</span>    <span class="dv">1000</span>            JO C<span class="sc">/</span>EGD<span class="sc">/</span><span class="dv">1474</span>         <span class="dv">2</span>                 </span>
<span id="cb151-41"><a href="reading-data.html#cb151-41" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">1001</span>    <span class="dv">1001</span>            JO C<span class="sc">/</span>EGD<span class="sc">/</span><span class="dv">1558</span>         <span class="dv">2</span>                 </span>
<span id="cb151-42"><a href="reading-data.html#cb151-42" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">1002</span>    <span class="dv">1002</span>            JO C<span class="sc">/</span>EGD<span class="sc">/</span><span class="dv">1681</span>         <span class="dv">2</span>                 </span>
<span id="cb151-43"><a href="reading-data.html#cb151-43" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> T<span class="sc">/</span>JO<span class="sc">/</span><span class="dv">1003</span>    <span class="dv">1003</span>            JO C<span class="sc">/</span>EGD<span class="sc">/</span><span class="dv">1680</span>         <span class="dv">2</span>                 </span>
<span id="cb151-44"><a href="reading-data.html#cb151-44" aria-hidden="true" tabindex="-1"></a>  Trial.parish Trial.presbytery Trial.county Trial.burgh</span>
<span id="cb151-45"><a href="reading-data.html#cb151-45" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>                      Aberdeen     Aberdeen    Aberdeen</span>
<span id="cb151-46"><a href="reading-data.html#cb151-46" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>                                                       </span>
<span id="cb151-47"><a href="reading-data.html#cb151-47" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>                                                       </span>
<span id="cb151-48"><a href="reading-data.html#cb151-48" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>                                                       </span>
<span id="cb151-49"><a href="reading-data.html#cb151-49" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>                                                       </span>
<span id="cb151-50"><a href="reading-data.html#cb151-50" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>                                                       </span></code></pre></div>
<p>Many databases have multiple tables with <strong>keys</strong> that connect information in each table. We’ll spend more time on databases later in the semester - for now, it’s enough to be able to get data out of one.</p>
<p>Unfortunately, it appears that SAS on Linux doesn’t allow you to read in Access files. So I can’t demonstrate that for you. But, since you know how to do it in R, worst case you can open up R and export all of the tables to separate CSV files, then read those into SAS. 😢</p>
</div>
<div id="sqlite" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> SQLite</h3>
<details>
<summary>
SQLite databases are contained in single files with the extension .SQLite.
</summary>
<p>These files can still contain many different tables, though. Let’s try working with a sqlite file that has only one table:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="reading-data.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;RSQLite&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;RSQLite&quot;</span>)</span>
<span id="cb152-2"><a href="reading-data.html#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;DBI&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;DBI&quot;</span>)</span>
<span id="cb152-3"><a href="reading-data.html#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RSQLite)</span>
<span id="cb152-4"><a href="reading-data.html#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb152-5"><a href="reading-data.html#cb152-5" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RSQLite<span class="sc">::</span><span class="fu">SQLite</span>(), <span class="st">&quot;data/ssa-babynames-for-2015.sqlite&quot;</span>)</span>
<span id="cb152-6"><a href="reading-data.html#cb152-6" aria-hidden="true" tabindex="-1"></a><span class="fu">dbListTables</span>(con) <span class="co"># List all the tables</span></span>
<span id="cb152-7"><a href="reading-data.html#cb152-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;babynames&quot;</span></span>
<span id="cb152-8"><a href="reading-data.html#cb152-8" aria-hidden="true" tabindex="-1"></a>babyname <span class="ot">&lt;-</span> <span class="fu">dbReadTable</span>(con, <span class="st">&quot;babynames&quot;</span>)</span>
<span id="cb152-9"><a href="reading-data.html#cb152-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(babyname, <span class="dv">10</span>) <span class="co"># show the first 10 obs</span></span>
<span id="cb152-10"><a href="reading-data.html#cb152-10" aria-hidden="true" tabindex="-1"></a>   state year    name sex count rank_within_sex per_100k_within_sex</span>
<span id="cb152-11"><a href="reading-data.html#cb152-11" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>     AK <span class="dv">2015</span>  Olivia   F    <span class="dv">56</span>               <span class="dv">1</span>              <span class="fl">2367.9</span></span>
<span id="cb152-12"><a href="reading-data.html#cb152-12" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span>     AK <span class="dv">2015</span>    Liam   M    <span class="dv">53</span>               <span class="dv">1</span>              <span class="fl">1590.6</span></span>
<span id="cb152-13"><a href="reading-data.html#cb152-13" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span>     AK <span class="dv">2015</span>    Emma   F    <span class="dv">49</span>               <span class="dv">2</span>              <span class="fl">2071.9</span></span>
<span id="cb152-14"><a href="reading-data.html#cb152-14" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span>     AK <span class="dv">2015</span>    Noah   M    <span class="dv">46</span>               <span class="dv">2</span>              <span class="fl">1380.6</span></span>
<span id="cb152-15"><a href="reading-data.html#cb152-15" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span>     AK <span class="dv">2015</span>  Aurora   F    <span class="dv">46</span>               <span class="dv">3</span>              <span class="fl">1945.0</span></span>
<span id="cb152-16"><a href="reading-data.html#cb152-16" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span>     AK <span class="dv">2015</span>   James   M    <span class="dv">45</span>               <span class="dv">3</span>              <span class="fl">1350.5</span></span>
<span id="cb152-17"><a href="reading-data.html#cb152-17" aria-hidden="true" tabindex="-1"></a><span class="dv">7</span>     AK <span class="dv">2015</span>  Amelia   F    <span class="dv">39</span>               <span class="dv">4</span>              <span class="fl">1649.0</span></span>
<span id="cb152-18"><a href="reading-data.html#cb152-18" aria-hidden="true" tabindex="-1"></a><span class="dv">8</span>     AK <span class="dv">2015</span>     Ava   F    <span class="dv">39</span>               <span class="dv">4</span>              <span class="fl">1649.0</span></span>
<span id="cb152-19"><a href="reading-data.html#cb152-19" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span>     AK <span class="dv">2015</span> William   M    <span class="dv">44</span>               <span class="dv">4</span>              <span class="fl">1320.5</span></span>
<span id="cb152-20"><a href="reading-data.html#cb152-20" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>    AK <span class="dv">2015</span>  Oliver   M    <span class="dv">41</span>               <span class="dv">5</span>              <span class="fl">1230.5</span></span></code></pre></div>
</details>
<p>You can of course write formal queries using the DBI package, but for many databases, it’s easier to do the querying in R. We’ll cover both options later - the R version will be in the next module.</p>
<details>
<summary>
In SAS, you can theoretically connect to SQLite databases, but there are very specific instructions for how to do that for each operating system.
</summary>
<p>You’ll need to acquire the <a href="http://www.ch-werner.de/sqliteodbc/">SQLite ODBC Driver</a> for your operating system. You may also need to set up a DSN (Data Source Name) (<a href="https://support.exagoinc.com/hc/en-us/articles/115005848908-Using-SQLite-Data-Sources">Windows</a>, <a href="https://db.rstudio.com/best-prsactices/rdivers/#setting-up-database-connections-1">Mac and Linux</a>).<a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a></p>
<p>Here is my .odbc.ini file as I’ve configured it for my Ubuntu 18.04 machine. A similar file should work for any Mac or Linux machine. In windows, you’ll need to use the ODBC Data Source Administrator to set this up.</p>
<pre><code>[babyname]
Description = 2015 SSA baby names
Driver = SQLite3
Database = data/ssa-babynames-for-2015.sqlite</code></pre>
<pre class="sashtmllog"><code>6          /* This code requires that I&#39;ve set up a DSN connecting the
6        ! sqlite file to */
7          /* a specific driver on my computer. You&#39;ll have to set up your
7        ! machine to */
8          /* have a configuration that is appropriate for your setup */
9          
10         libname mydata odbc complete =
10       ! XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX;
ERROR: CLI error trying to establish connection: [unixODBC][Driver 
       Manager]Can&#39;t open lib &#39;libsqlite3odbc.so&#39; : file not found
ERROR: Error in the LIBNAME statement.
11         
12         proc print data=mydata.babynames (obs=10);
ERROR: Libref MYDATA is not assigned.
13         run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42.</code></pre>
</details>
</div>
</div>
<div id="exploratory-data-analysis" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Exploratory Data Analysis</h2>
<p>Once your data has been read in, we can do some basic exploratory data analysis. EDA is important because it helps us to know what challenges a particular data set might bring. Real data is often messy, with large amounts of cleaning that must be done before statistical analysis can commence. While in many classes you’ll be given cleaner data, you do need to know how to clean your own data up so that you can use more interesting datasets for projects (and for fun!).</p>
<p><a href="https://r4ds.had.co.nz/exploratory-data-analysis.html">The EDA chapter in R for Data Science is very good at explaining what the goals of EDA are, and what types of questions you will typically need to answer in EDA.</a> It is so good that I am not going to try to completely reproduce it here.</p>
<p>Both R and SAS make it relatively easy to get summary statistics from a dataset, but the “flow” of EDA is somewhat different between the two programs, so this section will cover SAS first, and then R.</p>
<p>Major components of EDA:
- tables
- summary statistics
- basic plots
- unique values</p>
<div id="sas-3" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> SAS</h3>
<details>
<summary>
<a href="https://go.documentation.sas.com/?docsetId=procstat&amp;docsetTarget=procstat_freq_toc.htm&amp;docsetVersion=9.4&amp;locale=en">Proc Freq</a> generates frequency tables for variables or interactions of variables.
</summary>
<p>This can help you to see whether there is missing information. Using those frequency tables, you can create frequency plots and set up chi squared tests.</p>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          
8          ODS GRAPHICS ON;


9          PROC FREQ DATA=classdat.poke ORDER=FORMATTED;
10           TABLES generation / CHISQ PLOTS=freqplot(type=dotplot);
11         RUN;

NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12         PROC FREQ DATA=classdat.poke ORDER=FREQ;
13           TABLES type_1 status / MAXLEVELS=10
13       ! PLOTS=freqplot(type=dotplot scale=percent);
14         RUN;

NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

15         ODS GRAPHICS OFF;
ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42.</code></pre>
</details>
<details>
<summary>
Proc Means can be used to get more useful summary statistics for numeric variables.
</summary>
<p>Note that the Class statement identifies a categorical variable; the summary statistics are computed for each level of this variable.</p>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          
8          PROC MEANS DATA = classdat.poke;
9          run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
10         


11         proc means data = classdat.poke;
12         class status;
13         run;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42.</code></pre>
</details>
<details>
<summary>
For even higher levels of detail, <a href="https://go.documentation.sas.com/?docsetId=procstat&amp;docsetTarget=procstat_univariate_toc.htm&amp;docsetVersion=9.4&amp;locale=en">Proc Univariate</a> will provide variability, tests for location, quantiles, skewness, and will identify the extreme observations for you.
</summary>
<p>You can also get histograms for variables, even specifying distributions you’d like to be fit to the data (if that’s something you want).</p>
<pre class="sashtml"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          
8          ODS GRAPHICS ON;


9          PROC UNIVARIATE DATA = classdat.poke;
10         VAR attack defense sp_attack sp_defense speed;
11         HISTOGRAM attack defense sp_attack sp_defense speed;
12         RUN;

NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

13         ODS GRAPHICS OFF;
ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42.</code></pre>
</details>
<details>
<summary>
Proc Corr allows you to examine the relationship between two quantitative variables.
</summary>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          
8          ODS GRAPHICS ON;
9          PROC CORR DATA = classdat.poke PLOTS(
9        ! MAXPOINTS=200000)=MATRIX(HISTOGRAM);
10         VAR attack defense sp_attack sp_defense speed ;
11         RUN;

NOTE: PROCEDURE CORR used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

12         ODS GRAPHICS OFF;
ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42,43.</code></pre>
The plot here is called a scatterplot matrix. It contains histograms on the diagonal, and pairwise scatterplots on off-diagonals. It can be useful for spotting strong correlations among multiple variables which may affect the way you build a model.
</details>
<div id="police-violence-eda-sas" class="section level4 unnumbered tryitout">
<h4>Try it out</h4>
<p>One of the datasets we read in above records incidents of police violence around the country. Explore the variables present in <a href="data/police_violence.xlsx">this dataset</a> (see code in the spreadsheets section to read it in). Note that some variables may be too messy to handle with the things that you have seen thus far - that is ok. As you find irregularities, document them - these are things you may need to clean up in the dataset before you conduct a formal analysis.</p>
<p>It is useful to memorize the SAS PROC options you use most frequently, but it’s also a good idea to reference the SAS documentation - it provides a list of all viable options for each procedure, and generally has decent examples to show how those options are used.</p>
<details>
<summary>
Solution
</summary>
<pre class="sashtmllog"><code>6          libname classdat &quot;sas/&quot;;
NOTE: Libref CLASSDAT was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: 
      /home/susan/Projects/Class/unl-stat850/stat850-textbook/sas
7          
8          ODS GRAPHICS ON;
9          PROC CONTENTS DATA = classdat.police; /* see what&#39;s in the
9        ! dataset */
10         RUN;

NOTE: PROCEDURE CONTENTS used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11         
12         PROC FREQ DATA = classdat.police ORDER=FREQ; /* Examine Freq of
12       ! common vars */
13         TABLES Victim_s_gender Victim_s_race State Cause_of_death
14                 Unarmed Geography__via_Trulia_methodolog / MAXLEVELS =
14       ! 10;
15         RUN;

NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

16         
17         PROC FREQ DATA = classdat.police ORDER=FREQ; /* Combinations of
17       ! vars */
18         TABLES Unarmed * Criminal_Charges_ / NOCUM NOPERCENT NOCOL NOROW
18       !  MAXLEVELS=10;
19         RUN;

NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

20         
21         PROC MEANS DATA = classdat.police; /* Numeric variable
21       ! exploration */
22         VAR num_age; /* Only numeric variable in this set */
23         RUN;

NOTE: The SAS System stopped processing this step because of errors.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
24         


25         PROC UNIVARIATE DATA = classdat.police; /* Investigating
25       ! age/date info */
26         HISTOGRAM num_age date;
27         RUN;

NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

28         ODS GRAPHICS OFF;
ERROR: Errors printed on pages 4,5,7,11,12,13,16,17,18,19,24,25,27,28,29,
                               30,33,34,35,36,37,38,41,42,43.</code></pre>
<div class="branch">
<a name="IDX3"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Attributes">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<th class="l rowheader" scope="row">
Data Set Name
</th>
<td class="l data">
CLASSDAT.POLICE
</td>
<th class="l rowheader" scope="row">
Observations
</th>
<td class="l data">
7663
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Member Type
</th>
<td class="l data">
DATA
</td>
<th class="l rowheader" scope="row">
Variables
</th>
<td class="l data">
25
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Engine
</th>
<td class="l data">
V9
</td>
<th class="l rowheader" scope="row">
Indexes
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Created
</th>
<td class="l data">
04/21/2021 11:33:07
</td>
<th class="l rowheader" scope="row">
Observation Length
</th>
<td class="l data">
896
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Last Modified
</th>
<td class="l data">
04/21/2021 11:33:07
</td>
<th class="l rowheader" scope="row">
Deleted Observations
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Protection
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
Compressed
</th>
<td class="l data">
NO
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Data Set Type
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
Sorted
</th>
<td class="l data">
NO
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Label
</th>
<td class="l data">
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Data Representation
</th>
<td class="l data">
SOLARIS_X86_64, LINUX_X86_64, ALPHA_TRU64, LINUX_IA64
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Encoding
</th>
<td class="l data">
latin1 Western (ISO)
</td>
<th class="l rowheader" scope="row">
</th>
<td class="l data">
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<a name="IDX4"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Engine/Host Information">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="c b header" colspan="2" scope="colgroup">
Engine/Host Dependent Information
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="l rowheader" scope="row">
Data Set Page Size
</th>
<td class="l data">
73728
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Number of Data Set Pages
</th>
<td class="l data">
94
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
First Data Page
</th>
<td class="l data">
1
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Max Obs per Page
</th>
<td class="l data">
82
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Obs in First Data Page
</th>
<td class="l data">
75
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Number of Data Set Repairs
</th>
<td class="l data">
0
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Filename
</th>
<td class="l data">
/home/susan/Projects/Class/unl-stat850/stat850-textbook/sas/police.sas7bdat
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Release Created
</th>
<td class="l data">
9.0401M6
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Host Created
</th>
<td class="l data">
Linux
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Inode Number
</th>
<td class="l data">
39065012
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Access Permission
</th>
<td class="l data">
rw-rw-r–
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
Owner Name
</th>
<td class="l data">
susan
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
File Size
</th>
<td class="l data">
7MB
</td>
</tr>
<tr>
<th class="l rowheader" scope="row">
File Size (bytes)
</th>
<td class="l data">
7004160
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<a name="IDX5"></a>
<div>
<div align="center">
<!--BEGINTABLE-->
<table class="table" style=" border-left-width: 0px; border-right-width: 0px;" cellspacing="0" cellpadding="7" rules="groups" frame="hsides" bordercolor="#C1C1C1" summary="Procedure Contents: Variables">
<colgroup>
<col>
</colgroup>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="c b header" colspan="7" scope="colgroup">
Alphabetic List of Variables and Attributes
</th>
</tr>
<tr>
<th class="r b header" scope="col">
#
</th>
<th class="l b header" scope="col">
Variable
</th>
<th class="l b header" scope="col">
Type
</th>
<th class="r b header" scope="col">
Len
</th>
<th class="l b header" scope="col">
Format
</th>
<th class="l b header" scope="col">
Informat
</th>
<th class="l b header" scope="col">
Label
</th>
</tr>
</thead>
<tbody>
<tr>
<th class="r rowheader" scope="row">
10
</th>
<td class="l data">
Agency_responsible_for_death
</td>
<td class="l data">
Char
</td>
<td class="r data">
177
</td>
<td class="l data">
$177.
</td>
<td class="l data">
$177.
</td>
<td class="l data">
Agency responsible for death
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
17
</th>
<td class="l data">
Alleged_Threat_Level__Source__Wa
</td>
<td class="l data">
Char
</td>
<td class="r data">
12
</td>
<td class="l data">
$12.
</td>
<td class="l data">
$12.
</td>
<td class="l data">
Alleged Threat Level (Source: WaPo)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
11
</th>
<td class="l data">
Cause_of_death
</td>
<td class="l data">
Char
</td>
<td class="r data">
39
</td>
<td class="l data">
$39.
</td>
<td class="l data">
$39.
</td>
<td class="l data">
Cause of death
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
6
</th>
<td class="l data">
City
</td>
<td class="l data">
Char
</td>
<td class="r data">
29
</td>
<td class="l data">
$29.
</td>
<td class="l data">
$29.
</td>
<td class="l data">
City
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
9
</th>
<td class="l data">
County
</td>
<td class="l data">
Char
</td>
<td class="r data">
80
</td>
<td class="l data">
$80.
</td>
<td class="l data">
$80.
</td>
<td class="l data">
County
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
13
</th>
<td class="l data">
Criminal_Charges_
</td>
<td class="l data">
Char
</td>
<td class="r data">
77
</td>
<td class="l data">
$77.
</td>
<td class="l data">
$77.
</td>
<td class="l data">
Criminal Charges?
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
22
</th>
<td class="l data">
Geography__via_Trulia_methodolog
</td>
<td class="l data">
Char
</td>
<td class="r data">
8
</td>
<td class="l data">
$8.
</td>
<td class="l data">
$8.
</td>
<td class="l data">
Geography (via Trulia methodology based on zipcode population density: <a href="http://jedkolko.com/wp-content/uploads/2015/05/full-ZCTA-urban-suburban-rural-classification.xlsx" class="uri">http://jedkolko.com/wp-content/uploads/2015/05/full-ZCTA-urban-suburban-rural-classification.xlsx</a> )
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
23
</th>
<td class="l data">
ID
</td>
<td class="l data">
Num
</td>
<td class="r data">
8
</td>
<td class="l data">
BEST.
</td>
<td class="l data">
</td>
<td class="l data">
ID
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
21
</th>
<td class="l data">
Off_Duty_Killing_
</td>
<td class="l data">
Char
</td>
<td class="r data">
8
</td>
<td class="l data">
$8.
</td>
<td class="l data">
$8.
</td>
<td class="l data">
Off-Duty Killing?
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
12
</th>
<td class="l data">
Official_disposition_of_death__j
</td>
<td class="l data">
Char
</td>
<td class="r data">
176
</td>
<td class="l data">
$176.
</td>
<td class="l data">
$176.
</td>
<td class="l data">
Official disposition of death (justified or other)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
7
</th>
<td class="l data">
State
</td>
<td class="l data">
Char
</td>
<td class="r data">
2
</td>
<td class="l data">
$2.
</td>
<td class="l data">
$2.
</td>
<td class="l data">
State
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
5
</th>
<td class="l data">
Street_Address_of_Incident
</td>
<td class="l data">
Char
</td>
<td class="r data">
73
</td>
<td class="l data">
$73.
</td>
<td class="l data">
$73.
</td>
<td class="l data">
Street Address of Incident
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
14
</th>
<td class="l data">
Symptoms_of_mental_illness_
</td>
<td class="l data">
Char
</td>
<td class="r data">
19
</td>
<td class="l data">
$19.
</td>
<td class="l data">
$19.
</td>
<td class="l data">
Symptoms of mental illness?
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
15
</th>
<td class="l data">
Unarmed
</td>
<td class="l data">
Char
</td>
<td class="r data">
15
</td>
<td class="l data">
$15.
</td>
<td class="l data">
$15.
</td>
<td class="l data">
Unarmed
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
16
</th>
<td class="l data">
VAR20
</td>
<td class="l data">
Char
</td>
<td class="r data">
32
</td>
<td class="l data">
$32.
</td>
<td class="l data">
$32.
</td>
<td class="l data">
Alleged Weapon (Source: WaPo)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
18
</th>
<td class="l data">
VAR22
</td>
<td class="l data">
Char
</td>
<td class="r data">
11
</td>
<td class="l data">
$11.
</td>
<td class="l data">
$11.
</td>
<td class="l data">
Fleeing (Source: WaPo)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
19
</th>
<td class="l data">
VAR23
</td>
<td class="l data">
Char
</td>
<td class="r data">
18
</td>
<td class="l data">
$18.
</td>
<td class="l data">
$18.
</td>
<td class="l data">
Body Camera (Source: WaPo)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
2
</th>
<td class="l data">
Victim_s_age
</td>
<td class="l data">
Char
</td>
<td class="r data">
7
</td>
<td class="l data">
$7.
</td>
<td class="l data">
$7.
</td>
<td class="l data">
Victim's age
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
3
</th>
<td class="l data">
Victim_s_gender
</td>
<td class="l data">
Char
</td>
<td class="r data">
11
</td>
<td class="l data">
$11.
</td>
<td class="l data">
$11.
</td>
<td class="l data">
Victim's gender
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
1
</th>
<td class="l data">
Victim_s_name
</td>
<td class="l data">
Char
</td>
<td class="r data">
49
</td>
<td class="l data">
$49.
</td>
<td class="l data">
$49.
</td>
<td class="l data">
Victim's name
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
4
</th>
<td class="l data">
Victim_s_race
</td>
<td class="l data">
Char
</td>
<td class="r data">
16
</td>
<td class="l data">
$16.
</td>
<td class="l data">
$16.
</td>
<td class="l data">
Victim's race
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
20
</th>
<td class="l data">
WaPo_ID__If_included_in_WaPo_dat
</td>
<td class="l data">
Num
</td>
<td class="r data">
8
</td>
<td class="l data">
BEST.
</td>
<td class="l data">
</td>
<td class="l data">
WaPo ID (If included in WaPo database)
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
8
</th>
<td class="l data">
Zipcode
</td>
<td class="l data">
Char
</td>
<td class="r data">
5
</td>
<td class="l data">
$5.
</td>
<td class="l data">
$5.
</td>
<td class="l data">
Zipcode
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
24
</th>
<td class="l data">
date
</td>
<td class="l data">
Num
</td>
<td class="r data">
8
</td>
<td class="l data">
MMDDYY10.
</td>
<td class="l data">
</td>
<td class="l data">
</td>
</tr>
<tr>
<th class="r rowheader" scope="row">
25
</th>
<td class="l data">
num_age
</td>
<td class="l data">
Num
</td>
<td class="r data">
8
</td>
<td class="l data">
</td>
<td class="l data">
</td>
<td class="l data">
</td>
</tr>
</tbody>
</table>
<!--ENDTABLE-->
</div>
</div>
<br>
<table class="systitleandfootercontainer" style=" border-spacing: 0px;" width="100%" cellspacing="0" cellpadding="1" rules="none" frame="void" border="0" summary="Page Layout">
<tr>
<td class="c systemfooter">
Koch Snowflake
</td>
</tr>
</table>
<br>
</div>
<p>Oddities to note:
- Gender - Unknown should be recoded as missing (’ ’)
- Victim_s_race - Unknown race and Unknown Race should be recoded as missing
- State - might need to check to make sure all states are valid (but top 10 are, at least)
- Cause of death - sometimes, there are multiple causes. Also, varying capitalizations…
- Geography - #N/A should be recoded as missing
- Criminal_Charges_ - What does No/NO mean? (would need to look up in the codebook)
- Age - the maximum age recorded is 107, which bears some investigation… other extreme observations between 89 and 95 are also fairly interesting and could be investigated further. There are also several infants/young children included, which is horribly sad, but believable.
- Date - PROC UNIVARIATE doesn’t display date results with a meaningful format, even though format is specified.
-</p>
Conclusions (ok, probably obvious before this analysis):
- It’s much more likely for charges to be filed if the suspect was unarmed (but still very rare)
- Data is relatively evenly distributed between 2013 and 2019.
- It’s fairly rare for police to kill female or transgender individuals - around 5% of all victims
- California, Texas, and Florida, while populous, seem to have a disproportionate number of killings, especially compared to e.g. NY, which is also a high population state. To really make the state numbers meaningful, though, we’d need to know population counts. There’s also an issue of accurate comparisons - some states may not report police killings with the same standards as other states.
</details>
</div>
</div>
<div id="r-2" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> R</h3>
<p>In SAS, EDA is fairly straightforward - you use specific procedures for each data type, and the plots which may be most useful come along with those procedures. It’s something like ordering off of a menu of pre-defined meals, and then slightly customizing your order.</p>
<p>In R, you put your whole order together from the a la carte menu. That is, R will give you all of the same summary information (and possibly more), but you have to assemble a series of commands to get each portion. This can be more efficient (since you don’t have to wade through pages of output to get the piece you want) but may take a bit more coding as well.</p>
<div class="note">
<p>In this section, I will mostly be using the plot commands that come with base R and require no extra packages. The R for Data Science book shows plot commands which use the <code>ggplot2</code> library. We will learn this library later in this class - it produces beautiful plots - and if you want to use it at this point, you may. It requires a bit more thought as to how to specify the plot, though, which may not be desireable.</p>
</div>
<details>
<summary>
The first, and most basic EDA command in R is <code>summary()</code>.
</summary>
<p>For numeric variables, <code>summary</code> provides 5-number summaries plus the mean. For categorical variables, <code>summary</code> provides the length of the variable and the Class and Mode. For factors, <code>summary</code> provides a table of the most common values, as well as a catch-all “other” category.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="reading-data.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb160-2"><a href="reading-data.html#cb160-2" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://raw.githubusercontent.com/shahinrostami/pokemon_dataset/master/pokemon_gen_1_to_8.csv&quot;</span></span>
<span id="cb160-3"><a href="reading-data.html#cb160-3" aria-hidden="true" tabindex="-1"></a>poke <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(url)</span>
<span id="cb160-4"><a href="reading-data.html#cb160-4" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> Missing column names filled <span class="cf">in</span><span class="sc">:</span> <span class="st">&#39;X1&#39;</span> [<span class="dv">1</span>]</span>
<span id="cb160-5"><a href="reading-data.html#cb160-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-6"><a href="reading-data.html#cb160-6" aria-hidden="true" tabindex="-1"></a>── Column specification ────────────────────────────────────────────────────────</span>
<span id="cb160-7"><a href="reading-data.html#cb160-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cols</span>(</span>
<span id="cb160-8"><a href="reading-data.html#cb160-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">.default =</span> <span class="fu">col_double</span>(),</span>
<span id="cb160-9"><a href="reading-data.html#cb160-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-10"><a href="reading-data.html#cb160-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">german_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-11"><a href="reading-data.html#cb160-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">japanese_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-12"><a href="reading-data.html#cb160-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">status =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-13"><a href="reading-data.html#cb160-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-14"><a href="reading-data.html#cb160-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-15"><a href="reading-data.html#cb160-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">type_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-16"><a href="reading-data.html#cb160-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-17"><a href="reading-data.html#cb160-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-18"><a href="reading-data.html#cb160-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">ability_hidden =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-19"><a href="reading-data.html#cb160-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">growth_rate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-20"><a href="reading-data.html#cb160-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_1 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb160-21"><a href="reading-data.html#cb160-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">egg_type_2 =</span> <span class="fu">col_character</span>()</span>
<span id="cb160-22"><a href="reading-data.html#cb160-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb160-23"><a href="reading-data.html#cb160-23" aria-hidden="true" tabindex="-1"></a>ℹ Use <span class="st">`</span><span class="at">spec()</span><span class="st">`</span> <span class="cf">for</span> the full column specifications.</span>
<span id="cb160-24"><a href="reading-data.html#cb160-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-25"><a href="reading-data.html#cb160-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Make types into factors to demonstrate the difference</span></span>
<span id="cb160-26"><a href="reading-data.html#cb160-26" aria-hidden="true" tabindex="-1"></a>poke<span class="sc">$</span>type_1 <span class="ot">&lt;-</span> <span class="fu">factor</span>(poke<span class="sc">$</span>type_1)</span>
<span id="cb160-27"><a href="reading-data.html#cb160-27" aria-hidden="true" tabindex="-1"></a>poke<span class="sc">$</span>type_2 <span class="ot">&lt;-</span> <span class="fu">factor</span>(poke<span class="sc">$</span>type_2)</span>
<span id="cb160-28"><a href="reading-data.html#cb160-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb160-29"><a href="reading-data.html#cb160-29" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(poke)</span>
<span id="cb160-30"><a href="reading-data.html#cb160-30" aria-hidden="true" tabindex="-1"></a>       X1         pokedex_number      name           german_name       </span>
<span id="cb160-31"><a href="reading-data.html#cb160-31" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span>   <span class="fl">0.0</span>   Min.   <span class="sc">:</span>  <span class="fl">1.0</span>   Length<span class="sc">:</span><span class="dv">1028</span>        Length<span class="sc">:</span><span class="dv">1028</span>       </span>
<span id="cb160-32"><a href="reading-data.html#cb160-32" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span> <span class="fl">256.8</span>   1st Qu.<span class="sc">:</span><span class="fl">213.8</span>   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character  </span>
<span id="cb160-33"><a href="reading-data.html#cb160-33" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span> <span class="fl">513.5</span>   Median <span class="sc">:</span><span class="fl">433.5</span>   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character  </span>
<span id="cb160-34"><a href="reading-data.html#cb160-34" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span> <span class="fl">513.5</span>   Mean   <span class="sc">:</span><span class="fl">437.7</span>                                        </span>
<span id="cb160-35"><a href="reading-data.html#cb160-35" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span> <span class="fl">770.2</span>   3rd Qu.<span class="sc">:</span><span class="fl">663.2</span>                                        </span>
<span id="cb160-36"><a href="reading-data.html#cb160-36" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="fl">1027.0</span>   Max.   <span class="sc">:</span><span class="fl">890.0</span>                                        </span>
<span id="cb160-37"><a href="reading-data.html#cb160-37" aria-hidden="true" tabindex="-1"></a>                                                                       </span>
<span id="cb160-38"><a href="reading-data.html#cb160-38" aria-hidden="true" tabindex="-1"></a> japanese_name        generation       status            species         </span>
<span id="cb160-39"><a href="reading-data.html#cb160-39" aria-hidden="true" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">1028</span>        Min.   <span class="sc">:</span><span class="fl">1.000</span>   Length<span class="sc">:</span><span class="dv">1028</span>        Length<span class="sc">:</span><span class="dv">1028</span>       </span>
<span id="cb160-40"><a href="reading-data.html#cb160-40" aria-hidden="true" tabindex="-1"></a> Class <span class="sc">:</span>character   1st Qu.<span class="sc">:</span><span class="fl">2.000</span>   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character  </span>
<span id="cb160-41"><a href="reading-data.html#cb160-41" aria-hidden="true" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Median <span class="sc">:</span><span class="fl">4.000</span>   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character  </span>
<span id="cb160-42"><a href="reading-data.html#cb160-42" aria-hidden="true" tabindex="-1"></a>                    Mean   <span class="sc">:</span><span class="fl">4.034</span>                                        </span>
<span id="cb160-43"><a href="reading-data.html#cb160-43" aria-hidden="true" tabindex="-1"></a>                    3rd Qu.<span class="sc">:</span><span class="fl">6.000</span>                                        </span>
<span id="cb160-44"><a href="reading-data.html#cb160-44" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="sc">:</span><span class="fl">8.000</span>                                        </span>
<span id="cb160-45"><a href="reading-data.html#cb160-45" aria-hidden="true" tabindex="-1"></a>                                                                         </span>
<span id="cb160-46"><a href="reading-data.html#cb160-46" aria-hidden="true" tabindex="-1"></a>  type_number        type_1        type_2       height_m         weight_kg     </span>
<span id="cb160-47"><a href="reading-data.html#cb160-47" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span><span class="fl">1.000</span>   Water  <span class="sc">:</span><span class="dv">134</span>   Flying <span class="sc">:</span><span class="dv">109</span>   Min.   <span class="sc">:</span>  <span class="fl">0.100</span>   Min.   <span class="sc">:</span>  <span class="fl">0.10</span>  </span>
<span id="cb160-48"><a href="reading-data.html#cb160-48" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span><span class="fl">1.000</span>   Normal <span class="sc">:</span><span class="dv">115</span>   Fairy  <span class="sc">:</span> <span class="dv">41</span>   1st Qu.<span class="sc">:</span>  <span class="fl">0.600</span>   1st Qu.<span class="sc">:</span>  <span class="fl">8.80</span>  </span>
<span id="cb160-49"><a href="reading-data.html#cb160-49" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span><span class="fl">2.000</span>   Grass  <span class="sc">:</span> <span class="dv">91</span>   Ground <span class="sc">:</span> <span class="dv">39</span>   Median <span class="sc">:</span>  <span class="fl">1.000</span>   Median <span class="sc">:</span> <span class="fl">28.50</span>  </span>
<span id="cb160-50"><a href="reading-data.html#cb160-50" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span><span class="fl">1.527</span>   Bug    <span class="sc">:</span> <span class="dv">81</span>   Poison <span class="sc">:</span> <span class="dv">38</span>   Mean   <span class="sc">:</span>  <span class="fl">1.368</span>   Mean   <span class="sc">:</span> <span class="fl">69.75</span>  </span>
<span id="cb160-51"><a href="reading-data.html#cb160-51" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span><span class="fl">2.000</span>   Psychic<span class="sc">:</span> <span class="dv">76</span>   Psychic<span class="sc">:</span> <span class="dv">38</span>   3rd Qu.<span class="sc">:</span>  <span class="fl">1.500</span>   3rd Qu.<span class="sc">:</span> <span class="fl">69.10</span>  </span>
<span id="cb160-52"><a href="reading-data.html#cb160-52" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="fl">2.000</span>   Fire   <span class="sc">:</span> <span class="dv">65</span>   (Other)<span class="sc">:</span><span class="dv">277</span>   Max.   <span class="sc">:</span><span class="fl">100.000</span>   Max.   <span class="sc">:</span><span class="fl">999.90</span>  </span>
<span id="cb160-53"><a href="reading-data.html#cb160-53" aria-hidden="true" tabindex="-1"></a>                 (Other)<span class="sc">:</span><span class="dv">466</span>   NA<span class="st">&#39;s   :486                     NA&#39;</span>s   <span class="sc">:</span><span class="dv">1</span>       </span>
<span id="cb160-54"><a href="reading-data.html#cb160-54" aria-hidden="true" tabindex="-1"></a> abilities_number  ability_1          ability_2         ability_hidden    </span>
<span id="cb160-55"><a href="reading-data.html#cb160-55" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span><span class="fl">0.000</span>    Length<span class="sc">:</span><span class="dv">1028</span>        Length<span class="sc">:</span><span class="dv">1028</span>        Length<span class="sc">:</span><span class="dv">1028</span>       </span>
<span id="cb160-56"><a href="reading-data.html#cb160-56" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span><span class="fl">2.000</span>    Class <span class="sc">:</span>character   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character  </span>
<span id="cb160-57"><a href="reading-data.html#cb160-57" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span><span class="fl">2.000</span>    Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character  </span>
<span id="cb160-58"><a href="reading-data.html#cb160-58" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span><span class="fl">2.284</span>                                                            </span>
<span id="cb160-59"><a href="reading-data.html#cb160-59" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span><span class="fl">3.000</span>                                                            </span>
<span id="cb160-60"><a href="reading-data.html#cb160-60" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="fl">3.000</span>                                                            </span>
<span id="cb160-61"><a href="reading-data.html#cb160-61" aria-hidden="true" tabindex="-1"></a>                                                                          </span>
<span id="cb160-62"><a href="reading-data.html#cb160-62" aria-hidden="true" tabindex="-1"></a>  total_points          hp             attack          defense      </span>
<span id="cb160-63"><a href="reading-data.html#cb160-63" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span> <span class="fl">175.0</span>   Min.   <span class="sc">:</span>  <span class="fl">1.00</span>   Min.   <span class="sc">:</span>  <span class="fl">5.00</span>   Min.   <span class="sc">:</span>  <span class="fl">5.00</span>  </span>
<span id="cb160-64"><a href="reading-data.html#cb160-64" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span> <span class="fl">330.0</span>   1st Qu.<span class="sc">:</span> <span class="fl">50.00</span>   1st Qu.<span class="sc">:</span> <span class="fl">55.00</span>   1st Qu.<span class="sc">:</span> <span class="fl">50.00</span>  </span>
<span id="cb160-65"><a href="reading-data.html#cb160-65" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span> <span class="fl">455.0</span>   Median <span class="sc">:</span> <span class="fl">66.50</span>   Median <span class="sc">:</span> <span class="fl">76.00</span>   Median <span class="sc">:</span> <span class="fl">70.00</span>  </span>
<span id="cb160-66"><a href="reading-data.html#cb160-66" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span> <span class="fl">437.6</span>   Mean   <span class="sc">:</span> <span class="fl">69.58</span>   Mean   <span class="sc">:</span> <span class="fl">80.12</span>   Mean   <span class="sc">:</span> <span class="fl">74.48</span>  </span>
<span id="cb160-67"><a href="reading-data.html#cb160-67" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span> <span class="fl">510.0</span>   3rd Qu.<span class="sc">:</span> <span class="fl">80.00</span>   3rd Qu.<span class="sc">:</span><span class="fl">100.00</span>   3rd Qu.<span class="sc">:</span> <span class="fl">90.00</span>  </span>
<span id="cb160-68"><a href="reading-data.html#cb160-68" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="fl">1125.0</span>   Max.   <span class="sc">:</span><span class="fl">255.00</span>   Max.   <span class="sc">:</span><span class="fl">190.00</span>   Max.   <span class="sc">:</span><span class="fl">250.00</span>  </span>
<span id="cb160-69"><a href="reading-data.html#cb160-69" aria-hidden="true" tabindex="-1"></a>                                                                    </span>
<span id="cb160-70"><a href="reading-data.html#cb160-70" aria-hidden="true" tabindex="-1"></a>   sp_attack        sp_defense         speed          catch_rate    </span>
<span id="cb160-71"><a href="reading-data.html#cb160-71" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span> <span class="fl">10.00</span>   Min.   <span class="sc">:</span> <span class="fl">20.00</span>   Min.   <span class="sc">:</span>  <span class="fl">5.00</span>   Min.   <span class="sc">:</span>  <span class="fl">3.00</span>  </span>
<span id="cb160-72"><a href="reading-data.html#cb160-72" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span> <span class="fl">50.00</span>   1st Qu.<span class="sc">:</span> <span class="fl">50.00</span>   1st Qu.<span class="sc">:</span> <span class="fl">45.00</span>   1st Qu.<span class="sc">:</span> <span class="fl">45.00</span>  </span>
<span id="cb160-73"><a href="reading-data.html#cb160-73" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span> <span class="fl">65.00</span>   Median <span class="sc">:</span> <span class="fl">70.00</span>   Median <span class="sc">:</span> <span class="fl">65.00</span>   Median <span class="sc">:</span> <span class="fl">60.00</span>  </span>
<span id="cb160-74"><a href="reading-data.html#cb160-74" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span> <span class="fl">72.73</span>   Mean   <span class="sc">:</span> <span class="fl">72.13</span>   Mean   <span class="sc">:</span> <span class="fl">68.53</span>   Mean   <span class="sc">:</span> <span class="fl">93.17</span>  </span>
<span id="cb160-75"><a href="reading-data.html#cb160-75" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span> <span class="fl">95.00</span>   3rd Qu.<span class="sc">:</span> <span class="fl">90.00</span>   3rd Qu.<span class="sc">:</span> <span class="fl">90.00</span>   3rd Qu.<span class="sc">:</span><span class="fl">127.00</span>  </span>
<span id="cb160-76"><a href="reading-data.html#cb160-76" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="fl">194.00</span>   Max.   <span class="sc">:</span><span class="fl">250.00</span>   Max.   <span class="sc">:</span><span class="fl">180.00</span>   Max.   <span class="sc">:</span><span class="fl">255.00</span>  </span>
<span id="cb160-77"><a href="reading-data.html#cb160-77" aria-hidden="true" tabindex="-1"></a>                                                    NA<span class="st">&#39;s   :104     </span></span>
<span id="cb160-78"><a href="reading-data.html#cb160-78" aria-hidden="true" tabindex="-1"></a><span class="st"> base_friendship  base_experience growth_rate        egg_type_number</span></span>
<span id="cb160-79"><a href="reading-data.html#cb160-79" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :  0.00   Min.   : 36.0   Length:1028        Min.   :0.000  </span></span>
<span id="cb160-80"><a href="reading-data.html#cb160-80" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.: 70.00   1st Qu.: 67.0   Class :character   1st Qu.:1.000  </span></span>
<span id="cb160-81"><a href="reading-data.html#cb160-81" aria-hidden="true" tabindex="-1"></a><span class="st"> Median : 70.00   Median :159.0   Mode  :character   Median :1.000  </span></span>
<span id="cb160-82"><a href="reading-data.html#cb160-82" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   : 64.14   Mean   :153.8                      Mean   :1.271  </span></span>
<span id="cb160-83"><a href="reading-data.html#cb160-83" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.: 70.00   3rd Qu.:201.5                      3rd Qu.:2.000  </span></span>
<span id="cb160-84"><a href="reading-data.html#cb160-84" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :140.00   Max.   :608.0                      Max.   :2.000  </span></span>
<span id="cb160-85"><a href="reading-data.html#cb160-85" aria-hidden="true" tabindex="-1"></a><span class="st"> NA&#39;</span>s   <span class="sc">:</span><span class="dv">104</span>      NA<span class="st">&#39;s   :104                                       </span></span>
<span id="cb160-86"><a href="reading-data.html#cb160-86" aria-hidden="true" tabindex="-1"></a><span class="st">  egg_type_1         egg_type_2        percentage_male   egg_cycles    </span></span>
<span id="cb160-87"><a href="reading-data.html#cb160-87" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:1028        Length:1028        Min.   :  0     Min.   :  5.00  </span></span>
<span id="cb160-88"><a href="reading-data.html#cb160-88" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character   Class :character   1st Qu.: 50     1st Qu.: 20.00  </span></span>
<span id="cb160-89"><a href="reading-data.html#cb160-89" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character   Mode  :character   Median : 50     Median : 20.00  </span></span>
<span id="cb160-90"><a href="reading-data.html#cb160-90" aria-hidden="true" tabindex="-1"></a><span class="st">                                       Mean   : 55     Mean   : 30.32  </span></span>
<span id="cb160-91"><a href="reading-data.html#cb160-91" aria-hidden="true" tabindex="-1"></a><span class="st">                                       3rd Qu.: 50     3rd Qu.: 25.00  </span></span>
<span id="cb160-92"><a href="reading-data.html#cb160-92" aria-hidden="true" tabindex="-1"></a><span class="st">                                       Max.   :100     Max.   :120.00  </span></span>
<span id="cb160-93"><a href="reading-data.html#cb160-93" aria-hidden="true" tabindex="-1"></a><span class="st">                                       NA&#39;</span>s   <span class="sc">:</span><span class="dv">236</span>     NA<span class="st">&#39;s   :1       </span></span>
<span id="cb160-94"><a href="reading-data.html#cb160-94" aria-hidden="true" tabindex="-1"></a><span class="st"> against_normal    against_fire   against_water   against_electric</span></span>
<span id="cb160-95"><a href="reading-data.html#cb160-95" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.0000   Min.   :0.000   Min.   :0.000   Min.   :0.000   </span></span>
<span id="cb160-96"><a href="reading-data.html#cb160-96" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:1.0000   1st Qu.:0.500   1st Qu.:0.500   1st Qu.:0.500   </span></span>
<span id="cb160-97"><a href="reading-data.html#cb160-97" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :1.0000   Median :1.000   Median :1.000   Median :1.000   </span></span>
<span id="cb160-98"><a href="reading-data.html#cb160-98" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :0.8684   Mean   :1.125   Mean   :1.054   Mean   :1.034   </span></span>
<span id="cb160-99"><a href="reading-data.html#cb160-99" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:1.0000   3rd Qu.:2.000   3rd Qu.:1.000   3rd Qu.:1.000   </span></span>
<span id="cb160-100"><a href="reading-data.html#cb160-100" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :1.0000   Max.   :4.000   Max.   :4.000   Max.   :4.000   </span></span>
<span id="cb160-101"><a href="reading-data.html#cb160-101" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                  </span></span>
<span id="cb160-102"><a href="reading-data.html#cb160-102" aria-hidden="true" tabindex="-1"></a><span class="st"> against_grass    against_ice    against_fight   against_poison  </span></span>
<span id="cb160-103"><a href="reading-data.html#cb160-103" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.000   Min.   :0.000   Min.   :0.000   Min.   :0.0000  </span></span>
<span id="cb160-104"><a href="reading-data.html#cb160-104" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:0.500   1st Qu.:0.500   1st Qu.:0.500   1st Qu.:0.5000  </span></span>
<span id="cb160-105"><a href="reading-data.html#cb160-105" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :1.000   Median :1.000   Median :1.000   Median :1.0000  </span></span>
<span id="cb160-106"><a href="reading-data.html#cb160-106" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :1.004   Mean   :1.196   Mean   :1.079   Mean   :0.9523  </span></span>
<span id="cb160-107"><a href="reading-data.html#cb160-107" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:1.000   3rd Qu.:2.000   3rd Qu.:2.000   3rd Qu.:1.0000  </span></span>
<span id="cb160-108"><a href="reading-data.html#cb160-108" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :4.000   Max.   :4.000   Max.   :4.000   Max.   :4.0000  </span></span>
<span id="cb160-109"><a href="reading-data.html#cb160-109" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                 </span></span>
<span id="cb160-110"><a href="reading-data.html#cb160-110" aria-hidden="true" tabindex="-1"></a><span class="st"> against_ground  against_flying  against_psychic   against_bug    </span></span>
<span id="cb160-111"><a href="reading-data.html#cb160-111" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.000   Min.   :0.250   Min.   :0.0000   Min.   :0.0000  </span></span>
<span id="cb160-112"><a href="reading-data.html#cb160-112" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:0.500   1st Qu.:1.000   1st Qu.:1.0000   1st Qu.:0.5000  </span></span>
<span id="cb160-113"><a href="reading-data.html#cb160-113" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :1.000   Median :1.000   Median :1.0000   Median :1.0000  </span></span>
<span id="cb160-114"><a href="reading-data.html#cb160-114" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :1.085   Mean   :1.166   Mean   :0.9793   Mean   :0.9925  </span></span>
<span id="cb160-115"><a href="reading-data.html#cb160-115" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:1.625   3rd Qu.:1.000   3rd Qu.:1.0000   3rd Qu.:1.0000  </span></span>
<span id="cb160-116"><a href="reading-data.html#cb160-116" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :4.000   Max.   :4.000   Max.   :4.0000   Max.   :4.0000  </span></span>
<span id="cb160-117"><a href="reading-data.html#cb160-117" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                  </span></span>
<span id="cb160-118"><a href="reading-data.html#cb160-118" aria-hidden="true" tabindex="-1"></a><span class="st">  against_rock  against_ghost   against_dragon    against_dark  </span></span>
<span id="cb160-119"><a href="reading-data.html#cb160-119" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.25   Min.   :0.000   Min.   :0.0000   Min.   :0.250  </span></span>
<span id="cb160-120"><a href="reading-data.html#cb160-120" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:1.00   1st Qu.:1.000   1st Qu.:1.0000   1st Qu.:1.000  </span></span>
<span id="cb160-121"><a href="reading-data.html#cb160-121" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :1.00   Median :1.000   Median :1.0000   Median :1.000  </span></span>
<span id="cb160-122"><a href="reading-data.html#cb160-122" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :1.24   Mean   :1.011   Mean   :0.9757   Mean   :1.066  </span></span>
<span id="cb160-123"><a href="reading-data.html#cb160-123" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:2.00   3rd Qu.:1.000   3rd Qu.:1.0000   3rd Qu.:1.000  </span></span>
<span id="cb160-124"><a href="reading-data.html#cb160-124" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :4.00   Max.   :4.000   Max.   :2.0000   Max.   :4.000  </span></span>
<span id="cb160-125"><a href="reading-data.html#cb160-125" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                </span></span>
<span id="cb160-126"><a href="reading-data.html#cb160-126" aria-hidden="true" tabindex="-1"></a><span class="st"> against_steel    against_fairy  </span></span>
<span id="cb160-127"><a href="reading-data.html#cb160-127" aria-hidden="true" tabindex="-1"></a><span class="st"> Min.   :0.0000   Min.   :0.000  </span></span>
<span id="cb160-128"><a href="reading-data.html#cb160-128" aria-hidden="true" tabindex="-1"></a><span class="st"> 1st Qu.:0.5000   1st Qu.:1.000  </span></span>
<span id="cb160-129"><a href="reading-data.html#cb160-129" aria-hidden="true" tabindex="-1"></a><span class="st"> Median :1.0000   Median :1.000  </span></span>
<span id="cb160-130"><a href="reading-data.html#cb160-130" aria-hidden="true" tabindex="-1"></a><span class="st"> Mean   :0.9803   Mean   :1.085  </span></span>
<span id="cb160-131"><a href="reading-data.html#cb160-131" aria-hidden="true" tabindex="-1"></a><span class="st"> 3rd Qu.:1.0000   3rd Qu.:1.000  </span></span>
<span id="cb160-132"><a href="reading-data.html#cb160-132" aria-hidden="true" tabindex="-1"></a><span class="st"> Max.   :4.0000   Max.   :4.000  </span></span>
<span id="cb160-133"><a href="reading-data.html#cb160-133" aria-hidden="true" tabindex="-1"></a><span class="st">                                 </span></span></code></pre></div>
</details>
<details>
<summary>
One common question in EDA is whether there are missing values or other inconsistencies that need to be handled.
</summary>
<p><code>summary()</code> provides you with the NA count for each variable, making it easy to identify what variables are likely to cause problems in an analysis.</p>
<p>There is one pokemon who appears to not have a weight specified. Let’s investigate further:</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="reading-data.html#cb161-1" aria-hidden="true" tabindex="-1"></a>poke[<span class="fu">is.na</span>(poke<span class="sc">$</span>weight_kg),] <span class="co"># Show any rows where weight.kg is NA</span></span>
<span id="cb161-2"><a href="reading-data.html#cb161-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 1 x 51</span></span>
<span id="cb161-3"><a href="reading-data.html#cb161-3" aria-hidden="true" tabindex="-1"></a>     X1 pokedex_number name  german_name japanese_name generation status species</span>
<span id="cb161-4"><a href="reading-data.html#cb161-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>dbl<span class="sc">&gt;</span>          <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>              <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>  </span>
<span id="cb161-5"><a href="reading-data.html#cb161-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span>  <span class="dv">1027</span>            <span class="dv">890</span> Eter… <span class="sc">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>        <span class="er">&lt;</span><span class="cn">NA</span><span class="sc">&gt;</span>                   <span class="dv">8</span> Legen… Gigant…</span>
<span id="cb161-6"><a href="reading-data.html#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 43 more variables: type_number &lt;dbl&gt;, type_1 &lt;fct&gt;, type_2 &lt;fct&gt;,</span></span>
<span id="cb161-7"><a href="reading-data.html#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   height_m &lt;dbl&gt;, weight_kg &lt;dbl&gt;, abilities_number &lt;dbl&gt;, ability_1 &lt;chr&gt;,</span></span>
<span id="cb161-8"><a href="reading-data.html#cb161-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   ability_2 &lt;chr&gt;, ability_hidden &lt;chr&gt;, total_points &lt;dbl&gt;, hp &lt;dbl&gt;,</span></span>
<span id="cb161-9"><a href="reading-data.html#cb161-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   attack &lt;dbl&gt;, defense &lt;dbl&gt;, sp_attack &lt;dbl&gt;, sp_defense &lt;dbl&gt;,</span></span>
<span id="cb161-10"><a href="reading-data.html#cb161-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   speed &lt;dbl&gt;, catch_rate &lt;dbl&gt;, base_friendship &lt;dbl&gt;,</span></span>
<span id="cb161-11"><a href="reading-data.html#cb161-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   base_experience &lt;dbl&gt;, growth_rate &lt;chr&gt;, egg_type_number &lt;dbl&gt;,</span></span>
<span id="cb161-12"><a href="reading-data.html#cb161-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   egg_type_1 &lt;chr&gt;, egg_type_2 &lt;chr&gt;, percentage_male &lt;dbl&gt;,</span></span>
<span id="cb161-13"><a href="reading-data.html#cb161-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   egg_cycles &lt;dbl&gt;, against_normal &lt;dbl&gt;, against_fire &lt;dbl&gt;,</span></span>
<span id="cb161-14"><a href="reading-data.html#cb161-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_water &lt;dbl&gt;, against_electric &lt;dbl&gt;, against_grass &lt;dbl&gt;,</span></span>
<span id="cb161-15"><a href="reading-data.html#cb161-15" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_ice &lt;dbl&gt;, against_fight &lt;dbl&gt;, against_poison &lt;dbl&gt;,</span></span>
<span id="cb161-16"><a href="reading-data.html#cb161-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_ground &lt;dbl&gt;, against_flying &lt;dbl&gt;, against_psychic &lt;dbl&gt;,</span></span>
<span id="cb161-17"><a href="reading-data.html#cb161-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_bug &lt;dbl&gt;, against_rock &lt;dbl&gt;, against_ghost &lt;dbl&gt;,</span></span>
<span id="cb161-18"><a href="reading-data.html#cb161-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_dragon &lt;dbl&gt;, against_dark &lt;dbl&gt;, against_steel &lt;dbl&gt;,</span></span>
<span id="cb161-19"><a href="reading-data.html#cb161-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   against_fairy &lt;dbl&gt;</span></span></code></pre></div>
This is the last row of our data frame, and this pokemon appears to have many missing values.
</details>
<details>
<summary>
We are often also interested in the distribution of values.
</summary>
<p>We can generate cross-tabs for variables that we know are discrete (such as generation, which will always be a whole number).</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="reading-data.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(poke<span class="sc">$</span>generation)</span>
<span id="cb162-2"><a href="reading-data.html#cb162-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb162-3"><a href="reading-data.html#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span>   <span class="dv">2</span>   <span class="dv">3</span>   <span class="dv">4</span>   <span class="dv">5</span>   <span class="dv">6</span>   <span class="dv">7</span>   <span class="dv">8</span> </span>
<span id="cb162-4"><a href="reading-data.html#cb162-4" aria-hidden="true" tabindex="-1"></a><span class="dv">192</span> <span class="dv">107</span> <span class="dv">165</span> <span class="dv">121</span> <span class="dv">171</span>  <span class="dv">85</span>  <span class="dv">99</span>  <span class="dv">88</span> </span>
<span id="cb162-5"><a href="reading-data.html#cb162-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">table</span>(poke<span class="sc">$</span>generation)) <span class="co"># bar plot</span></span></code></pre></div>
<p><img src="image/poke-distribution-1.png" width="2100" /></p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="reading-data.html#cb163-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-2"><a href="reading-data.html#cb163-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-3"><a href="reading-data.html#cb163-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(poke<span class="sc">$</span>type_1, poke<span class="sc">$</span>type_2)</span>
<span id="cb163-4"><a href="reading-data.html#cb163-4" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb163-5"><a href="reading-data.html#cb163-5" aria-hidden="true" tabindex="-1"></a>           Bug Dark Dragon Electric Fairy Fighting Fire Flying Ghost Grass</span>
<span id="cb163-6"><a href="reading-data.html#cb163-6" aria-hidden="true" tabindex="-1"></a>  Bug        <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">0</span>        <span class="dv">4</span>     <span class="dv">2</span>        <span class="dv">4</span>    <span class="dv">2</span>     <span class="dv">14</span>     <span class="dv">1</span>     <span class="dv">6</span></span>
<span id="cb163-7"><a href="reading-data.html#cb163-7" aria-hidden="true" tabindex="-1"></a>  Dark       <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">4</span>        <span class="dv">0</span>     <span class="dv">3</span>        <span class="dv">2</span>    <span class="dv">3</span>      <span class="dv">5</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb163-8"><a href="reading-data.html#cb163-8" aria-hidden="true" tabindex="-1"></a>  Dragon     <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">0</span>        <span class="dv">1</span>     <span class="dv">1</span>        <span class="dv">2</span>    <span class="dv">1</span>      <span class="dv">6</span>     <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb163-9"><a href="reading-data.html#cb163-9" aria-hidden="true" tabindex="-1"></a>  Electric   <span class="dv">0</span>    <span class="dv">2</span>      <span class="dv">2</span>        <span class="dv">0</span>     <span class="dv">2</span>        <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">6</span>     <span class="dv">1</span>     <span class="dv">1</span></span>
<span id="cb163-10"><a href="reading-data.html#cb163-10" aria-hidden="true" tabindex="-1"></a>  Fairy      <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">0</span>        <span class="dv">0</span>     <span class="dv">0</span>        <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">2</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-11"><a href="reading-data.html#cb163-11" aria-hidden="true" tabindex="-1"></a>  Fighting   <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">0</span>        <span class="dv">0</span>     <span class="dv">0</span>        <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">1</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb163-12"><a href="reading-data.html#cb163-12" aria-hidden="true" tabindex="-1"></a>  Fire       <span class="dv">2</span>    <span class="dv">1</span>      <span class="dv">2</span>        <span class="dv">0</span>     <span class="dv">0</span>        <span class="dv">7</span>    <span class="dv">0</span>      <span class="dv">7</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb163-13"><a href="reading-data.html#cb163-13" aria-hidden="true" tabindex="-1"></a>  Flying     <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">2</span>        <span class="dv">0</span>     <span class="dv">0</span>        <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-14"><a href="reading-data.html#cb163-14" aria-hidden="true" tabindex="-1"></a>  Ghost      <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">2</span>        <span class="dv">0</span>     <span class="dv">1</span>        <span class="dv">0</span>    <span class="dv">3</span>      <span class="dv">3</span>     <span class="dv">0</span>    <span class="dv">11</span></span>
<span id="cb163-15"><a href="reading-data.html#cb163-15" aria-hidden="true" tabindex="-1"></a>  Grass      <span class="dv">0</span>    <span class="dv">3</span>      <span class="dv">5</span>        <span class="dv">0</span>     <span class="dv">5</span>        <span class="dv">3</span>    <span class="dv">0</span>      <span class="dv">7</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb163-16"><a href="reading-data.html#cb163-16" aria-hidden="true" tabindex="-1"></a>  Ground     <span class="dv">0</span>    <span class="dv">3</span>      <span class="dv">2</span>        <span class="dv">1</span>     <span class="dv">0</span>        <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">4</span>     <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb163-17"><a href="reading-data.html#cb163-17" aria-hidden="true" tabindex="-1"></a>  Ice        <span class="dv">2</span>    <span class="dv">0</span>      <span class="dv">0</span>        <span class="dv">0</span>     <span class="dv">1</span>        <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">2</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb163-18"><a href="reading-data.html#cb163-18" aria-hidden="true" tabindex="-1"></a>  Normal     <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">1</span>        <span class="dv">0</span>     <span class="dv">5</span>        <span class="dv">4</span>    <span class="dv">0</span>     <span class="dv">27</span>     <span class="dv">0</span>     <span class="dv">2</span></span>
<span id="cb163-19"><a href="reading-data.html#cb163-19" aria-hidden="true" tabindex="-1"></a>  Poison     <span class="dv">1</span>    <span class="dv">5</span>      <span class="dv">4</span>        <span class="dv">0</span>     <span class="dv">1</span>        <span class="dv">2</span>    <span class="dv">2</span>      <span class="dv">3</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-20"><a href="reading-data.html#cb163-20" aria-hidden="true" tabindex="-1"></a>  Psychic    <span class="dv">0</span>    <span class="dv">1</span>      <span class="dv">1</span>        <span class="dv">0</span>     <span class="dv">9</span>        <span class="dv">3</span>    <span class="dv">1</span>      <span class="dv">7</span>     <span class="dv">3</span>     <span class="dv">1</span></span>
<span id="cb163-21"><a href="reading-data.html#cb163-21" aria-hidden="true" tabindex="-1"></a>  Rock       <span class="dv">2</span>    <span class="dv">2</span>      <span class="dv">2</span>        <span class="dv">3</span>     <span class="dv">3</span>        <span class="dv">1</span>    <span class="dv">2</span>      <span class="dv">6</span>     <span class="dv">0</span>     <span class="dv">2</span></span>
<span id="cb163-22"><a href="reading-data.html#cb163-22" aria-hidden="true" tabindex="-1"></a>  Steel      <span class="dv">0</span>    <span class="dv">0</span>      <span class="dv">2</span>        <span class="dv">0</span>     <span class="dv">4</span>        <span class="dv">1</span>    <span class="dv">0</span>      <span class="dv">2</span>     <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb163-23"><a href="reading-data.html#cb163-23" aria-hidden="true" tabindex="-1"></a>  Water      <span class="dv">2</span>    <span class="dv">7</span>      <span class="dv">3</span>        <span class="dv">2</span>     <span class="dv">4</span>        <span class="dv">3</span>    <span class="dv">0</span>      <span class="dv">7</span>     <span class="dv">2</span>     <span class="dv">3</span></span>
<span id="cb163-24"><a href="reading-data.html#cb163-24" aria-hidden="true" tabindex="-1"></a>          </span>
<span id="cb163-25"><a href="reading-data.html#cb163-25" aria-hidden="true" tabindex="-1"></a>           Ground Ice Normal Poison Psychic Rock Steel Water</span>
<span id="cb163-26"><a href="reading-data.html#cb163-26" aria-hidden="true" tabindex="-1"></a>  Bug           <span class="dv">2</span>   <span class="dv">0</span>      <span class="dv">0</span>     <span class="dv">12</span>       <span class="dv">2</span>    <span class="dv">3</span>     <span class="dv">7</span>     <span class="dv">3</span></span>
<span id="cb163-27"><a href="reading-data.html#cb163-27" aria-hidden="true" tabindex="-1"></a>  Dark          <span class="dv">0</span>   <span class="dv">2</span>      <span class="dv">5</span>      <span class="dv">0</span>       <span class="dv">2</span>    <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb163-28"><a href="reading-data.html#cb163-28" aria-hidden="true" tabindex="-1"></a>  Dragon        <span class="dv">7</span>   <span class="dv">3</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">4</span>    <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-29"><a href="reading-data.html#cb163-29" aria-hidden="true" tabindex="-1"></a>  Electric      <span class="dv">0</span>   <span class="dv">2</span>      <span class="dv">2</span>      <span class="dv">3</span>       <span class="dv">1</span>    <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">1</span></span>
<span id="cb163-30"><a href="reading-data.html#cb163-30" aria-hidden="true" tabindex="-1"></a>  Fairy         <span class="dv">0</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">0</span>    <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb163-31"><a href="reading-data.html#cb163-31" aria-hidden="true" tabindex="-1"></a>  Fighting      <span class="dv">0</span>   <span class="dv">1</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">3</span>    <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb163-32"><a href="reading-data.html#cb163-32" aria-hidden="true" tabindex="-1"></a>  Fire          <span class="dv">3</span>   <span class="dv">0</span>      <span class="dv">2</span>      <span class="dv">0</span>       <span class="dv">2</span>    <span class="dv">1</span>     <span class="dv">1</span>     <span class="dv">1</span></span>
<span id="cb163-33"><a href="reading-data.html#cb163-33" aria-hidden="true" tabindex="-1"></a>  Flying        <span class="dv">0</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">0</span>    <span class="dv">0</span>     <span class="dv">1</span>     <span class="dv">1</span></span>
<span id="cb163-34"><a href="reading-data.html#cb163-34" aria-hidden="true" tabindex="-1"></a>  Ghost         <span class="dv">2</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">4</span>       <span class="dv">0</span>    <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-35"><a href="reading-data.html#cb163-35" aria-hidden="true" tabindex="-1"></a>  Grass         <span class="dv">1</span>   <span class="dv">3</span>      <span class="dv">0</span>     <span class="dv">15</span>       <span class="dv">2</span>    <span class="dv">0</span>     <span class="dv">3</span>     <span class="dv">0</span></span>
<span id="cb163-36"><a href="reading-data.html#cb163-36" aria-hidden="true" tabindex="-1"></a>  Ground        <span class="dv">0</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">2</span>    <span class="dv">3</span>     <span class="dv">4</span>     <span class="dv">0</span></span>
<span id="cb163-37"><a href="reading-data.html#cb163-37" aria-hidden="true" tabindex="-1"></a>  Ice           <span class="dv">3</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">2</span>    <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">3</span></span>
<span id="cb163-38"><a href="reading-data.html#cb163-38" aria-hidden="true" tabindex="-1"></a>  Normal        <span class="dv">1</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">3</span>    <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">1</span></span>
<span id="cb163-39"><a href="reading-data.html#cb163-39" aria-hidden="true" tabindex="-1"></a>  Poison        <span class="dv">2</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">0</span>    <span class="dv">0</span>     <span class="dv">0</span>     <span class="dv">3</span></span>
<span id="cb163-40"><a href="reading-data.html#cb163-40" aria-hidden="true" tabindex="-1"></a>  Psychic       <span class="dv">0</span>   <span class="dv">2</span>      <span class="dv">2</span>      <span class="dv">0</span>       <span class="dv">0</span>    <span class="dv">0</span>     <span class="dv">2</span>     <span class="dv">0</span></span>
<span id="cb163-41"><a href="reading-data.html#cb163-41" aria-hidden="true" tabindex="-1"></a>  Rock          <span class="dv">6</span>   <span class="dv">2</span>      <span class="dv">0</span>      <span class="dv">1</span>       <span class="dv">2</span>    <span class="dv">0</span>     <span class="dv">4</span>     <span class="dv">6</span></span>
<span id="cb163-42"><a href="reading-data.html#cb163-42" aria-hidden="true" tabindex="-1"></a>  Steel         <span class="dv">2</span>   <span class="dv">0</span>      <span class="dv">0</span>      <span class="dv">0</span>       <span class="dv">7</span>    <span class="dv">3</span>     <span class="dv">0</span>     <span class="dv">0</span></span>
<span id="cb163-43"><a href="reading-data.html#cb163-43" aria-hidden="true" tabindex="-1"></a>  Water        <span class="dv">10</span>   <span class="dv">4</span>      <span class="dv">0</span>      <span class="dv">3</span>       <span class="dv">6</span>    <span class="dv">5</span>     <span class="dv">1</span>     <span class="dv">0</span></span>
<span id="cb163-44"><a href="reading-data.html#cb163-44" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">table</span>(poke<span class="sc">$</span>type_1, poke<span class="sc">$</span>type_2)) <span class="co"># mosaic plot - hard to read b/c too many categories</span></span></code></pre></div>
<img src="image/poke-distribution-2.png" width="2100" />
</details>
<details>
<summary>
There are better options for examining this data, but they are easier to get in ggplot2.
</summary>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="reading-data.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb164-2"><a href="reading-data.html#cb164-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb164-3"><a href="reading-data.html#cb164-3" aria-hidden="true" tabindex="-1"></a><span class="co"># define the x and y axis variables first</span></span>
<span id="cb164-4"><a href="reading-data.html#cb164-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> poke, <span class="fu">aes</span>(<span class="at">x =</span> type_1, <span class="at">y =</span> type_2)) <span class="sc">+</span> </span>
<span id="cb164-5"><a href="reading-data.html#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># define what will be plotted (points)</span></span>
<span id="cb164-6"><a href="reading-data.html#cb164-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and what aesthetics will be used (size, color)</span></span>
<span id="cb164-7"><a href="reading-data.html#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and how those aesthetics will be mapped to values </span></span>
<span id="cb164-8"><a href="reading-data.html#cb164-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (proportional to the count in a 2d bin)</span></span>
<span id="cb164-9"><a href="reading-data.html#cb164-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> ..count.., <span class="at">color =</span> ..count..), <span class="at">stat =</span> <span class="st">&quot;bin2d&quot;</span>)</span></code></pre></div>
<img src="image/poke-ggplot2-1.png" width="2100" />
</details>
<details>
<summary>
We can also generate histograms or bar charts<a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>
</summary>
<p>By default, R uses ranges of <span class="math inline">\((a, b]\)</span> in histograms, so we specify which breaks will give us a desireable result. If we do not specify breaks, R will pick them for us.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="reading-data.html#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(poke<span class="sc">$</span>generation) <span class="co"># This isn&#39;t really optimal... we only have whole numbers.</span></span>
<span id="cb165-2"><a href="reading-data.html#cb165-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(poke<span class="sc">$</span>generation, <span class="at">breaks =</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">8</span>) <span class="co"># Much better.</span></span></code></pre></div>
<p><img src="image/poke-generation-out-1.png" width="48%" /><img src="image/poke-generation-out-2.png" width="48%" /></p>
</details>
<details>
<summary>
For continuous variables, we can use histograms, or we can examine kernel density plots.
</summary>
<div class=".note">
<p>Remember that <code>%&gt;%</code> is the “pipe” and takes the left side of the pipe to pass as an argument to the right side. This makes code easier to read because it becomes a step-wise “recipe.”</p>
</div>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="reading-data.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr) <span class="co"># This provides the pipe command, %&gt;%</span></span>
<span id="cb166-2"><a href="reading-data.html#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="reading-data.html#cb166-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(poke<span class="sc">$</span>weight_kg)</span>
<span id="cb166-4"><a href="reading-data.html#cb166-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-5"><a href="reading-data.html#cb166-5" aria-hidden="true" tabindex="-1"></a>poke<span class="sc">$</span>weight_kg <span class="sc">%&gt;%</span></span>
<span id="cb166-6"><a href="reading-data.html#cb166-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log10</span>() <span class="sc">%&gt;%</span> <span class="co"># Take the log - will transformation be useful w/ modeling?</span></span>
<span id="cb166-7"><a href="reading-data.html#cb166-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>() <span class="co"># create a histogram</span></span>
<span id="cb166-8"><a href="reading-data.html#cb166-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-9"><a href="reading-data.html#cb166-9" aria-hidden="true" tabindex="-1"></a>poke<span class="sc">$</span>weight_kg <span class="sc">%&gt;%</span></span>
<span id="cb166-10"><a href="reading-data.html#cb166-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">density</span>(<span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span> <span class="co"># First, we compute the kernel density </span></span>
<span id="cb166-11"><a href="reading-data.html#cb166-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># (na.rm = T says to ignore NA values)</span></span>
<span id="cb166-12"><a href="reading-data.html#cb166-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>() <span class="co"># Then, we plot the result</span></span>
<span id="cb166-13"><a href="reading-data.html#cb166-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-14"><a href="reading-data.html#cb166-14" aria-hidden="true" tabindex="-1"></a>poke<span class="sc">$</span>weight_kg <span class="sc">%&gt;%</span></span>
<span id="cb166-15"><a href="reading-data.html#cb166-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">log10</span>() <span class="sc">%&gt;%</span> <span class="co"># Transform the variable</span></span>
<span id="cb166-16"><a href="reading-data.html#cb166-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">density</span>(<span class="at">na.rm =</span> T) <span class="sc">%&gt;%</span> <span class="co"># Compute the density ignoring missing values</span></span>
<span id="cb166-17"><a href="reading-data.html#cb166-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>(<span class="at">main =</span> <span class="st">&quot;Density of Log10 pokemon weight in Kg&quot;</span>) <span class="co"># Plot the result, </span></span>
<span id="cb166-18"><a href="reading-data.html#cb166-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># changing the title of the plot to a meaningful value</span></span></code></pre></div>
<img src="image/pipe-poke-graphs-1.png" width="48%" /><img src="image/pipe-poke-graphs-2.png" width="48%" /><img src="image/pipe-poke-graphs-3.png" width="48%" /><img src="image/pipe-poke-graphs-4.png" width="48%" />
</details>
<details>
<summary>
We may also want to look at correlations between variables.
</summary>
<p>In R, most models are specified as <code>y ~ x1 + x2 + x3</code>, where the information on the left side of the tilde is the dependent variable, and the information on the right side are any explanatory variables. Interactions are specified using <code>x1*x2</code> to get all combinations of x1 and x2 (x1, x2, x1*x2); single interaction terms are specified as e.g. <code>x1:x2</code> and do not include any component terms.</p>
<p>To examine the relationship between a categorical variable and a continuous variable, we might look at boxplots:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="reading-data.html#cb167-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-2"><a href="reading-data.html#cb167-2" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(<span class="fu">log10</span>(height_m) <span class="sc">~</span> status, <span class="at">data =</span> poke)</span>
<span id="cb167-3"><a href="reading-data.html#cb167-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb167-4"><a href="reading-data.html#cb167-4" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(total_points <span class="sc">~</span> species, <span class="at">data =</span> poke)</span></code></pre></div>
<img src="image/boxplot-graphs-1.png" width="48%" /><img src="image/boxplot-graphs-2.png" width="48%" />
In the second boxplot, there are far too many categories to be able to resolve the relationship clearly, but the plot is still effective in that we can identify that there are one or two species which have a much higher point range than other species. EDA isn’t usually about creating pretty plots (or we’d be using <code>ggplot</code> right now) but rather about identifying things which may come up in the analysis later.
</details>
<details>
<summary>
To look at the relationship between numeric variables, we could compute a numeric correlation, but a plot is more useful.
</summary>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="reading-data.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(defense <span class="sc">~</span> attack, <span class="at">data =</span> poke, <span class="at">type =</span> <span class="st">&quot;p&quot;</span>)</span>
<span id="cb168-2"><a href="reading-data.html#cb168-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-3"><a href="reading-data.html#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cor</span>(poke<span class="sc">$</span>defense, poke<span class="sc">$</span>attack)</span>
<span id="cb168-4"><a href="reading-data.html#cb168-4" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.4507656</span></span></code></pre></div>
<p><img src="image/unnamed-chunk-6-1.png" width="48%" />
Sometimes, we discover that a variable which appears to be continuous is actually relatively quantized - there are only a few values of base_friendship in the whole dataset.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="reading-data.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> poke<span class="sc">$</span>base_experience, <span class="at">y =</span> poke<span class="sc">$</span>base_friendship, <span class="at">type =</span> <span class="st">&quot;p&quot;</span>)</span></code></pre></div>
<img src="image/unnamed-chunk-7-1.png" width="2100" />
</details>
<details>
<summary>
A scatterplot matrix can also be a useful way to visualize relationships between several variables.
</summary>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="reading-data.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(poke[,<span class="dv">19</span><span class="sc">:</span><span class="dv">23</span>]) <span class="co"># hp - sp_defense columns</span></span></code></pre></div>
<p><img src="image/unnamed-chunk-8-1.png" width="100%" /></p>
<a href="http://www.sthda.com/english/wiki/scatter-plot-matrices-r-base-graphs">There’s more information on how to customize these plots here</a>.
</details>
<div id="police-violence-eda-r" class="section level4 unnumbered tryitout">
<h4>Try it out</h4>
<p>Explore the variables present in <a href="data/police_violence.xlsx">the police violence data</a> (see code in the spreadsheets section to read it in). Note that some variables may be too messy to handle with the things that you have seen thus far - that is ok. As you find irregularities, document them - these are things you may need to clean up in the dataset before you conduct a formal analysis.</p>
How does your analysis in R differ from the way that you approached the data in SAS?
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="reading-data.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;readxl&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span>
<span id="cb171-2"><a href="reading-data.html#cb171-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb171-3"><a href="reading-data.html#cb171-3" aria-hidden="true" tabindex="-1"></a>police_violence <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;data/police_violence.xlsx&quot;</span>, <span class="at">sheet =</span> <span class="dv">1</span>, <span class="at">guess_max =</span> <span class="dv">7000</span>)</span>
<span id="cb171-4"><a href="reading-data.html#cb171-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-5"><a href="reading-data.html#cb171-5" aria-hidden="true" tabindex="-1"></a>police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span>)</span>
<span id="cb171-6"><a href="reading-data.html#cb171-6" aria-hidden="true" tabindex="-1"></a>Warning<span class="sc">:</span> NAs introduced by coercion</span>
<span id="cb171-7"><a href="reading-data.html#cb171-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-8"><a href="reading-data.html#cb171-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(police_violence)</span>
<span id="cb171-9"><a href="reading-data.html#cb171-9" aria-hidden="true" tabindex="-1"></a> Victim<span class="st">&#39;s name       Victim&#39;</span>s age   Victim<span class="st">&#39;s gender    Victim&#39;</span>s race     </span>
<span id="cb171-10"><a href="reading-data.html#cb171-10" aria-hidden="true" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">7663</span>        Min.   <span class="sc">:</span>  <span class="fl">1.0</span>   Length<span class="sc">:</span><span class="dv">7663</span>        Length<span class="sc">:</span><span class="dv">7663</span>       </span>
<span id="cb171-11"><a href="reading-data.html#cb171-11" aria-hidden="true" tabindex="-1"></a> Class <span class="sc">:</span>character   1st Qu.<span class="sc">:</span> <span class="fl">27.0</span>   Class <span class="sc">:</span>character   Class <span class="sc">:</span>character  </span>
<span id="cb171-12"><a href="reading-data.html#cb171-12" aria-hidden="true" tabindex="-1"></a> Mode  <span class="sc">:</span>character   Median <span class="sc">:</span> <span class="fl">34.0</span>   Mode  <span class="sc">:</span>character   Mode  <span class="sc">:</span>character  </span>
<span id="cb171-13"><a href="reading-data.html#cb171-13" aria-hidden="true" tabindex="-1"></a>                    Mean   <span class="sc">:</span> <span class="fl">36.8</span>                                        </span>
<span id="cb171-14"><a href="reading-data.html#cb171-14" aria-hidden="true" tabindex="-1"></a>                    3rd Qu.<span class="sc">:</span> <span class="fl">45.0</span>                                        </span>
<span id="cb171-15"><a href="reading-data.html#cb171-15" aria-hidden="true" tabindex="-1"></a>                    Max.   <span class="sc">:</span><span class="fl">107.0</span>                                        </span>
<span id="cb171-16"><a href="reading-data.html#cb171-16" aria-hidden="true" tabindex="-1"></a>                    NA<span class="st">&#39;s   :206                                          </span></span>
<span id="cb171-17"><a href="reading-data.html#cb171-17" aria-hidden="true" tabindex="-1"></a><span class="st"> URL of image of victim Date of Incident (month/day/year)</span></span>
<span id="cb171-18"><a href="reading-data.html#cb171-18" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663            Min.   :2013-01-01 00:00:00      </span></span>
<span id="cb171-19"><a href="reading-data.html#cb171-19" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character       1st Qu.:2014-10-07 00:00:00      </span></span>
<span id="cb171-20"><a href="reading-data.html#cb171-20" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character       Median :2016-07-07 00:00:00      </span></span>
<span id="cb171-21"><a href="reading-data.html#cb171-21" aria-hidden="true" tabindex="-1"></a><span class="st">                        Mean   :2016-07-06 23:33:18      </span></span>
<span id="cb171-22"><a href="reading-data.html#cb171-22" aria-hidden="true" tabindex="-1"></a><span class="st">                        3rd Qu.:2018-04-04 00:00:00      </span></span>
<span id="cb171-23"><a href="reading-data.html#cb171-23" aria-hidden="true" tabindex="-1"></a><span class="st">                        Max.   :2019-12-31 00:00:00      </span></span>
<span id="cb171-24"><a href="reading-data.html#cb171-24" aria-hidden="true" tabindex="-1"></a><span class="st">                                                         </span></span>
<span id="cb171-25"><a href="reading-data.html#cb171-25" aria-hidden="true" tabindex="-1"></a><span class="st"> Street Address of Incident     City              State          </span></span>
<span id="cb171-26"><a href="reading-data.html#cb171-26" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                Length:7663        Length:7663       </span></span>
<span id="cb171-27"><a href="reading-data.html#cb171-27" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character           Class :character   Class :character  </span></span>
<span id="cb171-28"><a href="reading-data.html#cb171-28" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character           Mode  :character   Mode  :character  </span></span>
<span id="cb171-29"><a href="reading-data.html#cb171-29" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                 </span></span>
<span id="cb171-30"><a href="reading-data.html#cb171-30" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                 </span></span>
<span id="cb171-31"><a href="reading-data.html#cb171-31" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                 </span></span>
<span id="cb171-32"><a href="reading-data.html#cb171-32" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                 </span></span>
<span id="cb171-33"><a href="reading-data.html#cb171-33" aria-hidden="true" tabindex="-1"></a><span class="st">   Zipcode             County          Agency responsible for death</span></span>
<span id="cb171-34"><a href="reading-data.html#cb171-34" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663        Length:7663        Length:7663                 </span></span>
<span id="cb171-35"><a href="reading-data.html#cb171-35" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character   Class :character   Class :character            </span></span>
<span id="cb171-36"><a href="reading-data.html#cb171-36" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character   Mode  :character   Mode  :character            </span></span>
<span id="cb171-37"><a href="reading-data.html#cb171-37" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                   </span></span>
<span id="cb171-38"><a href="reading-data.html#cb171-38" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                   </span></span>
<span id="cb171-39"><a href="reading-data.html#cb171-39" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                   </span></span>
<span id="cb171-40"><a href="reading-data.html#cb171-40" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                   </span></span>
<span id="cb171-41"><a href="reading-data.html#cb171-41" aria-hidden="true" tabindex="-1"></a><span class="st"> Cause of death    </span></span>
<span id="cb171-42"><a href="reading-data.html#cb171-42" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663       </span></span>
<span id="cb171-43"><a href="reading-data.html#cb171-43" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character  </span></span>
<span id="cb171-44"><a href="reading-data.html#cb171-44" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character  </span></span>
<span id="cb171-45"><a href="reading-data.html#cb171-45" aria-hidden="true" tabindex="-1"></a><span class="st">                   </span></span>
<span id="cb171-46"><a href="reading-data.html#cb171-46" aria-hidden="true" tabindex="-1"></a><span class="st">                   </span></span>
<span id="cb171-47"><a href="reading-data.html#cb171-47" aria-hidden="true" tabindex="-1"></a><span class="st">                   </span></span>
<span id="cb171-48"><a href="reading-data.html#cb171-48" aria-hidden="true" tabindex="-1"></a><span class="st">                   </span></span>
<span id="cb171-49"><a href="reading-data.html#cb171-49" aria-hidden="true" tabindex="-1"></a><span class="st"> A brief description of the circumstances surrounding the death</span></span>
<span id="cb171-50"><a href="reading-data.html#cb171-50" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                                                   </span></span>
<span id="cb171-51"><a href="reading-data.html#cb171-51" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character                                              </span></span>
<span id="cb171-52"><a href="reading-data.html#cb171-52" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character                                              </span></span>
<span id="cb171-53"><a href="reading-data.html#cb171-53" aria-hidden="true" tabindex="-1"></a><span class="st">                                                               </span></span>
<span id="cb171-54"><a href="reading-data.html#cb171-54" aria-hidden="true" tabindex="-1"></a><span class="st">                                                               </span></span>
<span id="cb171-55"><a href="reading-data.html#cb171-55" aria-hidden="true" tabindex="-1"></a><span class="st">                                                               </span></span>
<span id="cb171-56"><a href="reading-data.html#cb171-56" aria-hidden="true" tabindex="-1"></a><span class="st">                                                               </span></span>
<span id="cb171-57"><a href="reading-data.html#cb171-57" aria-hidden="true" tabindex="-1"></a><span class="st"> Official disposition of death (justified or other) Criminal Charges? </span></span>
<span id="cb171-58"><a href="reading-data.html#cb171-58" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                                        Length:7663       </span></span>
<span id="cb171-59"><a href="reading-data.html#cb171-59" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character                                   Class :character  </span></span>
<span id="cb171-60"><a href="reading-data.html#cb171-60" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character                                   Mode  :character  </span></span>
<span id="cb171-61"><a href="reading-data.html#cb171-61" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                      </span></span>
<span id="cb171-62"><a href="reading-data.html#cb171-62" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                      </span></span>
<span id="cb171-63"><a href="reading-data.html#cb171-63" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                      </span></span>
<span id="cb171-64"><a href="reading-data.html#cb171-64" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                      </span></span>
<span id="cb171-65"><a href="reading-data.html#cb171-65" aria-hidden="true" tabindex="-1"></a><span class="st"> Link to news article or photo of official document Symptoms of mental illness?</span></span>
<span id="cb171-66"><a href="reading-data.html#cb171-66" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                                        Length:7663                </span></span>
<span id="cb171-67"><a href="reading-data.html#cb171-67" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character                                   Class :character           </span></span>
<span id="cb171-68"><a href="reading-data.html#cb171-68" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character                                   Mode  :character           </span></span>
<span id="cb171-69"><a href="reading-data.html#cb171-69" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                               </span></span>
<span id="cb171-70"><a href="reading-data.html#cb171-70" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                               </span></span>
<span id="cb171-71"><a href="reading-data.html#cb171-71" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                               </span></span>
<span id="cb171-72"><a href="reading-data.html#cb171-72" aria-hidden="true" tabindex="-1"></a><span class="st">                                                                               </span></span>
<span id="cb171-73"><a href="reading-data.html#cb171-73" aria-hidden="true" tabindex="-1"></a><span class="st">   Unarmed          Alleged Weapon (Source: WaPo)</span></span>
<span id="cb171-74"><a href="reading-data.html#cb171-74" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663        Length:7663                  </span></span>
<span id="cb171-75"><a href="reading-data.html#cb171-75" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character   Class :character             </span></span>
<span id="cb171-76"><a href="reading-data.html#cb171-76" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character   Mode  :character             </span></span>
<span id="cb171-77"><a href="reading-data.html#cb171-77" aria-hidden="true" tabindex="-1"></a><span class="st">                                                 </span></span>
<span id="cb171-78"><a href="reading-data.html#cb171-78" aria-hidden="true" tabindex="-1"></a><span class="st">                                                 </span></span>
<span id="cb171-79"><a href="reading-data.html#cb171-79" aria-hidden="true" tabindex="-1"></a><span class="st">                                                 </span></span>
<span id="cb171-80"><a href="reading-data.html#cb171-80" aria-hidden="true" tabindex="-1"></a><span class="st">                                                 </span></span>
<span id="cb171-81"><a href="reading-data.html#cb171-81" aria-hidden="true" tabindex="-1"></a><span class="st"> Alleged Threat Level (Source: WaPo) Fleeing (Source: WaPo)</span></span>
<span id="cb171-82"><a href="reading-data.html#cb171-82" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                         Length:7663           </span></span>
<span id="cb171-83"><a href="reading-data.html#cb171-83" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character                    Class :character      </span></span>
<span id="cb171-84"><a href="reading-data.html#cb171-84" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character                    Mode  :character      </span></span>
<span id="cb171-85"><a href="reading-data.html#cb171-85" aria-hidden="true" tabindex="-1"></a><span class="st">                                                           </span></span>
<span id="cb171-86"><a href="reading-data.html#cb171-86" aria-hidden="true" tabindex="-1"></a><span class="st">                                                           </span></span>
<span id="cb171-87"><a href="reading-data.html#cb171-87" aria-hidden="true" tabindex="-1"></a><span class="st">                                                           </span></span>
<span id="cb171-88"><a href="reading-data.html#cb171-88" aria-hidden="true" tabindex="-1"></a><span class="st">                                                           </span></span>
<span id="cb171-89"><a href="reading-data.html#cb171-89" aria-hidden="true" tabindex="-1"></a><span class="st"> Body Camera (Source: WaPo) WaPo ID (If included in WaPo database)</span></span>
<span id="cb171-90"><a href="reading-data.html#cb171-90" aria-hidden="true" tabindex="-1"></a><span class="st"> Length:7663                Min.   :   3                          </span></span>
<span id="cb171-91"><a href="reading-data.html#cb171-91" aria-hidden="true" tabindex="-1"></a><span class="st"> Class :character           1st Qu.:1402                          </span></span>
<span id="cb171-92"><a href="reading-data.html#cb171-92" aria-hidden="true" tabindex="-1"></a><span class="st"> Mode  :character           Median :2722                          </span></span>
<span id="cb171-93"><a href="reading-data.html#cb171-93" aria-hidden="true" tabindex="-1"></a><span class="st">                            Mean   :2724                          </span></span>
<span id="cb171-94"><a href="reading-data.html#cb171-94" aria-hidden="true" tabindex="-1"></a><span class="st">                            3rd Qu.:4051                          </span></span>
<span id="cb171-95"><a href="reading-data.html#cb171-95" aria-hidden="true" tabindex="-1"></a><span class="st">                            Max.   :5439                          </span></span>
<span id="cb171-96"><a href="reading-data.html#cb171-96" aria-hidden="true" tabindex="-1"></a><span class="st">                            NA&#39;</span>s   <span class="sc">:</span><span class="dv">2785</span>                          </span>
<span id="cb171-97"><a href="reading-data.html#cb171-97" aria-hidden="true" tabindex="-1"></a> Off<span class="sc">-</span>Duty Killing? </span>
<span id="cb171-98"><a href="reading-data.html#cb171-98" aria-hidden="true" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">7663</span>       </span>
<span id="cb171-99"><a href="reading-data.html#cb171-99" aria-hidden="true" tabindex="-1"></a> Class <span class="sc">:</span>character  </span>
<span id="cb171-100"><a href="reading-data.html#cb171-100" aria-hidden="true" tabindex="-1"></a> Mode  <span class="sc">:</span>character  </span>
<span id="cb171-101"><a href="reading-data.html#cb171-101" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb171-102"><a href="reading-data.html#cb171-102" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb171-103"><a href="reading-data.html#cb171-103" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb171-104"><a href="reading-data.html#cb171-104" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb171-105"><a href="reading-data.html#cb171-105" aria-hidden="true" tabindex="-1"></a> <span class="fu">Geography</span> (via Trulia methodology based on zipcode population density<span class="sc">:</span> http<span class="sc">:</span><span class="er">//</span>jedkolko.com<span class="sc">/</span>wp<span class="sc">-</span>content<span class="sc">/</span>uploads<span class="sc">/</span><span class="dv">2015</span><span class="sc">/</span><span class="dv">05</span><span class="sc">/</span>full<span class="sc">-</span>ZCTA<span class="sc">-</span>urban<span class="sc">-</span>suburban<span class="sc">-</span>rural<span class="sc">-</span>classification.xlsx )</span>
<span id="cb171-106"><a href="reading-data.html#cb171-106" aria-hidden="true" tabindex="-1"></a> Length<span class="sc">:</span><span class="dv">7663</span>                                                                                                                                                               </span>
<span id="cb171-107"><a href="reading-data.html#cb171-107" aria-hidden="true" tabindex="-1"></a> Class <span class="sc">:</span>character                                                                                                                                                          </span>
<span id="cb171-108"><a href="reading-data.html#cb171-108" aria-hidden="true" tabindex="-1"></a> Mode  <span class="sc">:</span>character                                                                                                                                                          </span>
<span id="cb171-109"><a href="reading-data.html#cb171-109" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                           </span>
<span id="cb171-110"><a href="reading-data.html#cb171-110" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                           </span>
<span id="cb171-111"><a href="reading-data.html#cb171-111" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                           </span>
<span id="cb171-112"><a href="reading-data.html#cb171-112" aria-hidden="true" tabindex="-1"></a>                                                                                                                                                                           </span>
<span id="cb171-113"><a href="reading-data.html#cb171-113" aria-hidden="true" tabindex="-1"></a>       ID      </span>
<span id="cb171-114"><a href="reading-data.html#cb171-114" aria-hidden="true" tabindex="-1"></a> Min.   <span class="sc">:</span>   <span class="dv">1</span>  </span>
<span id="cb171-115"><a href="reading-data.html#cb171-115" aria-hidden="true" tabindex="-1"></a> 1st Qu.<span class="sc">:</span><span class="dv">1916</span>  </span>
<span id="cb171-116"><a href="reading-data.html#cb171-116" aria-hidden="true" tabindex="-1"></a> Median <span class="sc">:</span><span class="dv">3832</span>  </span>
<span id="cb171-117"><a href="reading-data.html#cb171-117" aria-hidden="true" tabindex="-1"></a> Mean   <span class="sc">:</span><span class="dv">3833</span>  </span>
<span id="cb171-118"><a href="reading-data.html#cb171-118" aria-hidden="true" tabindex="-1"></a> 3rd Qu.<span class="sc">:</span><span class="dv">5750</span>  </span>
<span id="cb171-119"><a href="reading-data.html#cb171-119" aria-hidden="true" tabindex="-1"></a> Max.   <span class="sc">:</span><span class="dv">7667</span>  </span>
<span id="cb171-120"><a href="reading-data.html#cb171-120" aria-hidden="true" tabindex="-1"></a>               </span></code></pre></div>
<p>Let’s examine the numeric and date variables first:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="reading-data.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span>)</span></code></pre></div>
<p><img src="image/police-violence-numeric-date-1.png" width="2100" /></p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="reading-data.html#cb173-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-2"><a href="reading-data.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="co"># hist(police_violence$`Date of Incident (month/day/year)`) </span></span>
<span id="cb173-3"><a href="reading-data.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="co"># This didn&#39;t work - it wants me to specify breaks</span></span>
<span id="cb173-4"><a href="reading-data.html#cb173-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-5"><a href="reading-data.html#cb173-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Instead, lets see if ggplot handles it better - from R4DS</span></span>
<span id="cb173-6"><a href="reading-data.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb173-7"><a href="reading-data.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(police_violence, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Date of Incident (month/day/year)</span><span class="st">`</span>)) <span class="sc">+</span> </span>
<span id="cb173-8"><a href="reading-data.html#cb173-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span>
<span id="cb173-9"><a href="reading-data.html#cb173-9" aria-hidden="true" tabindex="-1"></a><span class="st">`</span><span class="at">stat_bin()</span><span class="st">`</span> using <span class="st">`</span><span class="at">bins = 30</span><span class="st">`</span>. Pick better value with <span class="st">`</span><span class="at">binwidth</span><span class="st">`</span>.</span></code></pre></div>
<p><img src="image/police-violence-numeric-date-2.png" width="2100" /></p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="reading-data.html#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(police_violence, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">Date of Incident (month/day/year)</span><span class="st">`</span>)) <span class="sc">+</span> </span>
<span id="cb174-2"><a href="reading-data.html#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code></pre></div>
<p><img src="image/police-violence-numeric-date-3.png" width="2100" /></p>
<p>Let’s look at the victims’ gender and race:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="reading-data.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span>, <span class="at">useNA =</span> <span class="st">&#39;ifany&#39;</span>)</span>
<span id="cb175-2"><a href="reading-data.html#cb175-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-3"><a href="reading-data.html#cb175-3" aria-hidden="true" tabindex="-1"></a>           Asian            Black         Hispanic  Native American </span>
<span id="cb175-4"><a href="reading-data.html#cb175-4" aria-hidden="true" tabindex="-1"></a>             <span class="dv">118</span>             <span class="dv">1944</span>             <span class="dv">1335</span>              <span class="dv">112</span> </span>
<span id="cb175-5"><a href="reading-data.html#cb175-5" aria-hidden="true" tabindex="-1"></a>Pacific Islander     Unknown race     Unknown Race            White </span>
<span id="cb175-6"><a href="reading-data.html#cb175-6" aria-hidden="true" tabindex="-1"></a>              <span class="dv">42</span>              <span class="dv">670</span>               <span class="dv">64</span>             <span class="dv">3378</span> </span>
<span id="cb175-7"><a href="reading-data.html#cb175-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s gender</span><span class="st">`</span>)</span>
<span id="cb175-8"><a href="reading-data.html#cb175-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-9"><a href="reading-data.html#cb175-9" aria-hidden="true" tabindex="-1"></a>     Female        Male Transgender     Unknown </span>
<span id="cb175-10"><a href="reading-data.html#cb175-10" aria-hidden="true" tabindex="-1"></a>        <span class="dv">391</span>        <span class="dv">7253</span>           <span class="dv">7</span>           <span class="dv">4</span> </span>
<span id="cb175-11"><a href="reading-data.html#cb175-11" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span>, police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s gender</span><span class="st">`</span>)</span>
<span id="cb175-12"><a href="reading-data.html#cb175-12" aria-hidden="true" tabindex="-1"></a>                  </span>
<span id="cb175-13"><a href="reading-data.html#cb175-13" aria-hidden="true" tabindex="-1"></a>                   Female Male Transgender Unknown</span>
<span id="cb175-14"><a href="reading-data.html#cb175-14" aria-hidden="true" tabindex="-1"></a>  Asian                 <span class="dv">6</span>  <span class="dv">111</span>           <span class="dv">0</span>       <span class="dv">1</span></span>
<span id="cb175-15"><a href="reading-data.html#cb175-15" aria-hidden="true" tabindex="-1"></a>  Black                <span class="dv">69</span> <span class="dv">1871</span>           <span class="dv">2</span>       <span class="dv">1</span></span>
<span id="cb175-16"><a href="reading-data.html#cb175-16" aria-hidden="true" tabindex="-1"></a>  Hispanic             <span class="dv">49</span> <span class="dv">1283</span>           <span class="dv">1</span>       <span class="dv">0</span></span>
<span id="cb175-17"><a href="reading-data.html#cb175-17" aria-hidden="true" tabindex="-1"></a>  Native American       <span class="dv">7</span>  <span class="dv">104</span>           <span class="dv">0</span>       <span class="dv">0</span></span>
<span id="cb175-18"><a href="reading-data.html#cb175-18" aria-hidden="true" tabindex="-1"></a>  Pacific Islander      <span class="dv">2</span>   <span class="dv">40</span>           <span class="dv">0</span>       <span class="dv">0</span></span>
<span id="cb175-19"><a href="reading-data.html#cb175-19" aria-hidden="true" tabindex="-1"></a>  Unknown race         <span class="dv">33</span>  <span class="dv">632</span>           <span class="dv">1</span>       <span class="dv">2</span></span>
<span id="cb175-20"><a href="reading-data.html#cb175-20" aria-hidden="true" tabindex="-1"></a>  Unknown Race          <span class="dv">2</span>   <span class="dv">62</span>           <span class="dv">0</span>       <span class="dv">0</span></span>
<span id="cb175-21"><a href="reading-data.html#cb175-21" aria-hidden="true" tabindex="-1"></a>  White               <span class="dv">223</span> <span class="dv">3150</span>           <span class="dv">3</span>       <span class="dv">0</span></span>
<span id="cb175-22"><a href="reading-data.html#cb175-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-23"><a href="reading-data.html#cb175-23" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">table</span>(police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span>, police_violence<span class="sc">$</span><span class="st">`</span><span class="at">Victim&#39;s gender</span><span class="st">`</span>),</span>
<span id="cb175-24"><a href="reading-data.html#cb175-24" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Police Killing by Race, Gender&quot;</span>)</span></code></pre></div>
<p><img src="image/police-violence-gender-race-1.png" width="2100" /></p>
<p>We can also look at the age range for each race:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="reading-data.html#cb176-1" aria-hidden="true" tabindex="-1"></a>police_violence <span class="sc">%&gt;%</span></span>
<span id="cb176-2"><a href="reading-data.html#cb176-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get groups with at least 100 observations that aren&#39;t unknown</span></span>
<span id="cb176-3"><a href="reading-data.html#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subset</span>(<span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Asian&quot;</span>, <span class="st">&quot;Black&quot;</span>, <span class="st">&quot;Native American&quot;</span>, <span class="st">&quot;Hispanic&quot;</span>, <span class="st">&quot;White&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb176-4"><a href="reading-data.html#cb176-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">boxplot</span>(<span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Victim&#39;s race</span><span class="st">`</span>, <span class="at">data =</span> .)</span></code></pre></div>
<p><img src="image/unnamed-chunk-9-1.png" width="2100" /></p>
<p>And examine the age range for each gender as well:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="reading-data.html#cb177-1" aria-hidden="true" tabindex="-1"></a>police_violence <span class="sc">%&gt;%</span></span>
<span id="cb177-2"><a href="reading-data.html#cb177-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">boxplot</span>(<span class="st">`</span><span class="at">Victim&#39;s age</span><span class="st">`</span> <span class="sc">~</span> <span class="st">`</span><span class="at">Victim&#39;s gender</span><span class="st">`</span>, <span class="at">data =</span> .)</span></code></pre></div>
<p><img src="image/police-violence-age-1.png" width="2100" />
The thing I’m honestly most surprised at with this plot is that there are so many elderly individuals (of both genders) shot. That’s not a realization I’d normally construct this plot for, but the visual emphasis on the outliers in a boxplot makes it much easier to focus on that aspect of the data.</p>
My analysis in R was a bit more free-form than in SAS - in SAS, I proceeded fairly directly through each procedure, while in R, I could investigate things that caught my eye along the way more easily. I didn’t focus as much on what we’d need to clean up in R (because the same problems exist that we identified when using SAS).
</details>
</div>
<div id="skimr-package" class="section level4" number="4.6.2.1">
<h4><span class="header-section-number">4.6.2.1</span> <code>skimr</code> package</h4>
<div class="note">
<p>I discovered this package while looking over the material in this chapter a second time (so this is new as of 2020/09/07).</p>
</div>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="reading-data.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="st">&quot;skimr&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()) <span class="fu">install.packages</span>(<span class="st">&quot;skimr&quot;</span>)</span>
<span id="cb178-2"><a href="reading-data.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span>
<span id="cb178-3"><a href="reading-data.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(police_violence)</span></code></pre></div>
<table>
<caption><span id="tab:skimr">Table 4.1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">police_violence</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">7663</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">27</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">23</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">3</td>
</tr>
<tr class="even">
<td align="left">POSIXct</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<colgroup>
<col width="74%" />
<col width="4%" />
<col width="6%" />
<col width="1%" />
<col width="2%" />
<col width="2%" />
<col width="3%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Victim’s name</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">7</td>
<td align="right">49</td>
<td align="right">0</td>
<td align="right">7411</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Victim’s gender</td>
<td align="right">8</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Victim’s race</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">URL of image of victim</td>
<td align="right">3462</td>
<td align="right">0.55</td>
<td align="right">27</td>
<td align="right">10527</td>
<td align="right">0</td>
<td align="right">4192</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Street Address of Incident</td>
<td align="right">83</td>
<td align="right">0.99</td>
<td align="right">3</td>
<td align="right">73</td>
<td align="right">0</td>
<td align="right">7487</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">City</td>
<td align="right">6</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">29</td>
<td align="right">0</td>
<td align="right">2884</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">State</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">51</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Zipcode</td>
<td align="right">39</td>
<td align="right">0.99</td>
<td align="right">4</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">4996</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">County</td>
<td align="right">15</td>
<td align="right">1.00</td>
<td align="right">3</td>
<td align="right">80</td>
<td align="right">0</td>
<td align="right">1110</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Agency responsible for death</td>
<td align="right">16</td>
<td align="right">1.00</td>
<td align="right">7</td>
<td align="right">177</td>
<td align="right">0</td>
<td align="right">2853</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Cause of death</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">39</td>
<td align="right">0</td>
<td align="right">30</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">A brief description of the circumstances surrounding the death</td>
<td align="right">20</td>
<td align="right">1.00</td>
<td align="right">30</td>
<td align="right">1631</td>
<td align="right">0</td>
<td align="right">7581</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Official disposition of death (justified or other)</td>
<td align="right">256</td>
<td align="right">0.97</td>
<td align="right">7</td>
<td align="right">176</td>
<td align="right">0</td>
<td align="right">97</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Criminal Charges?</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">77</td>
<td align="right">0</td>
<td align="right">29</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Link to news article or photo of official document</td>
<td align="right">12</td>
<td align="right">1.00</td>
<td align="right">21</td>
<td align="right">312</td>
<td align="right">0</td>
<td align="right">7560</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Symptoms of mental illness?</td>
<td align="right">11</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Unarmed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">7</td>
<td align="right">15</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Alleged Weapon (Source: WaPo)</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">32</td>
<td align="right">0</td>
<td align="right">169</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Alleged Threat Level (Source: WaPo)</td>
<td align="right">2382</td>
<td align="right">0.69</td>
<td align="right">5</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Fleeing (Source: WaPo)</td>
<td align="right">2616</td>
<td align="right">0.66</td>
<td align="right">1</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Body Camera (Source: WaPo)</td>
<td align="right">2869</td>
<td align="right">0.63</td>
<td align="right">2</td>
<td align="right">18</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Off-Duty Killing?</td>
<td align="right">7437</td>
<td align="right">0.03</td>
<td align="right">8</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Geography (via Trulia methodology based on zipcode population density: <a href="http://jedkolko.com/wp-content/uploads/2015/05/full-ZCTA-urban-suburban-rural-classification.xlsx" class="uri">http://jedkolko.com/wp-content/uploads/2015/05/full-ZCTA-urban-suburban-rural-classification.xlsx</a> )</td>
<td align="right">67</td>
<td align="right">0.99</td>
<td align="right">5</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<colgroup>
<col width="34%" />
<col width="8%" />
<col width="12%" />
<col width="7%" />
<col width="7%" />
<col width="2%" />
<col width="7%" />
<col width="4%" />
<col width="7%" />
<col width="4%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Victim’s age</td>
<td align="right">206</td>
<td align="right">0.97</td>
<td align="right">36.80</td>
<td align="right">13.21</td>
<td align="right">1</td>
<td align="right">27.00</td>
<td align="right">34</td>
<td align="right">45.00</td>
<td align="right">107</td>
<td align="left">▂▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">WaPo ID (If included in WaPo database)</td>
<td align="right">2785</td>
<td align="right">0.64</td>
<td align="right">2723.53</td>
<td align="right">1534.33</td>
<td align="right">3</td>
<td align="right">1402.25</td>
<td align="right">2722</td>
<td align="right">4050.75</td>
<td align="right">5439</td>
<td align="left">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td align="left">ID</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3832.89</td>
<td align="right">2213.34</td>
<td align="right">1</td>
<td align="right">1916.50</td>
<td align="right">3832</td>
<td align="right">5749.50</td>
<td align="right">7667</td>
<td align="left">▇▇▇▇▇</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: POSIXct</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">median</th>
<th align="right">n_unique</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Date of Incident (month/day/year)</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">2013-01-01</td>
<td align="left">2019-12-31</td>
<td align="left">2016-07-07</td>
<td align="right">2404</td>
</tr>
</tbody>
</table>
<p>You may find the summary tables given by the <code>skimr</code> package to be more appealing - it separates the variables out by type, provides histograms of numeric variables, and is compatible with rmarkdown/knitr.</p>
<p>If you want summary statistics by group, you can get that using the <code>dplyr</code> package functions <code>select</code> and <code>group_by</code>, which we will learn more about in the next section. (I’m cheating a bit by mentioning it now, but it’s just so useful!)</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="reading-data.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb179-2"><a href="reading-data.html#cb179-2" aria-hidden="true" tabindex="-1"></a>police_violence <span class="sc">%&gt;%</span></span>
<span id="cb179-3"><a href="reading-data.html#cb179-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># get variables which are important</span></span>
<span id="cb179-4"><a href="reading-data.html#cb179-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;age$|race|gender|Cause|Symptoms|Unarmed&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb179-5"><a href="reading-data.html#cb179-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Unarmed) <span class="sc">%&gt;%</span></span>
<span id="cb179-6"><a href="reading-data.html#cb179-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>()</span></code></pre></div>
<table>
<caption><span id="tab:skimr2">Table 4.2: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">7663</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">6</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">4</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">Unarmed</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="left">Unarmed</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Victim’s gender</td>
<td align="left">Allegedly Armed</td>
<td align="right">3</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Victim’s gender</td>
<td align="left">Unarmed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Victim’s gender</td>
<td align="left">Unclear</td>
<td align="right">2</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">7</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Victim’s gender</td>
<td align="left">Vehicle</td>
<td align="right">3</td>
<td align="right">0.99</td>
<td align="right">4</td>
<td align="right">11</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Victim’s race</td>
<td align="left">Allegedly Armed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Victim’s race</td>
<td align="left">Unarmed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Victim’s race</td>
<td align="left">Unclear</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Victim’s race</td>
<td align="left">Vehicle</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Cause of death</td>
<td align="left">Allegedly Armed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">4</td>
<td align="right">39</td>
<td align="right">0</td>
<td align="right">21</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Cause of death</td>
<td align="left">Unarmed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">39</td>
<td align="right">0</td>
<td align="right">17</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Cause of death</td>
<td align="left">Unclear</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Cause of death</td>
<td align="left">Vehicle</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Symptoms of mental illness?</td>
<td align="left">Allegedly Armed</td>
<td align="right">10</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Symptoms of mental illness?</td>
<td align="left">Unarmed</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Symptoms of mental illness?</td>
<td align="left">Unclear</td>
<td align="right">1</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Symptoms of mental illness?</td>
<td align="left">Vehicle</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="left">Unarmed</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Victim’s age</td>
<td align="left">Allegedly Armed</td>
<td align="right">139</td>
<td align="right">0.97</td>
<td align="right">37.82</td>
<td align="right">13.64</td>
<td align="right">14</td>
<td align="right">27</td>
<td align="right">35</td>
<td align="right">47</td>
<td align="right">107</td>
<td align="left">▇▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">Victim’s age</td>
<td align="left">Unarmed</td>
<td align="right">16</td>
<td align="right">0.99</td>
<td align="right">34.36</td>
<td align="right">12.18</td>
<td align="right">1</td>
<td align="right">25</td>
<td align="right">33</td>
<td align="right">41</td>
<td align="right">89</td>
<td align="left">▁▇▅▁▁</td>
</tr>
<tr class="odd">
<td align="left">Victim’s age</td>
<td align="left">Unclear</td>
<td align="right">34</td>
<td align="right">0.95</td>
<td align="right">35.36</td>
<td align="right">11.60</td>
<td align="right">15</td>
<td align="right">26</td>
<td align="right">34</td>
<td align="right">43</td>
<td align="right">76</td>
<td align="left">▇▇▆▂▁</td>
</tr>
<tr class="even">
<td align="left">Victim’s age</td>
<td align="left">Vehicle</td>
<td align="right">17</td>
<td align="right">0.97</td>
<td align="right">32.82</td>
<td align="right">10.75</td>
<td align="right">15</td>
<td align="right">25</td>
<td align="right">31</td>
<td align="right">38</td>
<td align="right">77</td>
<td align="left">▆▇▃▁▁</td>
</tr>
</tbody>
</table>
<p>This summary allows us to see very quickly that there is a difference in the age distribution of unarmed individuals who died during an encounter with police - unarmed individuals are likely to be significantly older on average.</p>
<p>If you are using <code>skimr</code> in knitr/rmarkdown, your data frame will automatically render as a custom-printed table if the last line in the code chunk is a <code>skim_df</code> object. There are many ways to customize the summary statistics detailed in the package that I’m not going to go into here, but you are free to investigate if you like the way these summaries look.</p>
<p>I mention this package now because it is appropriate for EDA, but it may not be intuitive or easy to use in the way you might want to use it until after we cover the <code>dplyr</code> package in the <a href="manipulating-data.html#manipulating-data">manipulating data module</a> and the <code>tidyr</code> package in the <a href="transforming-data.html#transforming-data">transforming data module</a>.</p>
</div>
<div id="janitor-package" class="section level4" number="4.6.2.2">
<h4><span class="header-section-number">4.6.2.2</span> <code>janitor</code> package</h4>
<p>The janitor package has functions for cleaning up messy data. One of its best features is the <code>clean_names()</code> function, which creates names based on a capitalization/separation scheme of your choosing.</p>
<div class="figure">
<img src="https://github.com/allisonhorst/stats-illustrations/raw/master/rstats-artwork/janitor_clean_names.png" alt="" />
<p class="caption">janitor and clean_names() by Allison Horst</p>
</div>
</div>
</div>
<div id="comparison" class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Comparison</h3>
<blockquote>
<p>You must realize that R is written by experts in
statistics and statistical computing who, despite
popular opinion, do not believe that everything in
SAS and SPSS is worth copying. Some things done
in such packages, which trace their roots back to
the days of punched cards and magnetic tape when
fitting a single linear model may take several days
because your first 5 attempts failed due to syntax
errors in the JCL or the SAS code, still reflect the
approach of “give me every possible statistic that
could be calculated from this model, whether or
not it makes sense.” The approach taken in R is
different. The underlying assumption is that the
useR is thinking about the analysis while doing it. – Douglas Bates</p>
</blockquote>
</div>
</div>
<div id="references-and-links-2" class="section level2 learn-more unnumbered">
<h2>References and Links</h2>
<ul>
<li><a href="https://support.sas.com/resources/papers/proceedings17/0856-2017.pdf">Reading JSON in SAS</a> – You know SAS documentation is getting weird when they advertise a method as “the sexiest way to import JSON data into SAS.”</li>
<li><a href="http://proc-x.com/2015/05/import-rdata-to-sas-along-with-labels/">Reading Rdata files in SAS</a></li>
<li><a href="https://blogs.sas.com/content/sgf/2015/04/17/turning-text-files-into-sas-data-sets-6-common-problems-and-their-solutions/">Common problems with SAS data files</a></li>
<li>U.S. Department of Transportation, Federal Highway Administration, 2009 National Household
Travel Survey. URL: <a href="http://nhts.ornl.gov" class="uri">http://nhts.ornl.gov</a>. Data acquired from data.world.</li>
<li><a href="https://cran.r-project.org/web/packages/RSQLite/vignettes/RSQLite.html">RSQLite vignette</a></li>
<li><a href="https://speakerdeck.com/jennybc/spreadsheets">Slides from Jenny Bryan’s talk on spreadsheets</a> (sadly, no audio. It was a good talk.)</li>
<li>The <a href="https://www.tidyverse.org/blog/2019/05/vroom-1-0-0/"><code>vroom</code> package</a> works like <code>read_csv</code> but allows you to read in and write to many files at incredible speeds.</li>
</ul>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="14">
<li id="fn14"><p>though there are a seemingly infinite number of actual formats, and they pop up at the most inconvenient times<a href="reading-data.html#fnref14" class="footnote-back">↩︎</a></p></li>
<li id="fn15"><p>I tried, and it crashed SAS on my machine.<a href="reading-data.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p>A currently maintained version of the library is <a href="https://github.com/cyberemissary/mdbtools">here</a> and should work for UNIX platforms. It may be possible to install the library on Windows using the UNIX subsystem, per <a href="https://github.com/brianb/mdbtools/issues/107">this thread</a><a href="reading-data.html#fnref16" class="footnote-back">↩︎</a></p></li>
<li id="fn17"><p>On one of my machines, I also had to make sure the file libodbc.so existed - it was named libodbc.so.1 on my laptop, so a symbolic link fixed the issue.<a href="reading-data.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p>A histogram is a chart which breaks up a continuous variable into ranges, where the height of the bar is proportional to the number of items in the range. A bar chart is similar, but shows the number of occurrences of a discrete variable.<a href="reading-data.html#fnref18" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="organization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="manipulating-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/srvanderplas/unl-stat850/edit/master/04-reading-data.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["https://github.com/srvanderplas/unl-stat850/raw/master/04-reading-data.Rmd"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
