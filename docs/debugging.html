<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Module 8 Principles of Debugging | Stat 850: Computing Tools for Statisticians</title>
  <meta name="description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="generator" content="bookdown 0.22.3 and GitBook 2.6.7" />

  <meta property="og:title" content="Module 8 Principles of Debugging | Stat 850: Computing Tools for Statisticians" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://srvanderplas.github.io/unl-stat850/" />
  <meta property="og:image" content="https://srvanderplas.github.io/unl-stat850//images/cover.png" />
  <meta property="og:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="github-repo" content="srvanderplas/unl-stat850" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Module 8 Principles of Debugging | Stat 850: Computing Tools for Statisticians" />
  
  <meta name="twitter:description" content="Introductions to statistical computing packages and document preparation software. Topics include: graphical techniques, data management, Monte Carlo simulation, dynamic document preparation, presentation software." />
  <meta name="twitter:image" content="https://srvanderplas.github.io/unl-stat850//images/cover.png" />

<meta name="author" content="Susan Vanderplas" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />
<link rel="prev" href="transforming-data.html"/>
<link rel="next" href="data-vis-intro.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<script>

(function() {
  var codes = document.querySelectorAll('pre:not([class])');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Answers';
    // <details><summary>Answers</summary></details>
      d.appendChild(s);
    // move the code into <details>
      p.replaceChild(d, code);
    d.appendChild(code);
  }
})();
</script>
<script>
function unrolltab(evt, tabName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(tabName).style.display = "block";
  evt.currentTarget.className += " active";
}
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="fontawesome-free-5.15.3-web/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introduction to Statistical Computing</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#forward"><i class="fa fa-check"></i>Forward</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-description"><i class="fa fa-check"></i>Course Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-goals"><i class="fa fa-check"></i>Course Goals</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-objectives"><i class="fa fa-check"></i>Course Objectives</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#how-to-use-this-book"><i class="fa fa-check"></i>How to Use This Book</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#header-buttonslinks"><i class="fa fa-check"></i>Header Buttons/Links</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#special-sections"><i class="fa fa-check"></i>Special Sections</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Fundamentals</b></span></li>
<li class="chapter" data-level="1" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>1</b> Tools for Statistical Computing</a>
<ul>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#module-1-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="1.1" data-path="tools.html"><a href="tools.html#setting-up-software"><i class="fa fa-check"></i><b>1.1</b> Setting Up Software</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="tools.html"><a href="tools.html#setting-up-sas"><i class="fa fa-check"></i><b>1.1.1</b> SAS</a></li>
<li class="chapter" data-level="1.1.2" data-path="tools.html"><a href="tools.html#setting-up-R"><i class="fa fa-check"></i><b>1.1.2</b> R</a></li>
<li class="chapter" data-level="1.1.3" data-path="tools.html"><a href="tools.html#setting-up-rstudio"><i class="fa fa-check"></i><b>1.1.3</b> RStudio</a></li>
<li class="chapter" data-level="1.1.4" data-path="tools.html"><a href="tools.html#setting-up-git"><i class="fa fa-check"></i><b>1.1.4</b> git</a></li>
<li class="chapter" data-level="1.1.5" data-path="tools.html"><a href="tools.html#setting-up-latex"><i class="fa fa-check"></i><b>1.1.5</b> LaTeX</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="tools.html"><a href="tools.html#looking-around-your-environment"><i class="fa fa-check"></i><b>1.2</b> Looking Around Your Environment</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="tools.html"><a href="tools.html#looking-around-Rstudio"><i class="fa fa-check"></i><b>1.2.1</b> R and RStudio</a></li>
<li class="chapter" data-level="" data-path="tools.html"><a href="tools.html#try-it-out"><i class="fa fa-check"></i>Try It Out</a></li>
<li class="chapter" data-level="1.2.2" data-path="tools.html"><a href="tools.html#looking-around-sas"><i class="fa fa-check"></i><b>1.2.2</b> SAS</a></li>
<li class="chapter" data-level="1.2.3" data-path="tools.html"><a href="tools.html#version-control-with-git"><i class="fa fa-check"></i><b>1.2.3</b> Version Control with Git</a></li>
<li class="chapter" data-level="1.2.4" data-path="tools.html"><a href="tools.html#looking-around-latex"><i class="fa fa-check"></i><b>1.2.4</b> LaTeX</a></li>
<li class="chapter" data-level="1.2.5" data-path="tools.html"><a href="tools.html#markdown"><i class="fa fa-check"></i><b>1.2.5</b> Markdown</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="tools.html"><a href="tools.html#some-computer-basics"><i class="fa fa-check"></i><b>1.3</b> Some Computer Basics</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="tools.html"><a href="tools.html#file-systems"><i class="fa fa-check"></i><b>1.3.1</b> File Systems</a></li>
<li class="chapter" data-level="1.3.2" data-path="tools.html"><a href="tools.html#system-paths"><i class="fa fa-check"></i><b>1.3.2</b> System Paths</a></li>
<li class="chapter" data-level="1.3.3" data-path="tools.html"><a href="tools.html#working-directories"><i class="fa fa-check"></i><b>1.3.3</b> Working Directories</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tools.html"><a href="tools.html#using-version-control-with-rstudio"><i class="fa fa-check"></i><b>1.4</b> Using Version Control (with RStudio)</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="tools.html"><a href="tools.html#create-a-repository"><i class="fa fa-check"></i><b>1.4.1</b> Create a Repository</a></li>
<li class="chapter" data-level="1.4.2" data-path="tools.html"><a href="tools.html#adding-files"><i class="fa fa-check"></i><b>1.4.2</b> Adding files</a></li>
<li class="chapter" data-level="1.4.3" data-path="tools.html"><a href="tools.html#staging-your-changes"><i class="fa fa-check"></i><b>1.4.3</b> Staging your changes</a></li>
<li class="chapter" data-level="1.4.4" data-path="tools.html"><a href="tools.html#committing-your-changes"><i class="fa fa-check"></i><b>1.4.4</b> Committing your changes</a></li>
<li class="chapter" data-level="1.4.5" data-path="tools.html"><a href="tools.html#pushing-and-pulling"><i class="fa fa-check"></i><b>1.4.5</b> Pushing and Pulling</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="tools.html"><a href="tools.html#topic-sequencing"><i class="fa fa-check"></i><b>1.5</b> Topic Sequencing</a></li>
<li class="chapter" data-level="1.6" data-path="tools.html"><a href="tools.html#refs-module-1"><i class="fa fa-check"></i><b>1.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-prog.html"><a href="intro-prog.html"><i class="fa fa-check"></i><b>2</b> Introduction to Statistical Programming</a>
<ul>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#module-2-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#definitions"><i class="fa fa-check"></i>Definitions</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#statistical-programming-languages"><i class="fa fa-check"></i>Statistical Programming Languages</a></li>
<li class="chapter" data-level="2.1" data-path="intro-prog.html"><a href="intro-prog.html#breaking-problems-down"><i class="fa fa-check"></i><b>2.1</b> Breaking Problems Down</a>
<ul>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#try-it-out-1"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="intro-prog.html"><a href="intro-prog.html#variable-types"><i class="fa fa-check"></i><b>2.2</b> Variable types</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro-prog.html"><a href="intro-prog.html#r"><i class="fa fa-check"></i><b>2.2.1</b> R</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro-prog.html"><a href="intro-prog.html#sas"><i class="fa fa-check"></i><b>2.2.2</b> SAS</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro-prog.html"><a href="intro-prog.html#data-structures"><i class="fa fa-check"></i><b>2.3</b> Data structures</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="intro-prog.html"><a href="intro-prog.html#homogeneous-data-structures-r-and-sas"><i class="fa fa-check"></i><b>2.3.1</b> Homogeneous data structures (R and SAS)</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro-prog.html"><a href="intro-prog.html#heterogeneous-data-structures"><i class="fa fa-check"></i><b>2.3.2</b> Heterogeneous data structures</a></li>
<li class="chapter" data-level="2.3.3" data-path="intro-prog.html"><a href="intro-prog.html#indexing"><i class="fa fa-check"></i><b>2.3.3</b> Indexing</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro-prog.html"><a href="intro-prog.html#control-structures"><i class="fa fa-check"></i><b>2.4</b> Control structures</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro-prog.html"><a href="intro-prog.html#if-statements"><i class="fa fa-check"></i><b>2.4.1</b> If statements</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro-prog.html"><a href="intro-prog.html#loops"><i class="fa fa-check"></i><b>2.4.2</b> Loops</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro-prog.html"><a href="intro-prog.html#overgrown-calculators"><i class="fa fa-check"></i><b>2.5</b> Overgrown Calculators</a></li>
<li class="chapter" data-level="" data-path="intro-prog.html"><a href="intro-prog.html#references-and-links"><i class="fa fa-check"></i>References and Links</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="intro-prog.html"><a href="intro-prog.html#cheat-sheets-and-reference-cards"><i class="fa fa-check"></i><b>2.5.1</b> Cheat Sheets and Reference Cards</a></li>
<li class="chapter" data-level="2.5.2" data-path="intro-prog.html"><a href="intro-prog.html#sas-as-taught-in-other-places"><i class="fa fa-check"></i><b>2.5.2</b> SAS (as taught in other places)</a></li>
<li class="chapter" data-level="2.5.3" data-path="intro-prog.html"><a href="intro-prog.html#r-courses-as-taught-elsewhere-and-textbooks"><i class="fa fa-check"></i><b>2.5.3</b> R courses (as taught elsewhere) and Textbooks</a></li>
<li class="chapter" data-level="2.5.4" data-path="intro-prog.html"><a href="intro-prog.html#combination-of-r-and-sas-courses"><i class="fa fa-check"></i><b>2.5.4</b> Combination of R and SAS courses</a></li>
<li class="chapter" data-level="2.5.5" data-path="intro-prog.html"><a href="intro-prog.html#non-exhaustive-list-of-sources-used-to-aggregate-core-programming-concepts"><i class="fa fa-check"></i><b>2.5.5</b> Non-Exhaustive List of Sources used to aggregate “core programming concepts”:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="organization.html"><a href="organization.html"><i class="fa fa-check"></i><b>3</b> Organization: Packages, Functions, Scripts, and Documents</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#module-3-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="3.1" data-path="organization.html"><a href="organization.html#reproducibility-and-markdown"><i class="fa fa-check"></i><b>3.1</b> Reproducibility and Markdown</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#reproducibility-references-and-reading"><i class="fa fa-check"></i>Reproducibility References and Reading</a></li>
<li class="chapter" data-level="3.1.1" data-path="organization.html"><a href="organization.html#rmarkdown"><i class="fa fa-check"></i><b>3.1.1</b> Markdown and R</a></li>
<li class="chapter" data-level="3.1.2" data-path="organization.html"><a href="organization.html#rmarkdown-with-sas"><i class="fa fa-check"></i><b>3.1.2</b> Rmarkdown with… SAS?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="organization.html"><a href="organization.html#functions-and-modules"><i class="fa fa-check"></i><b>3.2</b> Functions and Modules</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-9"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="3.2.1" data-path="organization.html"><a href="organization.html#scope"><i class="fa fa-check"></i><b>3.2.1</b> Scope</a></li>
<li class="chapter" data-level="3.2.2" data-path="organization.html"><a href="organization.html#the-pipe"><i class="fa fa-check"></i><b>3.2.2</b> The Pipe</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="organization.html"><a href="organization.html#procs-and-data-steps"><i class="fa fa-check"></i><b>3.3</b> Procs and Data steps</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-11"><i class="fa fa-check"></i>Try It Out</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="organization.html"><a href="organization.html#scripts"><i class="fa fa-check"></i><b>3.4</b> Scripts</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-12"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-sas"><i class="fa fa-check"></i>Try it out (SAS)</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="organization.html"><a href="organization.html#packages"><i class="fa fa-check"></i><b>3.5</b> Packages</a>
<ul>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#try-it-out-13"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="organization.html"><a href="organization.html#references-and-links-1"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="part"><span><b>II Data Programming</b></span></li>
<li class="chapter" data-level="4" data-path="data-programming-basics.html"><a href="data-programming-basics.html"><i class="fa fa-check"></i><b>4</b> Basics</a>
<ul>
<li class="chapter" data-level="" data-path="data-programming-basics.html"><a href="data-programming-basics.html#module4-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="4.1" data-path="data-programming-basics.html"><a href="data-programming-basics.html#introduction-1"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="data-programming-basics.html"><a href="data-programming-basics.html#example-1-art"><i class="fa fa-check"></i><b>4.2</b> Example 1: Art</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>5</b> External Data</a>
<ul>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#module5-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="5.1" data-path="reading-data.html"><a href="reading-data.html#external-data-formats"><i class="fa fa-check"></i><b>5.1</b> External Data Formats</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reading-data.html"><a href="reading-data.html#text-files"><i class="fa fa-check"></i><b>5.1.1</b> Text Files</a></li>
<li class="chapter" data-level="5.1.2" data-path="reading-data.html"><a href="reading-data.html#spreadsheets"><i class="fa fa-check"></i><b>5.1.2</b> Spreadsheets</a></li>
<li class="chapter" data-level="5.1.3" data-path="reading-data.html"><a href="reading-data.html#binary-files"><i class="fa fa-check"></i><b>5.1.3</b> Binary Files</a></li>
<li class="chapter" data-level="5.1.4" data-path="reading-data.html"><a href="reading-data.html#databases"><i class="fa fa-check"></i><b>5.1.4</b> Databases</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reading-data.html"><a href="reading-data.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>5.2</b> Exploratory Data Analysis</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reading-data.html"><a href="reading-data.html#sas-1"><i class="fa fa-check"></i><b>5.2.1</b> SAS</a></li>
<li class="chapter" data-level="5.2.2" data-path="reading-data.html"><a href="reading-data.html#r-1"><i class="fa fa-check"></i><b>5.2.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reading-data.html"><a href="reading-data.html#comparison-between-r-and-sas"><i class="fa fa-check"></i><b>5.3</b> Comparison between R and SAS</a></li>
<li class="chapter" data-level="" data-path="reading-data.html"><a href="reading-data.html#references-and-links-2"><i class="fa fa-check"></i>References and Links</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="manipulating-data.html"><a href="manipulating-data.html"><i class="fa fa-check"></i><b>6</b> Manipulating Data</a>
<ul>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#module6-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="6.1" data-path="manipulating-data.html"><a href="manipulating-data.html#tidy-data"><i class="fa fa-check"></i><b>6.1</b> Tidy Data</a></li>
<li class="chapter" data-level="6.2" data-path="manipulating-data.html"><a href="manipulating-data.html#filter-pick-cases-rows-based-on-their-values"><i class="fa fa-check"></i><b>6.2</b> Filter: Pick cases (rows) based on their values</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="manipulating-data.html"><a href="manipulating-data.html#common-filter-tasks"><i class="fa fa-check"></i><b>6.2.1</b> Common Filter() Tasks</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#try-it-out-17"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="manipulating-data.html"><a href="manipulating-data.html#select-pick-columns"><i class="fa fa-check"></i><b>6.3</b> Select: Pick columns</a></li>
<li class="chapter" data-level="6.4" data-path="manipulating-data.html"><a href="manipulating-data.html#mutate-add-and-transform-variables"><i class="fa fa-check"></i><b>6.4</b> Mutate: Add and transform variables</a></li>
<li class="chapter" data-level="6.5" data-path="manipulating-data.html"><a href="manipulating-data.html#summarize"><i class="fa fa-check"></i><b>6.5</b> Summarize</a></li>
<li class="chapter" data-level="6.6" data-path="manipulating-data.html"><a href="manipulating-data.html#group-by-power"><i class="fa fa-check"></i><b>6.6</b> Group By + (?) = Power!</a></li>
<li class="chapter" data-level="6.7" data-path="manipulating-data.html"><a href="manipulating-data.html#other-dplyr-functions-across-relocate"><i class="fa fa-check"></i><b>6.7</b> Other <code>dplyr</code> functions: across, relocate</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#try-it-out-18"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="" data-path="manipulating-data.html"><a href="manipulating-data.html#references"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="transforming-data.html"><a href="transforming-data.html"><i class="fa fa-check"></i><b>7</b> Transforming Data</a>
<ul>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#module7-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="7.1" data-path="transforming-data.html"><a href="transforming-data.html#identifying-the-problem-messy-data"><i class="fa fa-check"></i><b>7.1</b> Identifying the problem: Messy data</a>
<ul>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#try-it-out-19"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="transforming-data.html"><a href="transforming-data.html#string-operations-creating-new-variables-and-separating-multi-variable-columns"><i class="fa fa-check"></i><b>7.2</b> String operations: Creating new variables and separating multi-variable columns</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="transforming-data.html"><a href="transforming-data.html#basic-string-operations"><i class="fa fa-check"></i><b>7.2.1</b> Basic String Operations</a></li>
<li class="chapter" data-level="7.2.2" data-path="transforming-data.html"><a href="transforming-data.html#regular-expressions"><i class="fa fa-check"></i><b>7.2.2</b> Regular Expressions</a></li>
<li class="chapter" data-level="7.2.3" data-path="transforming-data.html"><a href="transforming-data.html#joining-and-splitting-variables"><i class="fa fa-check"></i><b>7.2.3</b> Joining and Splitting Variables</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="transforming-data.html"><a href="transforming-data.html#pivot-operations"><i class="fa fa-check"></i><b>7.3</b> Pivot operations</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="transforming-data.html"><a href="transforming-data.html#longer"><i class="fa fa-check"></i><b>7.3.1</b> Longer</a></li>
<li class="chapter" data-level="7.3.2" data-path="transforming-data.html"><a href="transforming-data.html#wider"><i class="fa fa-check"></i><b>7.3.2</b> Wider</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="transforming-data.html"><a href="transforming-data.html#relational-data-and-joining-tables"><i class="fa fa-check"></i><b>7.4</b> Relational Data and Joining Tables</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="transforming-data.html"><a href="transforming-data.html#demonstration-dataset-setup"><i class="fa fa-check"></i><b>7.4.1</b> Demonstration dataset setup</a></li>
<li class="chapter" data-level="7.4.2" data-path="transforming-data.html"><a href="transforming-data.html#mutating-joins"><i class="fa fa-check"></i><b>7.4.2</b> Mutating joins</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="transforming-data.html"><a href="transforming-data.html#example-gas-prices-data"><i class="fa fa-check"></i><b>7.5</b> Example: Gas Prices Data</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="transforming-data.html"><a href="transforming-data.html#option-1-manual-formatting-in-excel"><i class="fa fa-check"></i><b>7.5.1</b> Option 1: Manual formatting in Excel</a></li>
<li class="chapter" data-level="7.5.2" data-path="transforming-data.html"><a href="transforming-data.html#option-2-r"><i class="fa fa-check"></i><b>7.5.2</b> Option 2: R</a></li>
<li class="chapter" data-level="7.5.3" data-path="transforming-data.html"><a href="transforming-data.html#option-3-sas"><i class="fa fa-check"></i><b>7.5.3</b> Option 3: SAS</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="transforming-data.html"><a href="transforming-data.html#references-1"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>8</b> Principles of Debugging</a>
<ul>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#module8-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="8.1" data-path="debugging.html"><a href="debugging.html#step-1-check-your-spelling."><i class="fa fa-check"></i><b>8.1</b> Step 1: Check your spelling.</a></li>
<li class="chapter" data-level="8.2" data-path="debugging.html"><a href="debugging.html#defensive-programming"><i class="fa fa-check"></i><b>8.2</b> Defensive Programming</a></li>
<li class="chapter" data-level="8.3" data-path="debugging.html"><a href="debugging.html#general-debugging-strategies"><i class="fa fa-check"></i><b>8.3</b> General Debugging Strategies</a></li>
<li class="chapter" data-level="8.4" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-r"><i class="fa fa-check"></i><b>8.4</b> Debugging Tools in R</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="debugging.html"><a href="debugging.html#low-tech-debugging-with-print-and-other-tools"><i class="fa fa-check"></i><b>8.4.1</b> Low tech debugging with print() and other tools</a></li>
<li class="chapter" data-level="8.4.2" data-path="debugging.html"><a href="debugging.html#after-an-error-has-occurred---traceback"><i class="fa fa-check"></i><b>8.4.2</b> After an error has occurred - <code>traceback()</code></a></li>
<li class="chapter" data-level="8.4.3" data-path="debugging.html"><a href="debugging.html#browser---debugging-your-own-code-interactively"><i class="fa fa-check"></i><b>8.4.3</b> <code>browser()</code> - debugging your own code, interactively</a></li>
<li class="chapter" data-level="8.4.4" data-path="debugging.html"><a href="debugging.html#debug---the-general-debugging-workhorse"><i class="fa fa-check"></i><b>8.4.4</b> <code>debug()</code> - the general debugging workhorse</a></li>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#try-it-out-25"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="debugging.html"><a href="debugging.html#debugging-tools-in-sas"><i class="fa fa-check"></i><b>8.5</b> Debugging Tools in SAS</a></li>
<li class="chapter" data-level="8.6" data-path="debugging.html"><a href="debugging.html#minimal-working-examples"><i class="fa fa-check"></i><b>8.6</b> Minimal Working Examples</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="debugging.html"><a href="debugging.html#example-mwes"><i class="fa fa-check"></i><b>8.6.1</b> Example: MWEs</a></li>
<li class="chapter" data-level="8.6.2" data-path="debugging.html"><a href="debugging.html#try-it-out-26"><i class="fa fa-check"></i><b>8.6.2</b> Try It Out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="debugging.html"><a href="debugging.html#references-2"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="part"><span><b>III Applications</b></span></li>
<li class="chapter" data-level="9" data-path="data-vis-intro.html"><a href="data-vis-intro.html"><i class="fa fa-check"></i><b>9</b> Introduction to Data Visualization</a>
<ul>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#module9-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="9.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#why-do-we-create-graphics"><i class="fa fa-check"></i><b>9.1</b> Why do we create graphics?</a></li>
<li class="chapter" data-level="9.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#general-approaches-to-creating-graphics"><i class="fa fa-check"></i><b>9.2</b> General approaches to creating graphics</a></li>
<li class="chapter" data-level="9.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>9.3</b> The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#demonstration-aesthetic-mappings-and-basic-plots"><i class="fa fa-check"></i><b>9.3.1</b> Demonstration: Aesthetic Mappings and Basic Plots</a></li>
<li class="chapter" data-level="9.3.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#syntax-and-general-structure-layers"><i class="fa fa-check"></i><b>9.3.2</b> Syntax and General Structure: Layers</a></li>
<li class="chapter" data-level="9.3.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#statistics-and-different-types-of-plots"><i class="fa fa-check"></i><b>9.3.3</b> Statistics and Different Types of Plots</a></li>
<li class="chapter" data-level="9.3.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#small-multiples"><i class="fa fa-check"></i><b>9.3.4</b> Small Multiples</a></li>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#try-it-out-30"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#good-charts"><i class="fa fa-check"></i><b>9.4</b> Good charts</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#perceptual-and-cognitive-factors"><i class="fa fa-check"></i><b>9.4.1</b> Perceptual and Cognitive Factors</a></li>
<li class="chapter" data-level="9.4.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#general-guidelines-for-accuracy"><i class="fa fa-check"></i><b>9.4.2</b> General guidelines for accuracy</a></li>
<li class="chapter" data-level="9.4.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#how-do-we-know"><i class="fa fa-check"></i><b>9.4.3</b> How do we know?</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="data-vis-intro.html"><a href="data-vis-intro.html#other-things-worth-exploring-and-future-expansions-for-this-chapter"><i class="fa fa-check"></i><b>9.5</b> Other things worth exploring (and future expansions for this chapter)</a></li>
<li class="chapter" data-level="" data-path="data-vis-intro.html"><a href="data-vis-intro.html#references-3"><i class="fa fa-check"></i>References</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="data-vis-intro.html"><a href="data-vis-intro.html#motivation"><i class="fa fa-check"></i><b>9.5.1</b> Motivation</a></li>
<li class="chapter" data-level="9.5.2" data-path="data-vis-intro.html"><a href="data-vis-intro.html#r-graphics"><i class="fa fa-check"></i><b>9.5.2</b> R graphics</a></li>
<li class="chapter" data-level="9.5.3" data-path="data-vis-intro.html"><a href="data-vis-intro.html#sas-graphics"><i class="fa fa-check"></i><b>9.5.3</b> SAS graphics</a></li>
<li class="chapter" data-level="9.5.4" data-path="data-vis-intro.html"><a href="data-vis-intro.html#types-of-charts-and-chart-styling"><i class="fa fa-check"></i><b>9.5.4</b> Types of Charts and Chart Styling</a></li>
<li class="chapter" data-level="9.5.5" data-path="data-vis-intro.html"><a href="data-vis-intro.html#other-graphics-packages"><i class="fa fa-check"></i><b>9.5.5</b> Other Graphics packages</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>10</b> Simulation and Reproducibility</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#module10-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="10.1" data-path="simulation.html"><a href="simulation.html#pseudorandom-number-generation"><i class="fa fa-check"></i><b>10.1</b> Pseudorandom Number Generation</a></li>
<li class="chapter" data-level="10.2" data-path="simulation.html"><a href="simulation.html#built-in-simulations-from-distributions"><i class="fa fa-check"></i><b>10.2</b> Built-in simulations from distributions</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-32"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="simulation.html"><a href="simulation.html#simulation-to-test-model-assumptions"><i class="fa fa-check"></i><b>10.3</b> Simulation to test model assumptions</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-33"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="simulation.html"><a href="simulation.html#monte-carlo-methods"><i class="fa fa-check"></i><b>10.4</b> Monte Carlo methods</a>
<ul>
<li class="chapter" data-level="" data-path="simulation.html"><a href="simulation.html#try-it-out-34"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="simulation.html"><a href="simulation.html#references-4"><i class="fa fa-check"></i><b>10.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="docs-reports.html"><a href="docs-reports.html"><i class="fa fa-check"></i><b>11</b> Documents and Reports</a>
<ul>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#module11-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="11.1" data-path="docs-reports.html"><a href="docs-reports.html#literate-programming-knitr-and-rmarkdown"><i class="fa fa-check"></i><b>11.1</b> Literate Programming, <code>knitr</code>, and <code>rmarkdown</code></a></li>
<li class="chapter" data-level="11.2" data-path="docs-reports.html"><a href="docs-reports.html#a-very-brief-introduction-to-latex"><i class="fa fa-check"></i><b>11.2</b> A Very Brief Introduction to LaTeX</a>
<ul>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#try-it-out-35"><i class="fa fa-check"></i>Try it out</a></li>
<li class="chapter" data-level="11.2.1" data-path="docs-reports.html"><a href="docs-reports.html#knitr"><i class="fa fa-check"></i><b>11.2.1</b> Knitr</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="docs-reports.html"><a href="docs-reports.html#slides"><i class="fa fa-check"></i><b>11.3</b> Slides</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="docs-reports.html"><a href="docs-reports.html#beamer-latex-and-knitr"><i class="fa fa-check"></i><b>11.3.1</b> Beamer (LaTeX) and knitr</a></li>
<li class="chapter" data-level="11.3.2" data-path="docs-reports.html"><a href="docs-reports.html#html-slides"><i class="fa fa-check"></i><b>11.3.2</b> HTML slides</a></li>
<li class="chapter" data-level="" data-path="docs-reports.html"><a href="docs-reports.html#try-it-out-37"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="docs-reports.html"><a href="docs-reports.html#posters"><i class="fa fa-check"></i><b>11.4</b> Posters</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="docs-reports.html"><a href="docs-reports.html#latex"><i class="fa fa-check"></i><b>11.4.1</b> LaTeX</a></li>
<li class="chapter" data-level="11.4.2" data-path="docs-reports.html"><a href="docs-reports.html#posterdown"><i class="fa fa-check"></i><b>11.4.2</b> Posterdown</a></li>
<li class="chapter" data-level="11.4.3" data-path="docs-reports.html"><a href="docs-reports.html#pagedown"><i class="fa fa-check"></i><b>11.4.3</b> Pagedown</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="docs-reports.html"><a href="docs-reports.html#resumecv"><i class="fa fa-check"></i><b>11.5</b> Resume/CV</a></li>
<li class="chapter" data-level="11.6" data-path="docs-reports.html"><a href="docs-reports.html#using-github-pages"><i class="fa fa-check"></i><b>11.6</b> Using Github Pages</a></li>
<li class="chapter" data-level="11.7" data-path="docs-reports.html"><a href="docs-reports.html#references-5"><i class="fa fa-check"></i><b>11.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html"><i class="fa fa-check"></i><b>12</b> Animated and Interactive Graphics</a>
<ul>
<li class="chapter" data-level="" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#module12-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="12.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#plotly"><i class="fa fa-check"></i><b>12.1</b> Plotly</a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#ggplotly-ggplot2-to-plotly-conversions"><i class="fa fa-check"></i><b>12.1.1</b> <code>ggplotly</code>: ggplot2 to plotly conversions</a></li>
<li class="chapter" data-level="12.1.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#plot_ly-like-base-plotting-but-interactive"><i class="fa fa-check"></i><b>12.1.2</b> <code>plot_ly</code>: Like base plotting, but interactive!</a></li>
<li class="chapter" data-level="12.1.3" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#animation"><i class="fa fa-check"></i><b>12.1.3</b> Animation</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#leaflet-maps"><i class="fa fa-check"></i><b>12.2</b> Leaflet maps</a>
<ul>
<li class="chapter" data-level="" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#try-it-out-41"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#shiny"><i class="fa fa-check"></i><b>12.3</b> Shiny</a></li>
<li class="chapter" data-level="12.4" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#general-references"><i class="fa fa-check"></i><b>12.4</b> General References</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#other-interactive-tools"><i class="fa fa-check"></i><b>12.4.1</b> Other interactive tools</a></li>
<li class="chapter" data-level="12.4.2" data-path="animated-and-interactive-graphics.html"><a href="animated-and-interactive-graphics.html#debugging-1"><i class="fa fa-check"></i><b>12.4.2</b> Debugging</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html"><i class="fa fa-check"></i><b>13</b> Lists, Nested Lists, and Functional Programming</a>
<ul>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#module13-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="13.1" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#review-lists-and-vectors"><i class="fa fa-check"></i><b>13.1</b> Review: Lists and Vectors</a></li>
<li class="chapter" data-level="13.2" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#introduction-to-map"><i class="fa fa-check"></i><b>13.2</b> Introduction to <code>map</code></a></li>
<li class="chapter" data-level="13.3" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#creating-and-using-list-columns"><i class="fa fa-check"></i><b>13.3</b> Creating (and Using) List-columns</a></li>
<li class="chapter" data-level="13.4" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#ways-to-use-map"><i class="fa fa-check"></i><b>13.4</b> Ways to use <code>map</code></a>
<ul>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#try-it-out-42"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#beyond-map-functions-with-multiple-inputs"><i class="fa fa-check"></i><b>13.5</b> Beyond <code>map</code>: Functions with multiple inputs</a>
<ul>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#try-it-out-43"><i class="fa fa-check"></i>Try it out</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lists-nested-lists-and-functional-programming.html"><a href="lists-nested-lists-and-functional-programming.html#purrr-references"><i class="fa fa-check"></i>Purrr References</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="high-performance-computing.html"><a href="high-performance-computing.html"><i class="fa fa-check"></i><b>14</b> High Performance Computing</a>
<ul>
<li class="chapter" data-level="" data-path="high-performance-computing.html"><a href="high-performance-computing.html#module14-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="" data-path="high-performance-computing.html"><a href="high-performance-computing.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="high-performance-computing.html"><a href="high-performance-computing.html#hpc-references"><i class="fa fa-check"></i>HPC References</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="spatial-packages.html"><a href="spatial-packages.html"><i class="fa fa-check"></i><b>15</b> Spatial packages</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-packages.html"><a href="spatial-packages.html#module15-objectives"><i class="fa fa-check"></i>Module Objectives</a></li>
<li class="chapter" data-level="" data-path="spatial-packages.html"><a href="spatial-packages.html#references-6"><i class="fa fa-check"></i>References</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html"><i class="fa fa-check"></i><b>A</b> Common Problems and General Computing Topics</a>
<ul>
<li class="chapter" data-level="A.1" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#file-paths-working-directories-and-reproducibility"><i class="fa fa-check"></i><b>A.1</b> File Paths, Working Directories, and Reproducibility</a>
<ul>
<li class="chapter" data-level="A.1.1" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#file-paths"><i class="fa fa-check"></i><b>A.1.1</b> File paths</a></li>
<li class="chapter" data-level="A.1.2" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#working-directory"><i class="fa fa-check"></i><b>A.1.2</b> Working Directory</a></li>
<li class="chapter" data-level="A.1.3" data-path="common-problems-and-general-computing-topics.html"><a href="common-problems-and-general-computing-topics.html#reproducibility"><i class="fa fa-check"></i><b>A.1.3</b> Reproducibility</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="other-resources-articles-and-food-for-thought.html"><a href="other-resources-articles-and-food-for-thought.html"><i class="fa fa-check"></i><b>B</b> Other Resources, Articles, and Food for Thought</a>
<ul>
<li class="chapter" data-level="B.1" data-path="other-resources-articles-and-food-for-thought.html"><a href="other-resources-articles-and-food-for-thought.html#comparing-languages"><i class="fa fa-check"></i><b>B.1</b> Comparing Languages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references-7.html"><a href="references-7.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Stat 850: Computing Tools for Statisticians</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="debugging" class="section level1" number="8">
<h1><span class="header-section-number">Module 8</span> Principles of Debugging</h1>
<div id="module8-objectives" class="section level2 unnumbered">
<h2>Module Objectives</h2>
<ul>
<li><p>Create reproducible examples of problems</p></li>
<li><p>Use built in debugging tools to trace errors</p></li>
<li><p>Use online resources to research errors</p></li>
</ul>
<p>Note: The skills in this chapter take a lifetime to truly master. The real goal here is that you know how to ask for help appropriately (and in a way that people will respond positively to) and that you know how to do the research to get help yourself.</p>
<div class="figure">
<img src="https://github.com/allisonhorst/stats-illustrations/blob/master/other-stats-artwork/debugging.jpg?raw=true" alt="" />
<p class="caption">The faces of debugging (by Allison Horst)</p>
</div>
</div>
<div id="step-1-check-your-spelling." class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Step 1: Check your spelling.</h2>
<p>I’ll guess that 80% of my personal debugging comes down to spelling errors and misplaced punctuation.</p>
<p><img src="image/debugging-tweets-1.png" width="2100" /></p>
</div>
<div id="defensive-programming" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Defensive Programming</h2>
<p>One of the best debugging strategies (that isn’t a debugging strategy at all, really) is to code defensively. By that, I mean, code in a way that you will make debugging things easier later.</p>
<ul>
<li><p><strong>Modularize your code</strong>. Each function should do only one task, ideally in the least-complex way possible.</p></li>
<li><p><strong>Make your code readable</strong>. If you can read the code easily, you’ll be able to narrow down the location of the bug more quickly.</p></li>
<li><p><strong>Comment your code</strong>. This makes it more likely that you will be able to locate the spot where the bug is likely to have occurred, and will remind you how things are calculated. Remember, comments aren’t just for your collaborators or others who see the code. They’re for future you.</p></li>
<li><p><strong>Don’t duplicate code</strong>. If you have the same code (or essentially the same code) in two or three different places, put that code in a function and call the function instead. This will save you trouble when updating the code in the future, but also makes narrowing down the source of the bug less complex.</p></li>
<li><p><strong>Reduce the number of dependencies</strong> you have on outside software packages. Often bugs are introduced when a dependency is updated and the functionality changes slightly. The <code>tidyverse</code> is <em>notorious</em> for this.<br />
It’s ok to write code using lots of dependencies, but as you transition from “experimental” code to “production” code (you’re using the code without tinkering with it) you should work to reduce the dependencies, where possible. In addition, if you do need packages with lots of dependencies, try to make sure those packages are relatively popular, used by a lot of people, and currently maintained. (The tidyverse is a bit better from this perspective, because the constitutent packages are some of the most installed R packages on CRAN.)</p></li>
<li><p><strong>Add safeguards against unexpected inputs</strong>. Check to make sure inputs to the function are valid. Check to make sure intermediate results are reasonable (e.g. you don’t compute the derivative of a function and come up with “a.”)</p></li>
<li><p><strong>Don’t reinvent the wheel</strong>. If you have working, tested code for a task, use that! If someone else has working code that’s used by the community, don’t write your own unless you have a very good reason. The implementation of <code>lm</code> has been better tested than your homegrown linear regression.<br />
(This is easier if you’re writing modular code to begin with)</p></li>
<li><p>Collect your often-reused code in packages (R) or scripts (SAS) that you can easily load and make available to “future you”</p></li>
</ul>
<div class="learn-more">
<p>Wikipedia’s article on defensive programming is much more general than the applications to statistical programming, but may be <a href="https://en.wikipedia.org/wiki/Defensive_programming">worth scanning</a>.</p>
</div>
</div>
<div id="general-debugging-strategies" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> General Debugging Strategies</h2>
<blockquote>
<p>Debugging: Being the detective in a crime movie where you are also the murderer. - some t-shirt I saw once</p>
</blockquote>
<p>While defensive programming is a nice idea, if you’re already at the point where you have an error you can’t diagnose, then… it doesn’t help that much. At that point, you’ll need some general debugging strategies to work with. The overall process is well described in <a href="https://adv-r.hadley.nz/debugging.html">Advanced R</a> by H. Wickham<a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a>; I’ve copied it here because it’s such a succinct distillation of the process, but I’ve adapted some of the explanations to this class rather than the original c ontext of package development.</p>
<ol start="0" style="list-style-type: decimal">
<li><p>Realize that you have a bug</p></li>
<li><p><strong>Google!</strong> In R you can automate this with the <code>errorist</code> and <code>searcher</code> packages. In SAS, if the error message isn’t that clear you’ll find a SAS forum page where someone else has made the same mistake - I can almost guarantee it.</p></li>
<li><p><strong>Make the error repeatable</strong>: This makes it easier to figure out what the error is, faster to iterate, and easier to ask for help.</p>
<ul>
<li>Use binary search (remove 1/2 of the code, see if the error occurs, if not go to the other 1/2 of the code. Repeat until you’ve isolated the error.)</li>
<li>Generate the error faster - use a minimal test dataset, if possible, so that you can ask for help easily and run code faster. This is worth the investment if you’ve been debugging the same error for a while.</li>
<li>Note which inputs <em>don’t</em> generate the bug – this negative “data” is helpful when asking for help.</li>
</ul></li>
<li><p><strong>Figure out where it is</strong>. Debuggers may help with this, but you can also use the <a href="http://web.mit.edu/6.031/www/fa17/classes/13-debugging/#find_the_bug_using_the_scientific_method">scientific method</a> to explore the code, or the tried-and-true method of using lots of <code>print()</code> statements.</p></li>
<li><p><strong>Fix it and test it</strong>. The goal with tests is to ensure that the same error doesn’t pop back up in a future version of your code. Generate an example that will test for the error, and add it to your documentation. If you’re developing a package, unit test suites offer a more formalized way to test errors and you can automate your testing so that every time your code is changed, tests are run and checked.</p></li>
</ol>
<p>There are several other general strategies for debugging:</p>
<ul>
<li><p>Retype (from scratch) your code<br />
This works well if it’s a short function or a couple of lines of code, but it’s less useful if you have a big script full of code to debug. However, it does sometimes fix really silly typos that are hard to spot, like having typed <code>&lt;--</code> instead of <code>&lt;-</code> in R and then wondering why your answers are negative.</p></li>
<li><p>Visualize your data as it moves through the program. This may be done using <code>print()</code> statements, or the debugger, or some other strategy depending on your application.</p></li>
<li><p>Tracing statements. Again, this is part of <code>print()</code> debugging, but these messages indicate progress - “got into function x,” “returning from function y,” and so on.</p></li>
<li><p>Rubber ducking. Have you ever tried to explain a problem you’re having to someone else, only to have a moment of insight and “oh, nevermind?” Rubber ducking outsources the problem to a nonjudgemental entity, such as a rubber duck<a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a>. You simply explain, in terms simple enough for your rubber duck to understand, exactly what your code does, line by line, until you’ve found the problem. <a href="https://gitduck.com/blog/improve-how-to-code-with-rubber-duck-debugging/">A more thorough explanation can be found at gitduck.com</a>.</p></li>
</ul>
<div class="figure"><span style="display:block;" id="fig:duck-cape"></span>
<img src="image/rubber_duck_cape.png" alt="You may find it helpful to procure a rubber duck expert for each language you work in. I use color-your-own rubber ducks to endow my ducks with certain language expertise. Other people use plain rubber ducks and give them capes." width="50%" />
<p class="caption">
Figure 8.1: You may find it helpful to procure a rubber duck expert for each language you work in. I use color-your-own rubber ducks to endow my ducks with certain language expertise. Other people use plain rubber ducks and give them capes.
</p>
</div>
<p>Do not be surprised if, in the process of debugging, you encounter new bugs. This is a problem that’s well-known enough that it has its <a href="image/99bugs_shirt.png">own t-shirt</a>, in addition to an <a href="https://xkcd.com/1739/">xkcd comic</a>. At some point, getting up and going for a walk may help. Redesigning your code to be more modular and more organized is also a good idea.</p>
</div>
<div id="debugging-tools-in-r" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Debugging Tools in R</h2>
<p>Now that we’ve discussed general strategies for debugging that will work in any language, lets get down to the dirty details of debugging in R.</p>
<div id="low-tech-debugging-with-print-and-other-tools" class="section level3" number="8.4.1">
<h3><span class="header-section-number">8.4.1</span> Low tech debugging with print() and other tools</h3>
<p>Sometimes called “tracing” techniques, the most common, universal, and low tech strategy for debugging involves scattering messages throughout your code. When the code is executed, you get a window into what the variables look like during execution.</p>
<details>
<summary>
Simple example
</summary>
<p>Imagine we start with this:</p>
<div class="sourceCode" id="cb340"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb340-1"><a href="debugging.html#cb340-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb340-2"><a href="debugging.html#cb340-2" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="cf">function</span>(y) {</span>
<span id="cb340-3"><a href="debugging.html#cb340-3" aria-hidden="true" tabindex="-1"></a>    c <span class="ot">&lt;-</span> <span class="cf">function</span>(z) {</span>
<span id="cb340-4"><a href="debugging.html#cb340-4" aria-hidden="true" tabindex="-1"></a>      z <span class="sc">+</span> y</span>
<span id="cb340-5"><a href="debugging.html#cb340-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb340-6"><a href="debugging.html#cb340-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="dv">3</span>)</span>
<span id="cb340-7"><a href="debugging.html#cb340-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb340-8"><a href="debugging.html#cb340-8" aria-hidden="true" tabindex="-1"></a>  x <span class="sc">+</span> <span class="fu">b</span>(<span class="dv">4</span>)</span>
<span id="cb340-9"><a href="debugging.html#cb340-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb340-10"><a href="debugging.html#cb340-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb340-11"><a href="debugging.html#cb340-11" aria-hidden="true" tabindex="-1"></a><span class="fu">a</span>(<span class="dv">5</span>)</span>
<span id="cb340-12"><a href="debugging.html#cb340-12" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span></code></pre></div>
<p>and the goal is to understand what’s happening in the code. We might add some lines:</p>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="debugging.html#cb341-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb341-2"><a href="debugging.html#cb341-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Entering a(). x = &quot;</span>, x))</span>
<span id="cb341-3"><a href="debugging.html#cb341-3" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="cf">function</span>(y) {</span>
<span id="cb341-4"><a href="debugging.html#cb341-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Entering b(). x = &quot;</span>, x, <span class="st">&quot;y = &quot;</span>, y))</span>
<span id="cb341-5"><a href="debugging.html#cb341-5" aria-hidden="true" tabindex="-1"></a>    c <span class="ot">&lt;-</span> <span class="cf">function</span>(z) {</span>
<span id="cb341-6"><a href="debugging.html#cb341-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Entering c(). x = &quot;</span>, x, <span class="st">&quot;y = &quot;</span>, y, <span class="st">&quot;z = &quot;</span>, z))</span>
<span id="cb341-7"><a href="debugging.html#cb341-7" aria-hidden="true" tabindex="-1"></a>      cres <span class="ot">&lt;-</span> z <span class="sc">+</span> y</span>
<span id="cb341-8"><a href="debugging.html#cb341-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Returning&quot;</span>, cres, <span class="st">&quot;from c()&quot;</span>))</span>
<span id="cb341-9"><a href="debugging.html#cb341-9" aria-hidden="true" tabindex="-1"></a>      cres</span>
<span id="cb341-10"><a href="debugging.html#cb341-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb341-11"><a href="debugging.html#cb341-11" aria-hidden="true" tabindex="-1"></a>    bres <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>)</span>
<span id="cb341-12"><a href="debugging.html#cb341-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Returning&quot;</span>, bres, <span class="st">&quot;from b()&quot;</span>))</span>
<span id="cb341-13"><a href="debugging.html#cb341-13" aria-hidden="true" tabindex="-1"></a>    bres</span>
<span id="cb341-14"><a href="debugging.html#cb341-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb341-15"><a href="debugging.html#cb341-15" aria-hidden="true" tabindex="-1"></a>  ares <span class="ot">&lt;-</span> x <span class="sc">+</span> <span class="fu">b</span>(<span class="dv">4</span>)</span>
<span id="cb341-16"><a href="debugging.html#cb341-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Returning&quot;</span>,ares, <span class="st">&quot;from a()&quot;</span>))</span>
<span id="cb341-17"><a href="debugging.html#cb341-17" aria-hidden="true" tabindex="-1"></a>  ares</span>
<span id="cb341-18"><a href="debugging.html#cb341-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb341-19"><a href="debugging.html#cb341-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb341-20"><a href="debugging.html#cb341-20" aria-hidden="true" tabindex="-1"></a><span class="fu">a</span>(<span class="dv">5</span>)</span>
<span id="cb341-21"><a href="debugging.html#cb341-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Entering a(). x =  5&quot;</span></span>
<span id="cb341-22"><a href="debugging.html#cb341-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Entering b(). x =  5 y =  4&quot;</span></span>
<span id="cb341-23"><a href="debugging.html#cb341-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Entering c(). x =  5 y =  4 z =  3&quot;</span></span>
<span id="cb341-24"><a href="debugging.html#cb341-24" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Returning 7 from c()&quot;</span></span>
<span id="cb341-25"><a href="debugging.html#cb341-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Returning 7 from b()&quot;</span></span>
<span id="cb341-26"><a href="debugging.html#cb341-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Returning 12 from a()&quot;</span></span>
<span id="cb341-27"><a href="debugging.html#cb341-27" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">12</span></span></code></pre></div>
</details>
<p>For more complex data structures, it can be useful to add <code>str()</code>, <code>head()</code>, or <code>summary()</code> functions.</p>
<details>
<summary>
Real world example
</summary>
<p>I was recently writing a webscraper to get election polling data from the RealClearPolitics site as part of the <a href="github.com/heike/electionViz"><code>electionViz</code> package</a>. I wrote the function <code>search_for_parent()</code> to get the parent HTML tag which matched the “tag” argument, that had the “node” argument as a descendant.</p>
<p>I was assuming that the order of the parents would be “html,” “body,” “div,” “table,” “tbody,” “tr” - descending from outer to inner (if you know anything about HTML/XML structure).</p>
<div class="sourceCode" id="cb342"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb342-1"><a href="debugging.html#cb342-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xml2) <span class="co"># read html</span></span>
<span id="cb342-2"><a href="debugging.html#cb342-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-3"><a href="debugging.html#cb342-3" aria-hidden="true" tabindex="-1"></a>search_for_parent <span class="ot">&lt;-</span> <span class="cf">function</span>(node, tag) {</span>
<span id="cb342-4"><a href="debugging.html#cb342-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get all of the parent nodes </span></span>
<span id="cb342-5"><a href="debugging.html#cb342-5" aria-hidden="true" tabindex="-1"></a>  parents <span class="ot">&lt;-</span> xml2<span class="sc">::</span><span class="fu">xml_parents</span>(node)</span>
<span id="cb342-6"><a href="debugging.html#cb342-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get the tags of every parent node</span></span>
<span id="cb342-7"><a href="debugging.html#cb342-7" aria-hidden="true" tabindex="-1"></a>  tags <span class="ot">&lt;-</span> purrr<span class="sc">::</span><span class="fu">map_chr</span>(parents, rvest<span class="sc">::</span>html_name)</span>
<span id="cb342-8"><a href="debugging.html#cb342-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(tags)</span>
<span id="cb342-9"><a href="debugging.html#cb342-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb342-10"><a href="debugging.html#cb342-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find matching taggs</span></span>
<span id="cb342-11"><a href="debugging.html#cb342-11" aria-hidden="true" tabindex="-1"></a>  matches <span class="ot">&lt;-</span> <span class="fu">which</span>(tags <span class="sc">==</span> tag)</span>
<span id="cb342-12"><a href="debugging.html#cb342-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(matches)</span>
<span id="cb342-13"><a href="debugging.html#cb342-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb342-14"><a href="debugging.html#cb342-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Take the minimum matching tag</span></span>
<span id="cb342-15"><a href="debugging.html#cb342-15" aria-hidden="true" tabindex="-1"></a>  min_match <span class="ot">&lt;-</span> <span class="fu">min</span>(matches)</span>
<span id="cb342-16"><a href="debugging.html#cb342-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(matches) <span class="sc">==</span> <span class="dv">1</span>) <span class="fu">return</span>(parents[min_match]) <span class="cf">else</span> <span class="fu">return</span>(<span class="cn">NULL</span>)</span>
<span id="cb342-17"><a href="debugging.html#cb342-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb342-18"><a href="debugging.html#cb342-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb342-19"><a href="debugging.html#cb342-19" aria-hidden="true" tabindex="-1"></a>page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(<span class="st">&quot;data/realclearpolitics_frag.html&quot;</span>)</span>
<span id="cb342-20"><a href="debugging.html#cb342-20" aria-hidden="true" tabindex="-1"></a>node <span class="ot">&lt;-</span> <span class="fu">xml_find_all</span>(page, <span class="st">&quot;//td[@class=&#39;lp-results&#39;]&quot;</span>) <span class="co"># find all poll results in any table</span></span>
<span id="cb342-21"><a href="debugging.html#cb342-21" aria-hidden="true" tabindex="-1"></a><span class="fu">search_for_parent</span>(node[<span class="dv">1</span>], <span class="st">&quot;table&quot;</span>) <span class="co"># find the table that contains it</span></span>
<span id="cb342-22"><a href="debugging.html#cb342-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;tr&quot;</span>    <span class="st">&quot;tbody&quot;</span> <span class="st">&quot;table&quot;</span> <span class="st">&quot;div&quot;</span>   <span class="st">&quot;body&quot;</span>  <span class="st">&quot;html&quot;</span> </span>
<span id="cb342-23"><a href="debugging.html#cb342-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">3</span></span>
<span id="cb342-24"><a href="debugging.html#cb342-24" aria-hidden="true" tabindex="-1"></a>{<span class="fu">xml_nodeset</span> (<span class="dv">1</span>)}</span>
<span id="cb342-25"><a href="debugging.html#cb342-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="sc">&lt;</span>table cellpadding<span class="ot">=</span><span class="st">&quot;2&quot;</span> cellspacing<span class="ot">=</span><span class="st">&quot;0&quot;</span> class<span class="ot">=</span><span class="st">&quot;sortable&quot;</span><span class="sc">&gt;</span>\n<span class="sc">&lt;</span>thead<span class="sc">&gt;</span><span class="er">&lt;</span>tr clas ...</span></code></pre></div>
By printing out all of the tags that contain <code>node</code>, I could see the order – inner to outer. I asked the function to return the location of the first table node, so the index (2nd value printed out) should match table in the character vector that was printed out first. I could then see that the HTML node that is returned is in fact the table node.
</details>
<div id="try-it-out-23" class="section level4 unnumbered tryitout">
<h4>Try it out</h4>
<p>Not all bugs result in error messages, unfortunately, which makes higher-level techniques like <code>traceback()</code> less useful. The low-tech debugging tools, however, still work wonderfully.</p>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="debugging.html#cb343-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb343-2"><a href="debugging.html#cb343-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb343-3"><a href="debugging.html#cb343-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb343-4"><a href="debugging.html#cb343-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(maps)</span>
<span id="cb343-5"><a href="debugging.html#cb343-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb343-6"><a href="debugging.html#cb343-6" aria-hidden="true" tabindex="-1"></a>worldmap <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">&quot;world&quot;</span>)</span>
<span id="cb343-7"><a href="debugging.html#cb343-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-8"><a href="debugging.html#cb343-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb343-9"><a href="debugging.html#cb343-9" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(storms, <span class="at">package =</span> <span class="st">&quot;dplyr&quot;</span>)</span></code></pre></div>
<p>The code below is supposed to print out a map of the tracks of all hurricanes of a specific category, 1 to 5, in 2013. Use print statements to figure out what’s wrong with my code.</p>
<div class="sourceCode" id="cb344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb344-1"><a href="debugging.html#cb344-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make base map to be used for each iteration</span></span>
<span id="cb344-2"><a href="debugging.html#cb344-2" aria-hidden="true" tabindex="-1"></a>basemap <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb344-3"><a href="debugging.html#cb344-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Country shapes</span></span>
<span id="cb344-4"><a href="debugging.html#cb344-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), </span>
<span id="cb344-5"><a href="debugging.html#cb344-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> worldmap, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb344-6"><a href="debugging.html#cb344-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Zoom in </span></span>
<span id="cb344-7"><a href="debugging.html#cb344-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>, <span class="sc">-</span><span class="dv">10</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">50</span>)) <span class="sc">+</span> </span>
<span id="cb344-8"><a href="debugging.html#cb344-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Don&#39;t need scales b/c maps provide their own geographic context...</span></span>
<span id="cb344-9"><a href="debugging.html#cb344-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_map</span>()</span>
<span id="cb344-10"><a href="debugging.html#cb344-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb344-11"><a href="debugging.html#cb344-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb344-12"><a href="debugging.html#cb344-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data</span></span>
<span id="cb344-13"><a href="debugging.html#cb344-13" aria-hidden="true" tabindex="-1"></a>  subdata <span class="ot">&lt;-</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb344-14"><a href="debugging.html#cb344-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">%&gt;%</span></span>
<span id="cb344-15"><a href="debugging.html#cb344-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(status <span class="sc">==</span> i)</span>
<span id="cb344-16"><a href="debugging.html#cb344-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb344-17"><a href="debugging.html#cb344-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data - path + points to show the observations</span></span>
<span id="cb344-18"><a href="debugging.html#cb344-18" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> basemap <span class="sc">+</span></span>
<span id="cb344-19"><a href="debugging.html#cb344-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb344-20"><a href="debugging.html#cb344-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb344-21"><a href="debugging.html#cb344-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms in 2013&quot;</span>))</span>
<span id="cb344-22"><a href="debugging.html#cb344-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(plot)</span>
<span id="cb344-23"><a href="debugging.html#cb344-23" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p><img src="image/map-hurricane-tracks-1.png" width="18%" /><img src="image/map-hurricane-tracks-2.png" width="18%" /><img src="image/map-hurricane-tracks-3.png" width="18%" /><img src="image/map-hurricane-tracks-4.png" width="18%" /><img src="image/map-hurricane-tracks-5.png" width="18%" /></p>
<details>
<summary>
Solution
</summary>
<p>First, lets split the setup from the loop.</p>
<div class="sourceCode" id="cb345"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb345-1"><a href="debugging.html#cb345-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make base map to be used for each iteration</span></span>
<span id="cb345-2"><a href="debugging.html#cb345-2" aria-hidden="true" tabindex="-1"></a>basemap <span class="ot">&lt;-</span>  <span class="fu">ggplot</span>() <span class="sc">+</span> </span>
<span id="cb345-3"><a href="debugging.html#cb345-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Country shapes</span></span>
<span id="cb345-4"><a href="debugging.html#cb345-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group), </span>
<span id="cb345-5"><a href="debugging.html#cb345-5" aria-hidden="true" tabindex="-1"></a>               <span class="at">data =</span> worldmap, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span> </span>
<span id="cb345-6"><a href="debugging.html#cb345-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Zoom in </span></span>
<span id="cb345-7"><a href="debugging.html#cb345-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_quickmap</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>, <span class="sc">-</span><span class="dv">10</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">50</span>)) <span class="sc">+</span> </span>
<span id="cb345-8"><a href="debugging.html#cb345-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Don&#39;t need scales b/c maps provide their own geographic context...</span></span>
<span id="cb345-9"><a href="debugging.html#cb345-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_map</span>()</span>
<span id="cb345-10"><a href="debugging.html#cb345-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb345-11"><a href="debugging.html#cb345-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(basemap) <span class="co"># make sure the basemap is fine</span></span></code></pre></div>
<p><img src="image/map-hurricane-tracks-setup-1.png" width="2100" /></p>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="debugging.html#cb346-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb346-2"><a href="debugging.html#cb346-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb346-3"><a href="debugging.html#cb346-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(storms, <span class="at">package =</span> <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb346-4"><a href="debugging.html#cb346-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb346-5"><a href="debugging.html#cb346-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(storms) <span class="co"># make sure the data exists and is formatted as expected</span></span>
<span id="cb346-6"><a href="debugging.html#cb346-6" aria-hidden="true" tabindex="-1"></a>tibble[,<span class="dv">13</span>] [<span class="dv">10</span>,<span class="dv">010</span> × <span class="dv">13</span>] (S3<span class="sc">:</span> tbl_df<span class="sc">/</span>tbl<span class="sc">/</span>data.frame)</span>
<span id="cb346-7"><a href="debugging.html#cb346-7" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> name       <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="st">&quot;Amy&quot;</span> <span class="st">&quot;Amy&quot;</span> <span class="st">&quot;Amy&quot;</span> <span class="st">&quot;Amy&quot;</span> ...</span>
<span id="cb346-8"><a href="debugging.html#cb346-8" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> year       <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">1975</span> <span class="dv">1975</span> <span class="dv">1975</span> <span class="dv">1975</span> <span class="dv">1975</span> ...</span>
<span id="cb346-9"><a href="debugging.html#cb346-9" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> month      <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> <span class="dv">6</span> ...</span>
<span id="cb346-10"><a href="debugging.html#cb346-10" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> day        <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">27</span> <span class="dv">27</span> <span class="dv">27</span> <span class="dv">27</span> <span class="dv">28</span> <span class="dv">28</span> <span class="dv">28</span> <span class="dv">28</span> <span class="dv">29</span> <span class="dv">29</span> ...</span>
<span id="cb346-11"><a href="debugging.html#cb346-11" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> hour       <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">0</span> <span class="dv">6</span> <span class="dv">12</span> <span class="dv">18</span> <span class="dv">0</span> <span class="dv">6</span> <span class="dv">12</span> <span class="dv">18</span> <span class="dv">0</span> <span class="dv">6</span> ...</span>
<span id="cb346-12"><a href="debugging.html#cb346-12" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> lat        <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="fl">27.5</span> <span class="fl">28.5</span> <span class="fl">29.5</span> <span class="fl">30.5</span> <span class="fl">31.5</span> <span class="fl">32.4</span> <span class="fl">33.3</span> <span class="dv">34</span> <span class="fl">34.4</span> <span class="dv">34</span> ...</span>
<span id="cb346-13"><a href="debugging.html#cb346-13" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> long       <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="sc">-</span><span class="dv">79</span> <span class="sc">-</span><span class="dv">79</span> <span class="sc">-</span><span class="dv">79</span> <span class="sc">-</span><span class="dv">79</span> <span class="sc">-</span><span class="fl">78.8</span> <span class="sc">-</span><span class="fl">78.7</span> <span class="sc">-</span><span class="dv">78</span> <span class="sc">-</span><span class="dv">77</span> <span class="sc">-</span><span class="fl">75.8</span> <span class="sc">-</span><span class="fl">74.8</span> ...</span>
<span id="cb346-14"><a href="debugging.html#cb346-14" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> status     <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="st">&quot;tropical depression&quot;</span> <span class="st">&quot;tropical depression&quot;</span> <span class="st">&quot;tropical depression&quot;</span> <span class="st">&quot;tropical depression&quot;</span> ...</span>
<span id="cb346-15"><a href="debugging.html#cb346-15" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> category   <span class="sc">:</span> Ord.factor w<span class="sc">/</span> <span class="dv">7</span> levels <span class="st">&quot;-1&quot;</span><span class="sc">&lt;</span><span class="st">&quot;0&quot;</span><span class="sc">&lt;</span><span class="st">&quot;1&quot;</span><span class="sc">&lt;</span><span class="st">&quot;2&quot;</span><span class="sc">&lt;</span>..<span class="sc">:</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> ...</span>
<span id="cb346-16"><a href="debugging.html#cb346-16" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> wind       <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">25</span> <span class="dv">25</span> <span class="dv">25</span> <span class="dv">25</span> <span class="dv">25</span> <span class="dv">25</span> <span class="dv">25</span> <span class="dv">30</span> <span class="dv">35</span> <span class="dv">40</span> ...</span>
<span id="cb346-17"><a href="debugging.html#cb346-17" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> pressure   <span class="sc">:</span> int [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="dv">1013</span> <span class="dv">1013</span> <span class="dv">1013</span> <span class="dv">1013</span> <span class="dv">1012</span> <span class="dv">1012</span> <span class="dv">1011</span> <span class="dv">1006</span> <span class="dv">1004</span> <span class="dv">1002</span> ...</span>
<span id="cb346-18"><a href="debugging.html#cb346-18" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> ts_diameter<span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> ...</span>
<span id="cb346-19"><a href="debugging.html#cb346-19" aria-hidden="true" tabindex="-1"></a> <span class="sc">$</span> hu_diameter<span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">10010</span>] <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> <span class="cn">NA</span> ...</span></code></pre></div>
<p>Everything looks ok in the setup chunk…</p>
<div class="sourceCode" id="cb347"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb347-1"><a href="debugging.html#cb347-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb347-2"><a href="debugging.html#cb347-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms&quot;</span>))</span>
<span id="cb347-3"><a href="debugging.html#cb347-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data</span></span>
<span id="cb347-4"><a href="debugging.html#cb347-4" aria-hidden="true" tabindex="-1"></a>  subdata <span class="ot">&lt;-</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb347-5"><a href="debugging.html#cb347-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">%&gt;%</span></span>
<span id="cb347-6"><a href="debugging.html#cb347-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(status <span class="sc">==</span> i)</span>
<span id="cb347-7"><a href="debugging.html#cb347-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb347-8"><a href="debugging.html#cb347-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;subdata dims: nrow &quot;</span>, <span class="fu">nrow</span>(subdata), <span class="st">&quot; ncol &quot;</span>, <span class="fu">ncol</span>(subdata)))</span>
<span id="cb347-9"><a href="debugging.html#cb347-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># str(subdata) works too, but produces more clutter. I started</span></span>
<span id="cb347-10"><a href="debugging.html#cb347-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># with str() and moved to dim() when I saw the problem</span></span>
<span id="cb347-11"><a href="debugging.html#cb347-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb347-12"><a href="debugging.html#cb347-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data - path + points to show the observations</span></span>
<span id="cb347-13"><a href="debugging.html#cb347-13" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> basemap <span class="sc">+</span></span>
<span id="cb347-14"><a href="debugging.html#cb347-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb347-15"><a href="debugging.html#cb347-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb347-16"><a href="debugging.html#cb347-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms in 2013&quot;</span>))</span>
<span id="cb347-17"><a href="debugging.html#cb347-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(plot) # Don&#39;t print plots - clutters up output at the moment</span></span>
<span id="cb347-18"><a href="debugging.html#cb347-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb347-19"><a href="debugging.html#cb347-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 1 storms&quot;</span></span>
<span id="cb347-20"><a href="debugging.html#cb347-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb347-21"><a href="debugging.html#cb347-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 2 storms&quot;</span></span>
<span id="cb347-22"><a href="debugging.html#cb347-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb347-23"><a href="debugging.html#cb347-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 3 storms&quot;</span></span>
<span id="cb347-24"><a href="debugging.html#cb347-24" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb347-25"><a href="debugging.html#cb347-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 4 storms&quot;</span></span>
<span id="cb347-26"><a href="debugging.html#cb347-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb347-27"><a href="debugging.html#cb347-27" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 5 storms&quot;</span></span>
<span id="cb347-28"><a href="debugging.html#cb347-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span></code></pre></div>
<p>Ok, so from this we can see that something is going wrong with our filter statement - we have no rows of data.</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="debugging.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(storms)</span>
<span id="cb348-2"><a href="debugging.html#cb348-2" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 6 x 13</span></span>
<span id="cb348-3"><a href="debugging.html#cb348-3" aria-hidden="true" tabindex="-1"></a>  name   year month   day  hour   lat  long status       category  wind pressure</span>
<span id="cb348-4"><a href="debugging.html#cb348-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>int<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>dbl<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>ord<span class="sc">&gt;</span>    <span class="er">&lt;</span>int<span class="sc">&gt;</span>    <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb348-5"><a href="debugging.html#cb348-5" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">27</span>     <span class="dv">0</span>  <span class="fl">27.5</span> <span class="sc">-</span><span class="dv">79</span>   tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1013</span></span>
<span id="cb348-6"><a href="debugging.html#cb348-6" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">27</span>     <span class="dv">6</span>  <span class="fl">28.5</span> <span class="sc">-</span><span class="dv">79</span>   tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1013</span></span>
<span id="cb348-7"><a href="debugging.html#cb348-7" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">27</span>    <span class="dv">12</span>  <span class="fl">29.5</span> <span class="sc">-</span><span class="dv">79</span>   tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1013</span></span>
<span id="cb348-8"><a href="debugging.html#cb348-8" aria-hidden="true" tabindex="-1"></a><span class="dv">4</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">27</span>    <span class="dv">18</span>  <span class="fl">30.5</span> <span class="sc">-</span><span class="dv">79</span>   tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1013</span></span>
<span id="cb348-9"><a href="debugging.html#cb348-9" aria-hidden="true" tabindex="-1"></a><span class="dv">5</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">28</span>     <span class="dv">0</span>  <span class="fl">31.5</span> <span class="sc">-</span><span class="fl">78.8</span> tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1012</span></span>
<span id="cb348-10"><a href="debugging.html#cb348-10" aria-hidden="true" tabindex="-1"></a><span class="dv">6</span> Amy    <span class="dv">1975</span>     <span class="dv">6</span>    <span class="dv">28</span>     <span class="dv">6</span>  <span class="fl">32.4</span> <span class="sc">-</span><span class="fl">78.7</span> tropical de… <span class="sc">-</span><span class="dv">1</span>          <span class="dv">25</span>     <span class="dv">1012</span></span>
<span id="cb348-11"><a href="debugging.html#cb348-11" aria-hidden="true" tabindex="-1"></a><span class="co"># … with 2 more variables: ts_diameter &lt;dbl&gt;, hu_diameter &lt;dbl&gt;</span></span></code></pre></div>
<p>Whoops. I meant “category” when I typed “status.”</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="debugging.html#cb349-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb349-2"><a href="debugging.html#cb349-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms&quot;</span>))</span>
<span id="cb349-3"><a href="debugging.html#cb349-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data</span></span>
<span id="cb349-4"><a href="debugging.html#cb349-4" aria-hidden="true" tabindex="-1"></a>  subdata <span class="ot">&lt;-</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb349-5"><a href="debugging.html#cb349-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">%&gt;%</span></span>
<span id="cb349-6"><a href="debugging.html#cb349-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(category <span class="sc">==</span> i)</span>
<span id="cb349-7"><a href="debugging.html#cb349-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb349-8"><a href="debugging.html#cb349-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;subdata dims: nrow &quot;</span>, <span class="fu">nrow</span>(subdata), <span class="st">&quot; ncol &quot;</span>, <span class="fu">ncol</span>(subdata)))</span>
<span id="cb349-9"><a href="debugging.html#cb349-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># str(subdata) works too, but produces more clutter. I started</span></span>
<span id="cb349-10"><a href="debugging.html#cb349-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># with str() and moved to dim() when I saw the problem</span></span>
<span id="cb349-11"><a href="debugging.html#cb349-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb349-12"><a href="debugging.html#cb349-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data - path + points to show the observations</span></span>
<span id="cb349-13"><a href="debugging.html#cb349-13" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> basemap <span class="sc">+</span></span>
<span id="cb349-14"><a href="debugging.html#cb349-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb349-15"><a href="debugging.html#cb349-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb349-16"><a href="debugging.html#cb349-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms in 2013&quot;</span>))</span>
<span id="cb349-17"><a href="debugging.html#cb349-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(plot) # Don&#39;t print plots - clutters up output at the moment</span></span>
<span id="cb349-18"><a href="debugging.html#cb349-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb349-19"><a href="debugging.html#cb349-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 1 storms&quot;</span></span>
<span id="cb349-20"><a href="debugging.html#cb349-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 13 ncol 13&quot;</span></span>
<span id="cb349-21"><a href="debugging.html#cb349-21" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 2 storms&quot;</span></span>
<span id="cb349-22"><a href="debugging.html#cb349-22" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb349-23"><a href="debugging.html#cb349-23" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 3 storms&quot;</span></span>
<span id="cb349-24"><a href="debugging.html#cb349-24" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb349-25"><a href="debugging.html#cb349-25" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 4 storms&quot;</span></span>
<span id="cb349-26"><a href="debugging.html#cb349-26" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span>
<span id="cb349-27"><a href="debugging.html#cb349-27" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 5 storms&quot;</span></span>
<span id="cb349-28"><a href="debugging.html#cb349-28" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 0 ncol 13&quot;</span></span></code></pre></div>
<p>Ok, that’s something, at least. We now have some data for category 1 storms…</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="debugging.html#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(storms, year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">%&gt;%</span></span>
<span id="cb350-2"><a href="debugging.html#cb350-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Get max category for each named storm</span></span>
<span id="cb350-3"><a href="debugging.html#cb350-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(name) <span class="sc">%&gt;%</span></span>
<span id="cb350-4"><a href="debugging.html#cb350-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(category <span class="sc">==</span> <span class="fu">max</span>(category)) <span class="sc">%&gt;%</span></span>
<span id="cb350-5"><a href="debugging.html#cb350-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb350-6"><a href="debugging.html#cb350-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># See what categories exist</span></span>
<span id="cb350-7"><a href="debugging.html#cb350-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, category) <span class="sc">%&gt;%</span></span>
<span id="cb350-8"><a href="debugging.html#cb350-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span>
<span id="cb350-9"><a href="debugging.html#cb350-9" aria-hidden="true" tabindex="-1"></a><span class="co"># A tibble: 14 x 2</span></span>
<span id="cb350-10"><a href="debugging.html#cb350-10" aria-hidden="true" tabindex="-1"></a>   name      category</span>
<span id="cb350-11"><a href="debugging.html#cb350-11" aria-hidden="true" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>ord<span class="sc">&gt;</span>   </span>
<span id="cb350-12"><a href="debugging.html#cb350-12" aria-hidden="true" tabindex="-1"></a> <span class="dv">1</span> Andrea    <span class="dv">0</span>       </span>
<span id="cb350-13"><a href="debugging.html#cb350-13" aria-hidden="true" tabindex="-1"></a> <span class="dv">2</span> Barry     <span class="dv">0</span>       </span>
<span id="cb350-14"><a href="debugging.html#cb350-14" aria-hidden="true" tabindex="-1"></a> <span class="dv">3</span> Chantal   <span class="dv">0</span>       </span>
<span id="cb350-15"><a href="debugging.html#cb350-15" aria-hidden="true" tabindex="-1"></a> <span class="dv">4</span> Dorian    <span class="dv">0</span>       </span>
<span id="cb350-16"><a href="debugging.html#cb350-16" aria-hidden="true" tabindex="-1"></a> <span class="dv">5</span> Erin      <span class="dv">0</span>       </span>
<span id="cb350-17"><a href="debugging.html#cb350-17" aria-hidden="true" tabindex="-1"></a> <span class="dv">6</span> Fernand   <span class="dv">0</span>       </span>
<span id="cb350-18"><a href="debugging.html#cb350-18" aria-hidden="true" tabindex="-1"></a> <span class="dv">7</span> Gabrielle <span class="dv">0</span>       </span>
<span id="cb350-19"><a href="debugging.html#cb350-19" aria-hidden="true" tabindex="-1"></a> <span class="dv">8</span> Eight     <span class="sc">-</span><span class="dv">1</span>      </span>
<span id="cb350-20"><a href="debugging.html#cb350-20" aria-hidden="true" tabindex="-1"></a> <span class="dv">9</span> Humberto  <span class="dv">1</span>       </span>
<span id="cb350-21"><a href="debugging.html#cb350-21" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span> Ingrid    <span class="dv">1</span>       </span>
<span id="cb350-22"><a href="debugging.html#cb350-22" aria-hidden="true" tabindex="-1"></a><span class="dv">11</span> Jerry     <span class="dv">0</span>       </span>
<span id="cb350-23"><a href="debugging.html#cb350-23" aria-hidden="true" tabindex="-1"></a><span class="dv">12</span> Karen     <span class="dv">0</span>       </span>
<span id="cb350-24"><a href="debugging.html#cb350-24" aria-hidden="true" tabindex="-1"></a><span class="dv">13</span> Lorenzo   <span class="dv">0</span>       </span>
<span id="cb350-25"><a href="debugging.html#cb350-25" aria-hidden="true" tabindex="-1"></a><span class="dv">14</span> Melissa   <span class="dv">0</span>       </span></code></pre></div>
<p>It looks like 2013 was just an incredibly quiet year for tropical activity.</p>
<p>2004, however, was not. So let’s just make sure our code works by checking out 2004.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="debugging.html#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb351-2"><a href="debugging.html#cb351-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms&quot;</span>))</span>
<span id="cb351-3"><a href="debugging.html#cb351-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data</span></span>
<span id="cb351-4"><a href="debugging.html#cb351-4" aria-hidden="true" tabindex="-1"></a>  subdata <span class="ot">&lt;-</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb351-5"><a href="debugging.html#cb351-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2004</span>) <span class="sc">%&gt;%</span></span>
<span id="cb351-6"><a href="debugging.html#cb351-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(category <span class="sc">==</span> i)</span>
<span id="cb351-7"><a href="debugging.html#cb351-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb351-8"><a href="debugging.html#cb351-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">&quot;subdata dims: nrow &quot;</span>, <span class="fu">nrow</span>(subdata), <span class="st">&quot; ncol &quot;</span>, <span class="fu">ncol</span>(subdata)))</span>
<span id="cb351-9"><a href="debugging.html#cb351-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># str(subdata) works too, but produces more clutter. I started</span></span>
<span id="cb351-10"><a href="debugging.html#cb351-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># with str() and moved to dim() when I saw the problem</span></span>
<span id="cb351-11"><a href="debugging.html#cb351-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb351-12"><a href="debugging.html#cb351-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data - path + points to show the observations</span></span>
<span id="cb351-13"><a href="debugging.html#cb351-13" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> basemap <span class="sc">+</span></span>
<span id="cb351-14"><a href="debugging.html#cb351-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb351-15"><a href="debugging.html#cb351-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb351-16"><a href="debugging.html#cb351-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms in 2013&quot;</span>))</span>
<span id="cb351-17"><a href="debugging.html#cb351-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(plot) <span class="co"># Don&#39;t print plots - clutters up output at the moment</span></span>
<span id="cb351-18"><a href="debugging.html#cb351-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb351-19"><a href="debugging.html#cb351-19" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;Category 1 storms&quot;</span></span>
<span id="cb351-20"><a href="debugging.html#cb351-20" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">&quot;subdata dims: nrow 45 ncol 13&quot;</span></span></code></pre></div>
<p><img src="image/hurricane-tracks-debugging-4-1.png" width="2100" /></p>
<pre><code>[1] &quot;Category 2 storms&quot;
[1] &quot;subdata dims: nrow 39 ncol 13&quot;</code></pre>
<p><img src="image/hurricane-tracks-debugging-4-2.png" width="2100" /></p>
<pre><code>[1] &quot;Category 3 storms&quot;
[1] &quot;subdata dims: nrow 29 ncol 13&quot;</code></pre>
<p><img src="image/hurricane-tracks-debugging-4-3.png" width="2100" /></p>
<pre><code>[1] &quot;Category 4 storms&quot;
[1] &quot;subdata dims: nrow 32 ncol 13&quot;</code></pre>
<p><img src="image/hurricane-tracks-debugging-4-4.png" width="2100" /></p>
<pre><code>[1] &quot;Category 5 storms&quot;
[1] &quot;subdata dims: nrow 12 ncol 13&quot;</code></pre>
<p><img src="image/hurricane-tracks-debugging-4-5.png" width="2100" /></p>
<p>If we want to only print informative plots, we could add an if statement. Now that the code works, we can also comment out our print() statements (we could delete them, too, depending on whether we anticipate future problems with the code).</p>
<div class="sourceCode" id="cb356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb356-1"><a href="debugging.html#cb356-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb356-2"><a href="debugging.html#cb356-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(paste0(&quot;Category &quot;, i, &quot; storms&quot;))</span></span>
<span id="cb356-3"><a href="debugging.html#cb356-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb356-4"><a href="debugging.html#cb356-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Subset the data</span></span>
<span id="cb356-5"><a href="debugging.html#cb356-5" aria-hidden="true" tabindex="-1"></a>  subdata <span class="ot">&lt;-</span> storms <span class="sc">%&gt;%</span></span>
<span id="cb356-6"><a href="debugging.html#cb356-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2013</span>) <span class="sc">%&gt;%</span></span>
<span id="cb356-7"><a href="debugging.html#cb356-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(category <span class="sc">==</span> i)</span>
<span id="cb356-8"><a href="debugging.html#cb356-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb356-9"><a href="debugging.html#cb356-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print(paste0(&quot;subdata dims: nrow &quot;, nrow(subdata), &quot; ncol &quot;, ncol(subdata)))</span></span>
<span id="cb356-10"><a href="debugging.html#cb356-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">#       # str(subdata) works too, but produces more clutter. I started</span></span>
<span id="cb356-11"><a href="debugging.html#cb356-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">#       # with str() and moved to dim() when I saw the problem</span></span>
<span id="cb356-12"><a href="debugging.html#cb356-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb356-13"><a href="debugging.html#cb356-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data - path + points to show the observations</span></span>
<span id="cb356-14"><a href="debugging.html#cb356-14" aria-hidden="true" tabindex="-1"></a>  plot <span class="ot">&lt;-</span> basemap <span class="sc">+</span></span>
<span id="cb356-15"><a href="debugging.html#cb356-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_path</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb356-16"><a href="debugging.html#cb356-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">color =</span> name), <span class="at">data =</span> subdata) <span class="sc">+</span> </span>
<span id="cb356-17"><a href="debugging.html#cb356-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggtitle</span>(<span class="fu">paste0</span>(<span class="st">&quot;Category &quot;</span>, i, <span class="st">&quot; storms in 2013&quot;</span>))</span>
<span id="cb356-18"><a href="debugging.html#cb356-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb356-19"><a href="debugging.html#cb356-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(subdata) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">print</span>(plot) </span>
<span id="cb356-20"><a href="debugging.html#cb356-20" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<img src="image/hurricane-tracks-debugging-5-1.png" width="2100" />
</details>
</div>
</div>
<div id="after-an-error-has-occurred---traceback" class="section level3" number="8.4.2">
<h3><span class="header-section-number">8.4.2</span> After an error has occurred - <code>traceback()</code></h3>
<p><code>traceback()</code> can help you narrow down where an error occurs by taking you through the series of function calls that led up to the error. This can help, but it can also be pretty arcane.</p>
<details>
<summary>
<code>traceback()</code> example
</summary>
<div class="sourceCode" id="cb357"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb357-1"><a href="debugging.html#cb357-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb357-2"><a href="debugging.html#cb357-2" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="cf">function</span>(y) {</span>
<span id="cb357-3"><a href="debugging.html#cb357-3" aria-hidden="true" tabindex="-1"></a>    c <span class="ot">&lt;-</span> <span class="cf">function</span>(z) {</span>
<span id="cb357-4"><a href="debugging.html#cb357-4" aria-hidden="true" tabindex="-1"></a>     <span class="fu">stop</span>(<span class="st">&#39;there was a problem&#39;</span>)  <span class="co"># This generates an error</span></span>
<span id="cb357-5"><a href="debugging.html#cb357-5" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb357-6"><a href="debugging.html#cb357-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>()</span>
<span id="cb357-7"><a href="debugging.html#cb357-7" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb357-8"><a href="debugging.html#cb357-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">b</span>()</span>
<span id="cb357-9"><a href="debugging.html#cb357-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb357-10"><a href="debugging.html#cb357-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb357-11"><a href="debugging.html#cb357-11" aria-hidden="true" tabindex="-1"></a><span class="fu">a</span>()</span>
<span id="cb357-12"><a href="debugging.html#cb357-12" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">c</span>()<span class="sc">:</span> there was a problem</span></code></pre></div>
<p>For more information, you could run traceback</p>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="debugging.html#cb358-1" aria-hidden="true" tabindex="-1"></a><span class="fu">traceback</span>()</span></code></pre></div>
<p>Which will provide the following output:</p>
<pre><code>4: stop(&quot;there was a problem&quot;) at #4
3: c() at #6
2: b() at #8
1: a()</code></pre>
<p>Reading through this, we see that a() was called, b() was called, c() was called, and then there was an error. It’s even kind enough to tell us that the error occurred at line 4 of the code.</p>
<p>If you are running this code interactively in RStudio, it’s even easier to run <code>traceback()</code> by clicking on the “Show Traceback” option that appears when there is an error.</p>
<div class="figure"><span style="display:block;" id="fig:traceback-rerun-debug-pic"></span>
<img src="image/Rstudio_rerun_traceback.png" alt="Both Show Traceback and Rerun with Debug are useful tools" width="50%" />
<p class="caption">
Figure 8.2: Both Show Traceback and Rerun with Debug are useful tools
</p>
</div>
If you are using <code>source()</code> to run the code in Rstudio, it will even provide a link to the file and line location of the error.
<img src="image/Rstudio_rerun_traceback_source.png" alt="The output of source(&quot;code/07_debug_ex.R&quot;) as run in RStudio. The traceback() function information contains links to the files of the functions causing the error. For instance, 07_debug_ex.R#4 text is a link to line 4 of the file." />
</details>
</div>
<div id="browser---debugging-your-own-code-interactively" class="section level3" number="8.4.3">
<h3><span class="header-section-number">8.4.3</span> <code>browser()</code> - debugging your own code, interactively</h3>
<p>The <code>browser()</code> function is useful for debugging your own code. If you’re writing a function and something isn’t working quite right, you can insert a call to <code>browser()</code> in that function, and examine what’s going on.</p>
<details>
<summary>
Example of using browser()
</summary>
<p>Suppose that I want to write a function that will plot an xkcd comic in R.</p>
<p>I start with</p>
<div class="sourceCode" id="cb360"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb360-1"><a href="debugging.html#cb360-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb360-2"><a href="debugging.html#cb360-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xml2)</span>
<span id="cb360-3"><a href="debugging.html#cb360-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb360-4"><a href="debugging.html#cb360-4" aria-hidden="true" tabindex="-1"></a><span class="co"># get the most current xkcd</span></span>
<span id="cb360-5"><a href="debugging.html#cb360-5" aria-hidden="true" tabindex="-1"></a>get_xkcd <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">id =</span> <span class="cn">NULL</span>) {</span>
<span id="cb360-6"><a href="debugging.html#cb360-6" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="st">&quot;http://xkcd.com&quot;</span></span>
<span id="cb360-7"><a href="debugging.html#cb360-7" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb360-8"><a href="debugging.html#cb360-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the comic</span></span>
<span id="cb360-9"><a href="debugging.html#cb360-9" aria-hidden="true" tabindex="-1"></a>  image <span class="ot">&lt;-</span> <span class="fu">xml_find_first</span>(page, <span class="st">&quot;//div[@id=&#39;comic&#39;]/img&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb360-10"><a href="debugging.html#cb360-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pull the address out of the tag</span></span>
<span id="cb360-11"><a href="debugging.html#cb360-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_attr</span>(<span class="st">&quot;src&quot;</span>)</span>
<span id="cb360-12"><a href="debugging.html#cb360-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb360-13"><a href="debugging.html#cb360-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb360-14"><a href="debugging.html#cb360-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readPNG</span>(<span class="at">source =</span> image)</span>
<span id="cb360-15"><a href="debugging.html#cb360-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Watch this live-coding video to see how I use browser() to figure out what’s going on in the function and how to fix it. <a href="https://use.vg/j9CVIw">Vidgrid link</a>. <a href="https://youtu.be/YlMAAjRA7rM">Alternate YouTube Link</a></p>
<p>Here’s the final function</p>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="debugging.html#cb361-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(png)</span>
<span id="cb361-2"><a href="debugging.html#cb361-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xml2)</span>
<span id="cb361-3"><a href="debugging.html#cb361-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-4"><a href="debugging.html#cb361-4" aria-hidden="true" tabindex="-1"></a><span class="co"># get the most current xkcd</span></span>
<span id="cb361-5"><a href="debugging.html#cb361-5" aria-hidden="true" tabindex="-1"></a>get_xkcd <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">id =</span> <span class="cn">NULL</span>) {</span>
<span id="cb361-6"><a href="debugging.html#cb361-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb361-7"><a href="debugging.html#cb361-7" aria-hidden="true" tabindex="-1"></a>  url <span class="ot">&lt;-</span> <span class="st">&quot;http://xkcd.com&quot;</span></span>
<span id="cb361-8"><a href="debugging.html#cb361-8" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb361-9"><a href="debugging.html#cb361-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the comic</span></span>
<span id="cb361-10"><a href="debugging.html#cb361-10" aria-hidden="true" tabindex="-1"></a>  image <span class="ot">&lt;-</span> <span class="fu">xml_find_first</span>(page, <span class="st">&quot;//div[@id=&#39;comic&#39;]/img&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb361-11"><a href="debugging.html#cb361-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pull the address out of the tag</span></span>
<span id="cb361-12"><a href="debugging.html#cb361-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_attr</span>(<span class="st">&quot;src&quot;</span>)</span>
<span id="cb361-13"><a href="debugging.html#cb361-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb361-14"><a href="debugging.html#cb361-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fix image address so that we can access the image</span></span>
<span id="cb361-15"><a href="debugging.html#cb361-15" aria-hidden="true" tabindex="-1"></a>  image <span class="ot">&lt;-</span> <span class="fu">substr</span>(image, <span class="dv">3</span>, <span class="fu">nchar</span>(image))</span>
<span id="cb361-16"><a href="debugging.html#cb361-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb361-17"><a href="debugging.html#cb361-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Download the file to a temp file and read from there</span></span>
<span id="cb361-18"><a href="debugging.html#cb361-18" aria-hidden="true" tabindex="-1"></a>  file_location <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.png&quot;</span>)</span>
<span id="cb361-19"><a href="debugging.html#cb361-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(image, <span class="at">destfile =</span> file_location, <span class="at">quiet =</span> T)</span>
<span id="cb361-20"><a href="debugging.html#cb361-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb361-21"><a href="debugging.html#cb361-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">readPNG</span>(<span class="at">source =</span> file_location)</span>
<span id="cb361-22"><a href="debugging.html#cb361-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb361-23"><a href="debugging.html#cb361-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb361-24"><a href="debugging.html#cb361-24" aria-hidden="true" tabindex="-1"></a><span class="fu">get_xkcd</span>() <span class="sc">%&gt;%</span></span>
<span id="cb361-25"><a href="debugging.html#cb361-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.raster</span>() <span class="sc">%&gt;%</span></span>
<span id="cb361-26"><a href="debugging.html#cb361-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code></pre></div>
<img src="image/browser-demo-2-1.png" width="2100" />
</details>
<div id="try-it-out-24" class="section level4 unnumbered tryitout">
<h4>Try it out</h4>
<p>Each xkcd has a corresponding ID number (ordered sequentially from 1 to 2328 at the time this was written). Modify the XKCD function above to make use of the id parameter, so that you can pass in an ID number and get the relevant comic. Use browser() to help you figure out what logic you need to add. You should not need to change the web scraping code - the only change should be to the URL.
What things might you add to make this function “defensive programming” compatible?</p>
<details>
<summary>
Solution
</summary>
<div class="sourceCode" id="cb362"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb362-1"><a href="debugging.html#cb362-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get the most current xkcd or the specified number</span></span>
<span id="cb362-2"><a href="debugging.html#cb362-2" aria-hidden="true" tabindex="-1"></a>get_xkcd <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">id =</span> <span class="cn">NULL</span>) {</span>
<span id="cb362-3"><a href="debugging.html#cb362-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(id)) {</span>
<span id="cb362-4"><a href="debugging.html#cb362-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Have to get the location of the image ourselves</span></span>
<span id="cb362-5"><a href="debugging.html#cb362-5" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">&lt;-</span> <span class="st">&quot;http://xkcd.com&quot;</span></span>
<span id="cb362-6"><a href="debugging.html#cb362-6" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.numeric</span>(id)) {</span>
<span id="cb362-7"><a href="debugging.html#cb362-7" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;http://xkcd.com/&quot;</span>, id, <span class="st">&quot;/&quot;</span>)</span>
<span id="cb362-8"><a href="debugging.html#cb362-8" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb362-9"><a href="debugging.html#cb362-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># only allow numeric or null input</span></span>
<span id="cb362-10"><a href="debugging.html#cb362-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">&quot;To get current xkcd, pass in NULL, otherwise, pass in a valid comic number&quot;</span>)</span>
<span id="cb362-11"><a href="debugging.html#cb362-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb362-12"><a href="debugging.html#cb362-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-13"><a href="debugging.html#cb362-13" aria-hidden="true" tabindex="-1"></a>  page <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb362-14"><a href="debugging.html#cb362-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Find the comic</span></span>
<span id="cb362-15"><a href="debugging.html#cb362-15" aria-hidden="true" tabindex="-1"></a>  image <span class="ot">&lt;-</span> <span class="fu">xml_find_first</span>(page, <span class="st">&quot;//div[@id=&#39;comic&#39;]/img&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb362-16"><a href="debugging.html#cb362-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># pull the address out of the tag</span></span>
<span id="cb362-17"><a href="debugging.html#cb362-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xml_attr</span>(<span class="st">&quot;src&quot;</span>)</span>
<span id="cb362-18"><a href="debugging.html#cb362-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Fix image address so that we can access the image</span></span>
<span id="cb362-19"><a href="debugging.html#cb362-19" aria-hidden="true" tabindex="-1"></a>  image <span class="ot">&lt;-</span> <span class="fu">substr</span>(image, <span class="dv">3</span>, <span class="fu">nchar</span>(image)) <span class="co"># cut the first 2 characters off</span></span>
<span id="cb362-20"><a href="debugging.html#cb362-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-21"><a href="debugging.html#cb362-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># make temp file</span></span>
<span id="cb362-22"><a href="debugging.html#cb362-22" aria-hidden="true" tabindex="-1"></a>  location <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;png&quot;</span>)</span>
<span id="cb362-23"><a href="debugging.html#cb362-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(image, <span class="at">destfile =</span> location, <span class="at">quiet =</span> T)</span>
<span id="cb362-24"><a href="debugging.html#cb362-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-25"><a href="debugging.html#cb362-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This checks to make sure we saved the file correctly</span></span>
<span id="cb362-26"><a href="debugging.html#cb362-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">file.exists</span>(location)) {</span>
<span id="cb362-27"><a href="debugging.html#cb362-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">readPNG</span>(<span class="at">source =</span> location)</span>
<span id="cb362-28"><a href="debugging.html#cb362-28" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb362-29"><a href="debugging.html#cb362-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Give a good informative error message</span></span>
<span id="cb362-30"><a href="debugging.html#cb362-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="fu">paste</span>(<span class="st">&quot;Something went wrong saving the image at &quot;</span>, image, <span class="st">&quot; to &quot;</span>, location))</span>
<span id="cb362-31"><a href="debugging.html#cb362-31" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb362-32"><a href="debugging.html#cb362-32" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb362-33"><a href="debugging.html#cb362-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb362-34"><a href="debugging.html#cb362-34" aria-hidden="true" tabindex="-1"></a><span class="fu">get_xkcd</span>(<span class="dv">2259</span>) <span class="sc">%&gt;%</span></span>
<span id="cb362-35"><a href="debugging.html#cb362-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.raster</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb362-36"><a href="debugging.html#cb362-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code></pre></div>
<img src="image/xkcd-tryitout-solution-1.png" width="2100" />
</details>
</div>
</div>
<div id="debug---the-general-debugging-workhorse" class="section level3" number="8.4.4">
<h3><span class="header-section-number">8.4.4</span> <code>debug()</code> - the general debugging workhorse</h3>
<p>In the <code>traceback()</code> Rstudio output, the other option is “rerun with debug.” In short, debug mode opens up a new interactive session inside the function evaluation environment. This lets you observe what’s going on in the function, pinpoint the error (and what causes it), and potentially fix the error, all in one neat workflow.</p>
<p><code>debug()</code> is most useful when you’re working with code that you didn’t write yourself. So, if you can’t change the code in the function causing the error, <code>debug()</code> is the way to go. Otherwise, using <code>browser()</code> is generally easier. Essentially, <code>debug()</code> places a <code>browser()</code> statement at the first line of a function, but without having to actually alter the function’s source code.</p>
<details>
<summary>
Example of using debug
</summary>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="debugging.html#cb363-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb363-2"><a href="debugging.html#cb363-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-3"><a href="debugging.html#cb363-3" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">lm</span>(Species <span class="sc">~</span> ., <span class="at">data =</span> iris)</span>
<span id="cb363-4"><a href="debugging.html#cb363-4" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">model.response</span>(mf, <span class="st">&quot;numeric&quot;</span>)<span class="sc">:</span> using type <span class="ot">=</span> <span class="st">&quot;numeric&quot;</span> with a factor</span>
<span id="cb363-5"><a href="debugging.html#cb363-5" aria-hidden="true" tabindex="-1"></a>response will be ignored</span>
<span id="cb363-6"><a href="debugging.html#cb363-6" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">Ops.factor</span>(y, z<span class="sc">$</span>residuals)<span class="sc">:</span> <span class="st">&#39;-&#39;</span> not meaningful <span class="cf">for</span> factors</span>
<span id="cb363-7"><a href="debugging.html#cb363-7" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(tmp)</span>
<span id="cb363-8"><a href="debugging.html#cb363-8" aria-hidden="true" tabindex="-1"></a>Warning <span class="cf">in</span> <span class="fu">Ops.factor</span>(r, <span class="dv">2</span>)<span class="sc">:</span> <span class="st">&#39;^&#39;</span> not meaningful <span class="cf">for</span> factors</span>
<span id="cb363-9"><a href="debugging.html#cb363-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-10"><a href="debugging.html#cb363-10" aria-hidden="true" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb363-11"><a href="debugging.html#cb363-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lm</span>(<span class="at">formula =</span> Species <span class="sc">~</span> ., <span class="at">data =</span> iris)</span>
<span id="cb363-12"><a href="debugging.html#cb363-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb363-13"><a href="debugging.html#cb363-13" aria-hidden="true" tabindex="-1"></a>Residuals<span class="sc">:</span></span>
<span id="cb363-14"><a href="debugging.html#cb363-14" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">quantile.default</span>(resid)<span class="sc">:</span> (unordered) factors are not allowed</span></code></pre></div>
<p>We get this weird warning, and then an error about factors when we use summary() to look at the coefficients.</p>
<div class="sourceCode" id="cb364"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb364-1"><a href="debugging.html#cb364-1" aria-hidden="true" tabindex="-1"></a><span class="fu">debug</span>(lm) <span class="co"># turn debugging on</span></span>
<span id="cb364-2"><a href="debugging.html#cb364-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-3"><a href="debugging.html#cb364-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-4"><a href="debugging.html#cb364-4" aria-hidden="true" tabindex="-1"></a>tmp <span class="ot">&lt;-</span> <span class="fu">lm</span>(Species <span class="sc">~</span> ., <span class="at">data =</span> iris)</span>
<span id="cb364-5"><a href="debugging.html#cb364-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(tmp)</span>
<span id="cb364-6"><a href="debugging.html#cb364-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb364-7"><a href="debugging.html#cb364-7" aria-hidden="true" tabindex="-1"></a><span class="fu">undebug</span>(lm) <span class="co"># turn debugging off)</span></span></code></pre></div>
<div class="figure">
<img src="image/07_debug_init.png" alt="" />
<p class="caption">The first thing I see when I run lm after turning on debug (screenshot)</p>
</div>
<div class="figure">
<img src="image/07_debug_console.png" alt="" />
<p class="caption">The variables passed into the lm function are available as named and used in the function. In addition, we have some handy buttons in the console window that will let us ‘drive’ through the function</p>
</div>
<p>After pressing “next” a few times, you can see that I’ve stepped through the first few lines of the lm function.</p>
<p><img src="image/07_debug_console2.png" alt="Stepping through the function. The arrow on the left side in the editor window shows which line of code we’re currently at." />
We can see that once we’re at line 21, we get a warning about using type with a factor response, and that the warning occurs during a call to the <code>model.response</code> function. So, we’ve narrowed our problem down - we passed in a numeric variable as the response (y) variable, but it’s a factor, so our results aren’t going to mean much. We were using the function wrong.</p>
<p>We probably could have gotten there from reading the error message carefully, but this has allowed us to figure out exactly what happened, where it happened, and why it happened.</p>
<div class="figure">
<img src="image/07_debug_console_exit.png" alt="" />
<p class="caption">I can hit “Stop” or type “Q” to exit the debug environment.</p>
</div>
But, until I run <code>undebug(lm)</code>, every call to <code>lm</code> will take me into the debug window.
</details>
<p><code>undebug(f)</code> will remove the debug flag on the function <code>f</code>. <code>debugonce(f)</code> will only debug f the first time it is run.</p>
</div>
<div id="try-it-out-25" class="section level3 unnumbered tryitout">
<h3>Try it out</h3>
<p>larger(x, y) is supposed to return the elementwise maximum of two vectors.</p>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="debugging.html#cb365-1" aria-hidden="true" tabindex="-1"></a>larger <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) { </span>
<span id="cb365-2"><a href="debugging.html#cb365-2" aria-hidden="true" tabindex="-1"></a>  y.is.bigger <span class="ot">&lt;-</span> y <span class="sc">&gt;</span> x </span>
<span id="cb365-3"><a href="debugging.html#cb365-3" aria-hidden="true" tabindex="-1"></a>  x[y.is.bigger] <span class="ot">&lt;-</span> y[y.is.bigger] </span>
<span id="cb365-4"><a href="debugging.html#cb365-4" aria-hidden="true" tabindex="-1"></a>  x</span>
<span id="cb365-5"><a href="debugging.html#cb365-5" aria-hidden="true" tabindex="-1"></a>} </span>
<span id="cb365-6"><a href="debugging.html#cb365-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb365-7"><a href="debugging.html#cb365-7" aria-hidden="true" tabindex="-1"></a><span class="fu">larger</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">11</span>))</span>
<span id="cb365-8"><a href="debugging.html#cb365-8" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">2</span>  <span class="dv">5</span> <span class="dv">11</span></span></code></pre></div>
<div class="sourceCode" id="cb366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb366-1"><a href="debugging.html#cb366-1" aria-hidden="true" tabindex="-1"></a><span class="fu">larger</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="dv">6</span>)</span>
<span id="cb366-2"><a href="debugging.html#cb366-2" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">6</span> <span class="cn">NA</span> <span class="dv">10</span></span></code></pre></div>
<p>Why is there an NA in the second example? It should be a 6. Figure out why this happens, then try to fix it.</p>
<details>
<summary>
Solution
</summary>
<p>I’ll replicate “debug” in non-interactive mode by setting up an environment where x and y are defined</p>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="debugging.html#cb367-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-2"><a href="debugging.html#cb367-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb367-3"><a href="debugging.html#cb367-3" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb367-4"><a href="debugging.html#cb367-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-5"><a href="debugging.html#cb367-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Inside of larger() with x = c(1, 5, 10), y = 6</span></span>
<span id="cb367-6"><a href="debugging.html#cb367-6" aria-hidden="true" tabindex="-1"></a>(y.is.bigger <span class="ot">&lt;-</span> y <span class="sc">&gt;</span> x ) <span class="co"># putting something in () prints it out</span></span>
<span id="cb367-7"><a href="debugging.html#cb367-7" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="cn">TRUE</span>  <span class="cn">TRUE</span> <span class="cn">FALSE</span></span>
<span id="cb367-8"><a href="debugging.html#cb367-8" aria-hidden="true" tabindex="-1"></a>y[y.is.bigger] <span class="co"># This isn&#39;t quite what we were going for, but it&#39;s what&#39;s causing the issue</span></span>
<span id="cb367-9"><a href="debugging.html#cb367-9" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>]  <span class="dv">6</span> <span class="cn">NA</span></span>
<span id="cb367-10"><a href="debugging.html#cb367-10" aria-hidden="true" tabindex="-1"></a>x[y.is.bigger] <span class="co"># What gets replaced</span></span>
<span id="cb367-11"><a href="debugging.html#cb367-11" aria-hidden="true" tabindex="-1"></a>[<span class="dv">1</span>] <span class="dv">1</span> <span class="dv">5</span></span>
<span id="cb367-12"><a href="debugging.html#cb367-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-13"><a href="debugging.html#cb367-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb367-14"><a href="debugging.html#cb367-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Better option</span></span>
<span id="cb367-15"><a href="debugging.html#cb367-15" aria-hidden="true" tabindex="-1"></a>larger <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) { </span>
<span id="cb367-16"><a href="debugging.html#cb367-16" aria-hidden="true" tabindex="-1"></a>  y.is.bigger <span class="ot">&lt;-</span> y <span class="sc">&gt;</span> x </span>
<span id="cb367-17"><a href="debugging.html#cb367-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ifelse</span>(y.is.bigger, y, x)</span>
<span id="cb367-18"><a href="debugging.html#cb367-18" aria-hidden="true" tabindex="-1"></a>} </span></code></pre></div>
</details>
</div>
</div>
<div id="debugging-tools-in-sas" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Debugging Tools in SAS</h2>
<p>In SAS, there are two stages that occur after you submit lines to the console.</p>
<ul>
<li>The Compilation Phase: code is parsed. In this step, SAS will catch the logic errors, misspellings, missing key words, etc.</li>
<li>The Execution Phase: program is run. In this step, SAS will catch any wrong assignments, loop issues, etc.</li>
</ul>
<p>Sas recognizes four types of errors:</p>
<ul>
<li>Syntax errors - violations of the language structure</li>
<li>Semantic errors - structure of the statement is incorrect, but the syntax is correct. e.g. trying to reference an index that doesn’t exist.</li>
<li>Execution-time errors - errors that occur when the compiled function is run on data values – e.g. division by zero</li>
<li>Data errors - errors that occur when statements are correct but data is invalid (taking the log of a negative number, etc.)</li>
</ul>
<p>SAS is built around enterprise users, as opposed to R’s open-source philosophy. SAS code also is more formulaic than R code, which means it is usually easier to figure out what is going wrong with the code. As a result, you may find that errors in your SAS code are much easier to diagnose than errors in your R code. Generally, it will tell you exactly where you are missing a semicolon, or exactly what word it thinks you’ve misspelled (and usually, it tries to correct that for you, but it doesn’t always succeed). In my experience with SAS (which is very limited and mostly contained in this book), SAS error messages are much easier to google and find solutions, right up until you’re working in Linux or some other not-well-supported system and the error is related to how the underlying OS handles some task. As a downside, though, trying to do a task SAS doesn’t think you need to do can be much more difficult than necessary.</p>
<p>See the references section for a couple of good guides to SAS error statements and warnings. These guides are likely sufficient for most of your SAS debugging needs.</p>
<p>There are certainly other errors which can occur in SAS – logic errors are not something SAS can protect you from . These errors can have dramatic consequences, as demonstrated in <a href="https://twitter.com/eric_weinhandl/status/1253127109830156289">this twitter thread</a> about a <a href="https://twitter.com/hswapnil/status/1252783448055517185">JAMA retraction due to a coding error</a>. To debug these types of errors, you can use the same print() techniques demonstrated in R. For these types of errors, there’s nothing special about what language you’re using (outside of the usual quirks of every language) - the error is in the logic, not the encoding of that logic.</p>
</div>
<div id="minimal-working-examples" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Minimal Working Examples</h2>
<p>If all else has failed, and you can’t figure out what is causing your error, it’s probably time to ask for help. If you have a friend or buddy that knows the language you’re working in, by all means ask for help sooner - use them as a rubber duck if you have to. But when you ask for help online, often you’re asking people who are much more knowledgeable about the topic - members of R core and SAS browse stackoverflow and may drop in and help you out. Under those circumstances, it’s better to make the task of helping you as easy as possible because it shows respect for their time. The same thing goes for your supervisors and professors.</p>
<p>So, with that said, there are numerous resources for writing what’s called a “minimal working example,” “reproducible example” (commonly abbreviated reprex), or MCVE (minimal complete verifiable example). Much of this is lifted directly from the StackOverflow post describing a <a href="https://stackoverflow.com/help/minimal-reproducible-example">minimal reproducible example</a>.</p>
<p>The goal is to reproduce the error message with information that is</p>
<ul>
<li><strong>minimal</strong> - as little code as possible to still reproduce the problem</li>
<li><strong>complete</strong> - everything necessary to reproduce the issue is contained in the description/question</li>
<li><strong>reproducible</strong> - test the code you provide to reproduce the problem.</li>
</ul>
<p>You should format your question to make it as easy as possible to help you. Make it so that code can be copied from your post directly and pasted into a terminal. Describe what you see and what you’d hope to see if the code were working.</p>
<div id="example-mwes" class="section level3 example" number="8.6.1">
<h3><span class="header-section-number">8.6.1</span> Example: MWEs</h3>
<p>You haven’t gotten to module 8 yet, but at one point I had issues with SAS graphs rendering in black and white most of the time.</p>
<p>I started debugging the issue with the following code chunk:</p>
<pre><code>{r sas-cat-aes-map-07, engine=&quot;sashtml&quot;, engine.path=&quot;sas&quot;, fig.path = &quot;image/&quot;}
libname classdat &quot;sas/&quot;;

PROC SGPLOT data=classdat.fbiwide; 
SCATTER x = Population y = Assault /
  markerattrs=(size=8pt symbol=circlefilled) 
  group = Abb; /* maps to point color by default */
RUN;
QUIT; 
  
PROC SGPLOT data=classdat.fbiwide NOAUTOLEGEND; /* dont generate a legend */
SCATTER x = Population y = Assault /
  markercharattrs=(size=8) 
  markerchar = Abb /* specify marker character variable */
    group = Abb
  ; 
RUN;
QUIT; </code></pre>
<p>(I moved the chunk header to the next line so that you can see the whole chunk)</p>
<p>After running the code separately in SAS and getting a figure that looked like what I’d expected, I set out to construct a reproducible example so that I could post to the <a href="https://github.com/Hemken/SASmarkdown/issues/14">SASmarkdown github issues page</a> and ask for help.</p>
<p>The first thing I did was strip out all of the extra stuff that didn’t need to be in the chunk - this chunk generates 2 pictures; I only need one. This chunk requires the fbiwide data; I replaced it with a dataset in the <code>sashelp</code> library.</p>
<p>When I was done, the chunk looked like this:</p>
<pre><code>PROC SGPLOT data=sashelp.snacks;
SCATTER x = date y = QtySold /
  markerattrs=(size=8pt symbol=circlefilled)
  group = product; /* maps to point color by default */
RUN;
QUIT;</code></pre>
<p>Then, I started constructing my reproducible example. I ran <code>?sas_enginesetup</code> to get to a SASmarkdown help page, because I remembered it had a nice way to generate and run markdown files from R directly (without saving the Rmd file).</p>
<p>I copied the example from that page:</p>
<pre><code>indoc &lt;- &#39;
---
title: &quot;Basic SASmarkdown Doc&quot;
author: &quot;Doug Hemken&quot;
output: html_document
---

# I&#39;ve deleted the intermediate chunks because they screw 
# everything up when I print this chunk out
&#39;
knitr::knit(text=indoc, output=&quot;test.md&quot;)
rmarkdown::render(&quot;test.md&quot;)</code></pre>
<p>Then, I created several chunks which would do the following:
1. Write the minimal example SAS code above to a file
2. Call that file in a SASmarkdown chunk using the <code>%include</code> macro, which dumps the listed file into the SAS program
3. Call the file using SAS batch mode</p>
<p>Finally, I included the image generated from the batch mode call manually.</p>
<p>You can see the resulting code <a href="https://github.com/Hemken/SASmarkdown/issues/14">here</a>.</p>
<p>I pasted my example into the issues page, and then included some additional information:</p>
<ol style="list-style-type: decimal">
<li>A screenshot of the rendered page</li>
<li>The image files themselves</li>
<li>A description of what happened</li>
<li>My suspicions (some obvious option I’m missing?)</li>
<li>An additional line of R code that would delete any files created if someone ran my example. Because file clutter sucks.</li>
</ol>
<p>This process took me about 45 minutes, but that was still much shorter than the time I’d spent rerunning code trying to get it to work with no success.</p>
<p>In less than 24 hours, the package maintainer responded with a (admittedly terse) explanation of what he thought caused the problem. I had to do some additional research to figure out what that meant, but once I had my reproducible example working in color, I posted that code (so that anyone else with the same problem would know what to do).</p>
<p>Then, I had to tinker with the book a bit to figure out if there were easier ways to get the same result. Hopefully, at this point, all of the SAS graphs are now in full color, as modern graphics intended.</p>
</div>
<div id="try-it-out-26" class="section level3 tryitout" number="8.6.2">
<h3><span class="header-section-number">8.6.2</span> Try It Out</h3>
<p>Use <a href="other/Debugging_exercise.html">this list of StackOverflow posts</a> to try out your new debugging techniques. Can you figure out what’s wrong? What information would you need from the poster in order to come up with a solution?</p>
</div>
</div>
<div id="references-2" class="section level2 unnumbered learn-more">
<h2>References</h2>
<ul>
<li><p><a href="https://doi.org/10.1109/85.728224">Stalking the elusive computer bug</a> - the etymology and historical use of the term “debugging,” from Thomas Edison to Grace Hopper.</p></li>
<li><p><a href="http://web.mit.edu/6.031/www/fa17/classes/13-debugging/">Debugging</a> (lecture materials from software construction class at MIT) - written with java, but mostly comprehensible for any language.</p></li>
<li><p><a href="https://support.rstudio.com/hc/en-us/articles/205612627-Debugging-with-RStudio">Debugging with RStudio</a></p></li>
<li><p><a href="http://www.biostat.jhsph.edu/~rpeng/docs/R-debug-tools.pdf">An Introduction to the Interactive Debugging Tools in R</a></p></li>
<li><p><a href="https://stackoverflow.com/questions/4442518/general-suggestions-for-debugging-in-r">Stackoverflow: General Suggestions for Debugging in R</a></p></li>
<li><p><a href="https://rstats.wtf/debugging-r-code.html">WTF R - What They Forgot to Teach You about R Debugging chapter</a></p></li>
<li><p><a href="https://support.sas.com/resources/papers/proceedings16/2748-2016.pdf">Debugging 101 in SAS</a></p></li>
<li><p><a href="https://support.sas.com/publishing/pubcat/chaps/57743.pdf">Debugging SAS Programs - Ch. 1: The Basics of Debugging</a></p></li>
<li><p><a href="https://rstudio.com/resources/webinars/help-me-help-you-creating-reproducible-examples/">A webinar by Jenny Bryan/RStudio on Reproducible Examples</a></p></li>
</ul>

</div>
</div>



<div class="footnotes">
<hr />
<ol start="26">
<li id="fn26"><p>the 0th step is from the 1st edition, the remaining steps are from the 2nd.<a href="debugging.html#fnref26" class="footnote-back">↩︎</a></p></li>
<li id="fn27"><p>Some people use cats, but I find that they don’t meet the nonjudgemental criteria. Of course, they’re equally judgemental whether your code works or not, so maybe that works if you’re a cat person, which I am not. Dogs, in my experience, can work, but often will try to comfort you when they realize you’re upset, which both helps and lessens your motivation to fix the problem. A rubber duck is the perfect dispassionate listener.<a href="debugging.html#fnref27" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="transforming-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-vis-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/srvanderplas/unl-stat850/edit/master/08-debugging.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["https://github.com/srvanderplas/unl-stat850/raw/master/08-debugging.Rmd"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
